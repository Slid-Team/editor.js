{"version":3,"sources":["webpack://EditorJS/webpack/universalModuleDefinition","webpack://EditorJS/webpack/bootstrap","webpack://EditorJS/./node_modules/@babel/polyfill/lib/noConflict.js","webpack://EditorJS/./node_modules/@babel/polyfill/noConflict.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/es6/index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/array/flat-map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/array/includes.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/object/entries.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/object/get-own-property-descriptors.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/object/values.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/promise/finally.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/string/pad-end.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/string/pad-start.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/string/trim-end.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/string/trim-start.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/symbol/async-iterator.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_a-function.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_a-number-value.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_add-to-unscopables.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_advance-string-index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_an-instance.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_an-object.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-copy-within.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-fill.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-includes.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-methods.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-reduce.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-species-constructor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-species-create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_bind.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_classof.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_cof.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_collection-strong.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_collection-weak.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_collection.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_core.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_create-property.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_ctx.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_date-to-iso-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_date-to-primitive.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_defined.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_descriptors.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_dom-create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_enum-bug-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_enum-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_export.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_fails-is-regexp.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_fails.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_fix-re-wks.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_flags.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_flatten-into-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_for-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_function-to-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_global.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_has.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_hide.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_html.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_ie8-dom-define.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_inherit-if-required.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_invoke.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iobject.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-array-iter.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-object.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-regexp.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-call.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-define.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-detect.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-step.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iterators.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_library.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_math-expm1.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_math-fround.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_math-log1p.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_math-sign.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_meta.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_microtask.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_new-promise-capability.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-assign.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-dp.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-dps.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gopd.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gopn-ext.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gopn.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gops.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gpo.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-keys-internal.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-pie.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-sap.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-to-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_own-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_parse-float.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_parse-int.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_perform.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_promise-resolve.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_property-desc.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_redefine-all.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_redefine.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_regexp-exec-abstract.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_regexp-exec.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_same-value.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_set-proto.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_set-species.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_set-to-string-tag.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_shared-key.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_shared.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_species-constructor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_strict-method.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-at.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-context.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-html.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-pad.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-repeat.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-trim.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-ws.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_task.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-absolute-index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-iobject.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-length.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-object.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-primitive.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_typed-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_typed-buffer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_typed.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_uid.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_user-agent.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_validate-collection.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_wks-define.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_wks-ext.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_wks.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/core.get-iterator-method.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.copy-within.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.every.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.fill.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.filter.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.find-index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.find.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.for-each.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.from.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.index-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.is-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.iterator.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.join.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.last-index-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.reduce-right.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.reduce.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.slice.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.some.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.sort.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.species.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.now.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.to-iso-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.to-json.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.to-primitive.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.to-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.function.bind.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.function.has-instance.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.function.name.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.acosh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.asinh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.atanh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.cbrt.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.clz32.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.cosh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.expm1.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.fround.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.hypot.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.imul.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.log10.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.log1p.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.log2.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.sign.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.sinh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.tanh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.trunc.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.constructor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.epsilon.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.is-finite.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.is-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.is-nan.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.is-safe-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.max-safe-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.min-safe-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.parse-float.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.parse-int.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.to-fixed.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.to-precision.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.assign.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.define-properties.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.define-property.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.freeze.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.get-own-property-descriptor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.get-own-property-names.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.get-prototype-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.is-extensible.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.is-frozen.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.is-sealed.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.is.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.prevent-extensions.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.seal.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.set-prototype-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.to-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.parse-float.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.parse-int.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.promise.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.apply.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.construct.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.define-property.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.delete-property.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.enumerate.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.get-prototype-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.get.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.has.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.is-extensible.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.own-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.prevent-extensions.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.set-prototype-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.set.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.constructor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.exec.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.flags.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.match.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.replace.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.search.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.split.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.to-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.set.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.anchor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.big.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.blink.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.bold.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.code-point-at.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.ends-with.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.fixed.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.fontcolor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.fontsize.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.from-code-point.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.includes.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.italics.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.iterator.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.link.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.raw.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.repeat.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.small.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.starts-with.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.strike.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.sub.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.sup.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.trim.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.symbol.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.array-buffer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.data-view.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.float32-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.float64-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.int16-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.int32-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.int8-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.uint16-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.uint32-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.uint8-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.weak-map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.weak-set.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.array.flat-map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.array.includes.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.object.entries.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.object.values.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.promise.finally.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.string.pad-end.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.string.pad-start.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.string.trim-left.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.string.trim-right.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/web.dom.iterable.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/web.immediate.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/web.timers.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/web/index.js","webpack://EditorJS/./node_modules/@babel/register/lib/browser.js","webpack://EditorJS/./node_modules/@codexteam/icons/dist/index.mjs","webpack://EditorJS/./node_modules/@codexteam/shortcuts/dist/shortcuts.js","webpack://EditorJS/./node_modules/codex-notifier/dist/bundle.js","webpack://EditorJS/./node_modules/codex-tooltip/dist/tooltip.js","webpack://EditorJS/./node_modules/html-janitor/src/html-janitor.js","webpack://EditorJS/./node_modules/nanoid/index.browser.js","webpack://EditorJS/./node_modules/nanoid/url-alphabet/index.js","webpack://EditorJS/./node_modules/regenerator-runtime/runtime.js","webpack://EditorJS/./src/codex.ts","webpack://EditorJS/./src/components/__module.ts","webpack://EditorJS/./src/components/block-tunes/block-tune-delete.ts","webpack://EditorJS/./src/components/block-tunes/block-tune-move-down.ts","webpack://EditorJS/./src/components/block-tunes/block-tune-move-up.ts","webpack://EditorJS/./src/components/block/api.ts","webpack://EditorJS/./src/components/block/index.ts","webpack://EditorJS/./src/components/blocks.ts","webpack://EditorJS/./src/components/core.ts","webpack://EditorJS/./src/components/dom.ts","webpack://EditorJS/./src/components/domIterator.ts","webpack://EditorJS/./src/components/errors/critical.ts","webpack://EditorJS/./src/components/events/BlockChanged.ts","webpack://EditorJS/./src/components/events/BlockHovered.ts","webpack://EditorJS/./src/components/events/FakeCursorAboutToBeToggled.ts","webpack://EditorJS/./src/components/events/FakeCursorHaveBeenSet.ts","webpack://EditorJS/./src/components/events/RedactorDomChanged.ts","webpack://EditorJS/./src/components/events/index.ts","webpack://EditorJS/./src/components/flipper.ts","webpack://EditorJS/./src/components/i18n/index.ts","webpack://EditorJS/./src/components/i18n/namespace-internal.ts","webpack://EditorJS/./src/components/inline-tools/inline-tool-bold.ts","webpack://EditorJS/./src/components/inline-tools/inline-tool-italic.ts","webpack://EditorJS/./src/components/inline-tools/inline-tool-link.ts","webpack://EditorJS/./src/components/modules/api/blocks.ts","webpack://EditorJS/./src/components/modules/api/caret.ts","webpack://EditorJS/./src/components/modules/api/events.ts","webpack://EditorJS/./src/components/modules/api/i18n.ts","webpack://EditorJS/./src/components/modules/api/index.ts","webpack://EditorJS/./src/components/modules/api/inlineToolbar.ts","webpack://EditorJS/./src/components/modules/api/listeners.ts","webpack://EditorJS/./src/components/modules/api/notifier.ts","webpack://EditorJS/./src/components/modules/api/readonly.ts","webpack://EditorJS/./src/components/modules/api/sanitizer.ts","webpack://EditorJS/./src/components/modules/api/saver.ts","webpack://EditorJS/./src/components/modules/api/selection.ts","webpack://EditorJS/./src/components/modules/api/styles.ts","webpack://EditorJS/./src/components/modules/api/toolbar.ts","webpack://EditorJS/./src/components/modules/api/tooltip.ts","webpack://EditorJS/./src/components/modules/api/ui.ts","webpack://EditorJS/./src/components/modules/blockEvents.ts","webpack://EditorJS/./src/components/modules/blockManager.ts","webpack://EditorJS/./src/components/modules/blockSelection.ts","webpack://EditorJS/./src/components/modules/caret.ts","webpack://EditorJS/./src/components/modules/crossBlockSelection.ts","webpack://EditorJS/./src/components/modules/dragNDrop.ts","webpack://EditorJS/./src/components/modules/index.ts","webpack://EditorJS/./src/components/modules/modificationsObserver.ts","webpack://EditorJS/./src/components/modules/paste.ts","webpack://EditorJS/./src/components/modules/readonly.ts","webpack://EditorJS/./src/components/modules/rectangleSelection.ts","webpack://EditorJS/./src/components/modules/renderer.ts","webpack://EditorJS/./src/components/modules/saver.ts","webpack://EditorJS/./src/components/modules/toolbar/blockSettings.ts","webpack://EditorJS/./src/components/modules/toolbar/conversion.ts","webpack://EditorJS/./src/components/modules/toolbar/index.ts","webpack://EditorJS/./src/components/modules/toolbar/inline.ts","webpack://EditorJS/./src/components/modules/tools.ts","webpack://EditorJS/./src/components/modules/ui.ts","webpack://EditorJS/./src/components/polyfills.ts","webpack://EditorJS/./src/components/selection.ts","webpack://EditorJS/./src/components/tools/base.ts","webpack://EditorJS/./src/components/tools/block.ts","webpack://EditorJS/./src/components/tools/collection.ts","webpack://EditorJS/./src/components/tools/factory.ts","webpack://EditorJS/./src/components/tools/inline.ts","webpack://EditorJS/./src/components/tools/tune.ts","webpack://EditorJS/./src/components/ui/toolbox.ts","webpack://EditorJS/./src/components/utils.ts","webpack://EditorJS/./src/components/utils/blocks.ts","webpack://EditorJS/./src/components/utils/events.ts","webpack://EditorJS/./src/components/utils/listeners.ts","webpack://EditorJS/./src/components/utils/mutations.ts","webpack://EditorJS/./src/components/utils/notifier.ts","webpack://EditorJS/./src/components/utils/popover.ts","webpack://EditorJS/./src/components/utils/promise-queue.ts","webpack://EditorJS/./src/components/utils/resolve-aliases.ts","webpack://EditorJS/./src/components/utils/sanitizer.ts","webpack://EditorJS/./src/components/utils/scroll-locker.ts","webpack://EditorJS/./src/components/utils/shortcuts.ts","webpack://EditorJS/./src/components/utils/tooltip.ts","webpack://EditorJS/./src/styles/main.css","webpack://EditorJS/./src/tools/stub/index.ts","webpack://EditorJS/./types/events/block/BlockAdded.ts","webpack://EditorJS/./types/events/block/BlockChanged.ts","webpack://EditorJS/./types/events/block/BlockMoved.ts","webpack://EditorJS/./types/events/block/BlockRemoved.ts"],"names":["EditorJS","constructor","configuration","onReady","_","editor","Core","isReady","then","exportAPI","version","VERSION","fieldsToExport","destroy","Object","values","moduleInstances","forEach","moduleInstance","listeners","removeAll","field","prototype","hasOwnProperty","call","setPrototypeOf","API","methods","shorthands","blocks","clear","render","caret","focus","events","on","off","emit","saver","save","entries","key","name","alias","Module","config","eventsDispatcher","Listeners","element","eventType","handler","options","mutableListenerIds","push","clearAll","id","offById","new","target","TypeError","state","Editor","removeAllNodes","nodes","node","HTMLElement","remove","isRtl","i18n","direction","IconCross","DeleteTune","api","icon","title","t","onActivate","handleClick","delete","IconChevronDown","MoveDownTune","animation","currentBlockIndex","getCurrentBlockIndex","nextBlock","getBlockByIndex","Error","nextBlockElement","holder","nextBlockCoords","getBoundingClientRect","scrollOffset","Math","abs","window","innerHeight","offsetHeight","top","scrollY","scrollTo","move","toolbar","toggleBlockSettings","IconChevronUp","MoveUpTune","currentBlock","previousBlock","currentBlockElement","previousBlockElement","currentBlockCoords","previousBlockCoords","scrollUpOffset","height","scrollBy","BlockAPI","block","blockAPI","isEmpty","selected","stretched","methodName","param","validate","data","dispatchChange","BlockToolAPI","Block","EventsDispatcher","tool","readOnly","tunesData","eventBus","Map","dropInputsCache","updateCurrentInput","mutationsOrInputEvent","undefined","isManuallyDispatched","isInputEventHandler","InputEvent","detectToolRootChange","shouldFireUpdate","everyRecordIsMutationFree","length","every","record","addedNodes","removedNodes","changedNodes","Array","from","some","$","isElement","dataset","mutationFree","UPDATED","settings","editorEventBus","toolInstance","create","tunes","composeTunes","compose","requestIdleCallback","watchBlockMutations","addInputEvents","CSS","wrapper","wrapperStretched","content","focused","dropTarget","inputs","cachedInputs","findAllInputs","inputIndex","currentInput","index","findIndex","input","contains","firstInput","lastInput","nextInput","previousInput","savedObject","sanitize","sanitizeConfig","mergeable","merge","emptyText","pluginsContent","emptyMedia","hasMedia","mediaTags","querySelector","join","classList","toggle","fakeCursorWillBeAdded","SelectionUtils","isRangeInsideContainer","fakeCursorWillBeRemoved","isFakeCursorInsideContainer","FakeCursorAboutToBeToggled","addFakeCursor","removeFakeCursor","FakeCursorHaveBeenSet","toolRenderedElement","params","APPEND_CALLBACK","e","message","mergeWith","extractedBlock","unavailableTunesData","tunesInstances","defaultTunesInstances","tune","measuringStart","performance","now","measuringEnd","Promise","resolve","finishedExtraction","time","catch","error","isValid","Function","getTunes","customHtmlTunesContainer","document","createElement","tunesItems","tunesDefinedInTool","renderSettings","commonTunes","map","tuneInstance","flat","rendered","appendChild","isArray","isNativeInput","activeElement","anchorNode","didMutated","unwatchBlockMutations","removeInputEvents","getActiveToolboxEntry","toolboxSettings","toolbox","blockData","toolboxItems","find","item","propName","propValue","exportDataAsString","convertBlockDataToString","conversionConfig","make","contentNode","wrappedContentNode","wrap","collection","isInternal","set","has","addEventListener","handleFocus","removeEventListener","redactorDomChangedCallback","payload","mutations","mutationBelongsToBlock","isMutationBelongsToElement","RedactorDomChanged","toolRootHasBeenUpdated","includes","newToolElement","Blocks","workingArea","array","children","instance","property","value","isNaN","Number","Reflect","insert","get","insertToDOM","swap","first","second","secondBlock","toIndex","fromIndex","splice","prevIndex","previousBlockIndex","max","event","composeBlockEvent","MOVED","replace","REMOVED","deleteCount","prevBlock","replaceWith","insertMany","fragment","DocumentFragment","min","after","prepend","RENDERED","innerHTML","insertAfter","targetBlock","newBlock","indexOf","position","insertAdjacentElement","type","detail","CustomEvent","onFail","reject","init","start","BlockManager","Caret","UI","ModificationsObserver","checkEmptiness","enable","autofocus","setToBlock","positions","START","highlightCurrentNode","holderId","logLevel","VERBOSE","Boolean","initialBlock","defaultBlock","minHeight","defaultBlockData","placeholder","sanitizer","p","b","a","hideToolbar","tools","onChange","inlineToolbar","messages","I18n","setDictionary","constructModules","configureModules","modulesToPrepare","reduce","promise","module","prepare","CriticalError","Renderer","Modules","getModulesDiff","diff","moduleName","Dom","isSingleTag","tag","tagName","isLineBreakTag","classNames","attributes","el","add","attrName","text","createTextNode","append","parent","elements","reverse","el1","el2","temp","parentNode","insertBefore","removeChild","selector","getElementById","findAll","querySelectorAll","allInputsSelector","allowedInputTypes","result","containsOnlyInlineElements","getDeepestBlockElements","getDeepestNode","atLast","child","sibling","nodeType","Node","ELEMENT_NODE","nodeChild","isFragment","DOCUMENT_FRAGMENT_NODE","isContentEditable","contentEditable","nativeInputs","canSetCaret","isNodeEmpty","nodeText","textContent","trim","isLeaf","childNodes","normalize","treeWalker","shift","isHTMLString","str","childElementCount","getContentLength","TEXT_NODE","blockElements","check","toLowerCase","getHolder","isAnchor","offset","rect","scrollLeft","pageXOffset","documentElement","scrollTop","pageYOffset","left","bottom","right","width","DomIterator","nodeList","focusedCssClass","items","currentItem","cursor","setCursor","cursorPosition","dropCursor","setItems","next","leafNodesAndReturnIndex","directions","RIGHT","previous","LEFT","focusedButtonIndex","BlockChanged","BlockHovered","Flipper","isEventReadyForHandling","usedKeys","keyCode","preventDefault","TAB","handleTabPress","UP","flipLeft","DOWN","flipRight","ENTER","handleEnterPress","iterator","focusedItemClass","activateCallback","allowedKeys","isActivated","activated","activate","onKeyDown","deactivate","focusFirst","flipCallback","hasFocus","onFlip","cb","flipCallbacks","removeOnFlip","filter","fn","shiftKey","stopPropagation","click","scrollIntoViewIfNeeded","ui","internalNamespace","dictKey","_t","namespace","dictionary","currentDictionary","section","getNamespace","parts","split","part","keys","defaultDictionary","getNamespaces","dict","keyPath","isObject","newPath","isLastSection","sectionValue","isString","I18nInternalNS","IconBold","BoldInlineTool","button","buttonActive","buttonModifier","surround","execCommand","commandName","checkState","isActive","queryCommandState","shortcut","IconItalic","ItalicInlineTool","i","IconLink","IconUnlink","LinkInlineTool","buttonUnlink","inputShowed","notifier","selection","href","rel","renderActions","ENTER_KEY","enterPressed","range","inputOpened","setFakeBackground","restore","removeFakeBackground","parentAnchor","findParentTag","unlinkButton","getElementsByClassName","expandToTag","unlink","close","toggleActions","anchorTag","openActions","hrefAttr","getAttribute","closeActions","needFocus","inlineToolbarElement","style","transform","clearSavedSelection","isFakeBackgroundEnabled","currentSelection","clearSaved","validateURL","show","prepareLink","insertLink","stopImmediatePropagation","collapseToEnd","test","link","addProtocol","substring","isProtocolRelative","commandLink","setAttribute","commandUnlink","BlocksAPI","needToFocus","insertedBlock","toolName","Tools","blockTools","getBlockById","updatedBlock","update","newType","dataOverrides","blockToConvert","originalBlockTool","targetBlockTool","originalBlockConvertable","export","targetBlockConvertable","import","convert","unsupportedBlockTypes","capitalize","validateIndex","blocksToInsert","composeBlock","renderFromHTML","getById","getBlockIndex","getBlocksCount","stretchBlock","status","insertNewBlock","composeBlockData","blockIndex","removeBlock","END","Toolbar","InlineToolbar","Paste","processText","CaretAPI","DEFAULT","firstBlock","lastBlock","atEnd","setToLastBlock","setToFirstBlock","setToPreviousBlock","setToNextBlock","EventsAPI","eventName","callback","I18nAPI","isTune","logLabeled","getMethodsForTool","assign","I18nInternal","ListenersAPI","NotifierAPI","SanitizerAPI","SaverAPI","SelectionAPI","styles","StylesAPI","classes","ToolbarAPI","InlineToolbarAPI","tooltip","TooltipAPI","ReadOnlyAPI","UiAPI","open","tryToShow","useCapture","Notifier","getIsEnabled","isEnabled","ReadOnly","clean","taintString","errorText","Saver","className","inlineToolButton","inlineToolButtonActive","loader","settingsButton","settingsButtonActive","openingState","toggleToolbox","moveAndOpen","canOpenBlockSettings","BlockSettings","opened","canOpenToolbox","Tooltip","hide","onHover","editorNodes","redactor","BlockEvents","keydown","beforeKeydownProcessing","BACKSPACE","backspace","DELETE","enter","arrowRightAndDown","arrowLeftAndUp","tabPressed","needToolbarClosing","ConversionToolbar","isShortcut","ctrlKey","metaKey","altKey","clearFocused","BlockSelection","clearSelection","keyup","isEmptyBlock","isDefault","conversionToolbarOpened","inlineToolbarOpened","isCollapsed","canOpenBlockTunes","activateToolbox","activateBlockSettings","dragOver","getBlockByChildNode","dragLeave","handleCommandC","anyBlockSelected","copySelectedBlocks","handleCommandX","selectionPositionIndex","removeSelectedBlocks","insertDefaultBlockAtIndex","isLineBreaksEnabled","someToolbarOpened","someFlipperButtonFocused","newCurrent","isAtStart","isAtEnd","isFirstInputFocused","navigatePrevious","newCurrentBlock","bothBlocksMergeable","areBlocksMergeable","mergeBlocks","isLastInputFocused","navigateNext","blockToMerge","createShadow","requestAnimationFrame","restoreCaret","isFlipperCombination","shouldEnableCBS","CrossBlockSelection","toggleBlockSelectedState","isNavigated","closeAllToolbars","toolboxItemSelected","blockSettingsItemSelected","inlineToolbarItemSelected","conversionToolbarItemSelected","flippingToolbarItems","_currentBlockIndex","newIndex","_blocks","isLastBlock","nextContentfulBlock","nextBlocks","slice","previousContentfulBlock","previousBlocks","isFirstBlock","isEditorEmpty","Proxy","toggleReadOnly","readOnlyEnabled","enableModuleBindings","disableModuleBindings","bindBlockEvents","timeout","blockDidMutated","BlockRemovedMutationType","BlockAddedMutationType","existingData","BlockChangedMutationType","newTool","paste","pasteEvent","ON_PASTE","insertAtEnd","blockToMergeData","addLastBlock","firstSelectedBlockIndex","removeAllBlocks","extractedFragment","extractFragmentFromCaretPosition","getBlock","firstLevelBlock","closest","setCurrentBlockByChildNode","childNode","parentFirstLevelBlock","editorWrapper","isBlockBelongsToCurrentInstance","isEqualNode","BlockMovedMutationType","targetToolName","blockDataOverrides","savedBlock","replacingTool","exportedData","cleanData","newBlockData","convertStringToBlockData","dropPointer","needToAddDefaultBlock","queue","PromiseQueue","completed","all","readOnlyMutableListeners","affectedBlock","mutationType","detailData","sanitizerConfig","h1","h2","h3","h4","h5","h6","ol","ul","li","br","img","src","u","allBlocksSelected","clearCache","anyBlockSelectedCache","selectedBlocks","Shortcuts","selectAllBlocks","handleCommandA","removeAllRanges","unSelectBlockByIndex","reason","restoreSelection","RectangleSelection","needToSelectAll","nativeInputSelected","readyToBlockSelection","isKeyboard","KeyboardEvent","isPrintableKey","isSelectionExists","indexToInsert","eventKey","insertContentAtCaretPosition","isRectActivated","fakeClipboard","cleanHTML","textPlain","textHTML","clipboardData","setData","savedData","MIME_TYPE","JSON","stringify","err","selectBlockByIndex","workingBlock","shadowCaret","Selection","firstNode","focusNode","selectionEnd","firstLetterPosition","search","focusOffset","leftSiblings","getHigherLevelSiblings","nothingAtLeft","regularLineBreak","lineBreakInSafari","isLineBreak","lastNode","rightSiblings","nothingAtRight","isLastBR","rightTrimmedText","nodeToSet","contentLength","setToInput","setToTheLastBlock","rangeCount","selectRange","getRangeAt","currentBlockInput","deleteContents","newFragment","createDocumentFragment","inputRemainingText","selectionStart","fragmentText","cloneRange","selectNodeContents","setStart","endContainer","endOffset","extractContents","sel","newRange","createRange","selectNode","Text","lastChild","insertNode","nodeToSetCaret","firstChild","addRange","current","siblings","onMouseOver","onMouseUp","relatedBlock","relatedTarget","lastSelectedBlock","firstSelectedBlock","toggleBlocksSelectedState","enableCrossBlockSelection","watchSelection","isCrossBlockSelectionStarted","nextBlockIndex","scrollIntoView","fIndex","lIndex","shouldntSelectFirstBlock","DragNDrop","dropEvent","processDrop","processDragStart","dragEvent","processDragOver","isAtEditor","isStartedAtEditor","processDataTransfer","dataTransfer","BlockId","BlockMutationType","mutationObserver","MutationObserver","redactorChanged","particularBlockChanged","disable","observe","childList","subtree","characterData","disabled","disconnect","batchingOnChangeQueue","batchingTimeout","clearTimeout","setTimeout","eventsToEmit","size","batchTime","pasteConfig","exceptionList","onPaste","getTagsConfig","getFilesConfig","getPatternsConfig","isNativeBehaviour","types","processTools","setCallback","unsetCallback","isDragNDrop","includesFiles","toolsFiles","processFiles","files","editorJSData","getData","plainData","htmlData","tempDiv","color","fontFamily","fontSize","backgroundColor","modifiedHtmlContent","insertEditorJSData","parse","toolsTags","sanitizationConfig","customConfig","getAllInlineToolsSanitizeConfig","isHTML","dataToInsert","processHTML","processPlain","isBlock","processInlinePaste","pop","processSingleBlock","isCurrentBlockDefault","needToReplaceCurrentBlock","insertBlock","handlePasteEvent","processTool","collectTagNames","tagOrSanitizeConfig","tagsOrSanitizeConfigs","tags","toolTags","toUpperCase","tagsByTool","extensions","mimeTypes","patterns","pattern","RegExp","toolsPatterns","processFile","file","extension","foundConfig","fileType","fileSubtype","foundExt","ext","foundMimeType","mime","subtype","composePasteEvent","getNodes","defaultTool","baseSanitizeConfig","cleanTableHTML","outerHTML","tmpWrapper","plain","currentBlockIsDefault","PATTERN_PROCESSING_MAX_LENGTH","processPattern","currentToolSanitizeConfig","substitute","execResult","exec","canReplaceCurrentBlock","sanitizedBlocks","sanitizeBlocks","processElementNode","destNode","isSubstitutable","isBlockElement","containsAnotherToolTags","containsBlockElements","elementNodeProcessingResult","reducer","toolsDontSupportReadOnly","isReadOnlySupported","throwCriticalError","oldState","savedBlocks","overlay","overlayContainer","topScrollZone","bottomScrollZone","startSelection","pageX","pageY","elemWhereSelectionStart","elementFromPoint","startsInsideToolbar","stackOfSelected","selectorsToAvoid","startsInsideEditor","startsInSelectorToAvoid","mousedown","startX","startY","endSelection","overlayRectangle","display","isRectSelectionActivated","container","genHTML","mouseEvent","processMouseDown","body","processMouseMove","passive","processMouseLeave","processScroll","processMouseUp","MAIN_MOUSE_BUTTON","startedFromContentEditable","changingRectangle","scrollByZones","clientY","inScrollZone","HEIGHT_OF_SCROLL_ZONE","TOP_SCROLL_ZONE","clientHeight","BOTTOM_SCROLL_ZONE","isScrolling","scrollVertical","SCROLL_SPEED","speed","lastOffset","mouseY","mouseX","rightPos","leftPos","genInfoForMouseSelection","rectIsOnRighSideOfredactor","rectISOnLeftSideOfRedactor","rectCrossesBlocks","shrinkRectangleToPoint","updateRectangleSize","trySelectNextBlock","inverseSelection","firstBlockInStack","isSelectedMode","it","widthOfRedactor","offsetWidth","centerOfRedactor","Y","elementUnderMouse","blockInCurrentPos","contentElement","centerOfBlock","parseInt","getComputedStyle","addBlockInSelection","sameBlock","sizeStack","down","up","undef","blockNumbersIncrease","selectionInDownDirection","selectionInUpDirection","generalSelection","reduction","ind","cmp","blocksData","available","composeStubDataForTool","stubTool","unavailable","chainData","getSavedData","extractedData","sanitizedData","makeOutput","allExtractedData","output","Date","closed","flipper","popover","Popover","searchable","resolveTuneAliases","customContent","customContentFlippableItems","getControls","scopeElement","nothingFound","PopoverEvent","Close","onPopoverClose","getElement","controls","resolveAliases","label","confirmation","conversionToolbarWrapper","conversionToolbarShowed","conversionToolbarTools","conversionToolbarLabel","conversionTool","conversionToolCurrent","conversionToolIcon","conversionToolCheckIcon","conversionToolSecondaryLabel","conversionToolFocused","conversionToolActive","editorRtlFix","converter","addTools","enableFlipper","togglingCallback","filterTools","conversionToolHidden","hasTools","replaceWithBlock","replacingToolName","toolboxItem","addToolIfValid","addTool","checkIcon","toolNames","shortcutEl","innerText","currentBlockActiveToolboxEntry","isTheSameToolboxEntry","entry1","entry2","hidden","isToolboxItemActive","IconMenu","IconPlus","actions","actionsOpened","toolbarOpened","openedToolboxHolderModifier","plusButton","plusButtonShortcut","settingsToggler","settingsTogglerHidden","toolboxInstance","hoveredBlock","blockActions","blockTunesToggler","drawUI","targetBlockHolder","isMobile","renderedContent","renderedContentStyle","blockRenderedElementPaddingTop","paddingTop","blockHeight","toolbarY","offsetTop","floor","withBlockActions","plusButtonClicked","tooltipContent","hidingDelay","blockTunes","toggler","makeToolbox","Toolbox","i18nLabels","ToolboxEvent","Opened","Closed","BlockAdded","settingsTogglerClicked","inlineToolbarShowed","inlineToolbarLeftOriented","inlineToolbarRightOriented","inlineToolbarShortcut","buttonsWrapper","actionsWrapper","inputField","focusedButton","conversionToggler","conversionTogglerArrow","conversionTogglerHidden","conversionTogglerContent","togglerAndButtonsWrapper","needToClose","needToShowConversionToolbar","allowedToShow","selectionRect","wrapperOffset","newCoords","x","y","toolbarWidth","clientWidth","blockOffset","toolsInstances","getToolShortcut","addToolsFiltered","buttonsList","buttons","setConversionTogglerContent","visibleTools","unshift","containsNode","isClickedOnActionsWrapper","addConversionToggler","prepareConversionToolbar","recalculateWidth","tagsConflictsWithSelection","selectedText","parentElement","contenteditable","inlineTools","iconWrapper","canActivateInlineToolbarFlipper","placement","exportRuleDefined","ct","toolClicked","enableShortcuts","toolTitle","internalTools","internal","CommonInternalSettings","Shortcut","enabledInlineTools","checkToolsState","ToolsCollection","toolsAvailable","toolsUnavailable","validateTools","prepareConfig","factory","ToolsFactory","sequenceData","getListOfPrepareFunctions","toolPrepareMethodSuccess","toolPrepareMethodFallback","prepareBlockTools","inlineTool","reset","bold","class","italic","paragraph","Paragraph","stub","Stub","moveUp","moveDown","isInline","inlineToolRequiredMethods","notImplementedMethods","method","toolPreparationList","function","assignInlineToolsToBlockTool","assignBlockTunesToBlockTool","enabledBlockTunes","userTunes","__decorate","windowResize","editorWrapperNarrow","editorZone","editorZoneHidden","editorEmpty","contentRect","contentRectCache","someBlock","checkIsMobile","loadStyles","_moduleName","moduleClass","innerWidth","mobileScreenBreakpoint","paddingBottom","styleTagId","toString","head","redactorClicked","documentTouched","documentKeydown","documentClicked","selectionChanged","resizeDebouncer","watchBlockHoveredEvents","blockHoveredEmitted","backspacePressed","ESC","escapePressed","defaultBehaviour","keyDownOnEditor","isMetaKey","hasPointerToBlock","isTrusted","clickedInsideOfEditor","isClickedInsideBlockSettings","isClickedInsideBlockSettingsToggler","doNotProcess","clickedBlock","clickedNode","clientX","MouseEvent","touches","validUrl","lastBlockBottomCoord","clickedCoord","isClickedBottom","Element","focusedElement","anchorElement","clickedOutsideBlockContent","inlineToolbarEnabledForExternalTool","isNeedToShowConversionToolbar","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","docFrag","isNode","centerIfNeeded","arguments","parentComputedStyle","parentBorderTopWidth","getPropertyValue","parentBorderLeftWidth","overTop","overBottom","overLeft","offsetLeft","overRight","alignWithTop","didTimeout","timeRemaining","cancelIdleCallback","getSelection","anchorOffset","isSelectionAtEditor","selectedNode","isRangeAtEditor","startContainer","getRangeFromSelection","boundingLeft","boundingTop","boundingWidth","boundingHeight","span","spanParent","setEnd","fakeCursor","collapse","commandRemoveFormat","commandBackground","savedSelectionRange","searchDepth","parentTag","boundNodes","searchDepthIterable","ToolType","UserSettings","InternalBlockToolSettings","InternalInlineToolSettings","InternalTuneSettings","BaseTool","constructable","defaultPlaceholder","Config","toolShortcut","userShortcut","SanitizeConfig","Inline","Tune","BlockTool","IsReadOnlySupported","IsEnabledLineBreaks","toolToolboxSettings","userToolboxSettings","toolToolboxEntry","ConversionConfig","EnabledInlineTools","EnabledBlockTunes","PasteConfig","toolRules","baseConfig","toolConfig","fieldName","rule","externalTools","editorConfig","_a","Constructor","getConstructor","IsInline","InlineTool","IsTune","BlockTune","Title","toolsToBeDisplayed","toolboxItemsToBeDisplayed","removeAllShortcuts","toolButtonActivated","toPopoverItem","secondaryLabel","enableShortcutForTool","LogLevels","keyCodes","SHIFT","CTRL","ALT","SPACE","META","mouseButtons","WHEEL","BACKWARD","FORWARD","_log","labeled","msg","args","console","isSimpleType","argsToPass","ERROR","WARN","INFO","editorLabelText","editorLabelStyle","ignored","setLogLevel","log","bind","typeOf","object","match","isFunction","v","isBoolean","isNumber","isUndefined","isClass","isPromise","sequence","chains","success","fallback","waitNextBlock","successCallback","fallbackCallback","previousValue","currentValue","delay","context","apply","getFileExtension","isValidMimeType","debounce","func","wait","immediate","later","callNow","throttle","leading","remaining","trailing","copyTextToClipboard","getUserOS","OS","win","mac","x11","linux","userOS","os","navigator","appVersion","deepMerge","sources","source","isTouchSupported","beautifyShortcut","getValidUrl","url","urlObject","URL","location","protocol","origin","generateBlockId","idLen","nanoid","openTab","generateId","prefix","random","deprecationAssert","condition","oldProperty","newProperty","cacheable","propertyKey","descriptor","propertyToOverride","originalMethod","cacheKey","originalSet","isMobileScreen","matchMedia","isIosDevice","platform","maxTouchPoints","equals","var1","var2","isVar1NonPrimitive","isVar2NonPrimitive","exportProp","stringToImport","importProp","subscribers","once","wrappedCallback","indexOfHandler","previousData","currentHandler","newData","warn","assignedEventData","alreadyExist","findOne","allListeners","existingListeners","listener","findById","foundListeners","found","foundByEventTargets","findByEventTarget","findByType","findByHandler","mutationRecord","targetElement","addedNodesBelongsToBlock","removedNodesBelongsToBlock","filterLabel","nothingFoundLabel","ScrollLocker","itemNoHover","disableSpecialHoverAndFocusBehavior","popoverOpened","itemsWrapper","itemHidden","itemFocused","itemActive","itemDisabled","itemConfirmation","itemNoFocus","itemLabel","itemIcon","itemSecondaryLabel","noFoundMessage","noFoundMessageShown","popoverOverlay","popoverOverlayHidden","customContentHidden","shouldOpenPopoverBottom","setProperty","calculateHeight","flippableElements","scrollLocker","lock","isShown","unlock","confirmationStateItems","itemEl","cleanUpConfirmationStateForItem","popoverClone","cloneNode","visibility","createItem","clickedItem","itemClicked","OverlayClicked","itemName","isDisabled","allItems","itemIndex","enableConfirmationStateForItem","toggleIfNeeded","closeOnActivate","itemEls","itemsInToggleGroup","newState","itemsRequiringConfirmation","newItemData","confirmationStateItemEl","replaceChild","enableSpecialHoverAndFocusBehavior","reactivateFlipper","originalItem","originalStateItemEl","removeSpecialHoverBehavior","removeSpecialFocusBehavior","focusedIndex","popoverItemsElements","customContentControlsElements","concat","toolboxRect","scopeElementRect","popoverHeight","popoverPotentialBottomEdge","popoverPotentialTopEdge","bottomEdgeForComparison","operation","obj","aliases","aliasedProperty","deepSanitize","sanitizerInstance","HTMLJanitor","dataToSanitize","rules","cleanArray","cleanObject","cleanOneItem","ruleForItem","arrayItem","currentIterationItem","isRule","lockHard","scrollLocked","unlockHard","scrollPosition","scrollLockedHard","foundShortcut","findShortcut","newShortcut","shortcuts","registeredShortcuts","CodeXTooltips","lib","skipHidingDelay","info","subtitle","IconWarning","infoContainer"],"mappings":"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AO,CAAC,mFAAQ;AAC1B;AACA,2BAA2B,kBAAkB,EAAE;;AAE/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;;;;ACJa;AACb,SAAS,mBAAO,CAAC,+FAAc;AAC/B,aAAa,mBAAO,CAAC,uGAAkB;AACvC,kBAAkB,mBAAO,CAAC,qGAAiB;AAC3C,UAAU,mBAAO,CAAC,mFAAQ;AAC1B,iBAAiB,mBAAO,CAAC,mGAAgB;AACzC,YAAY,mBAAO,CAAC,yFAAW;AAC/B,kBAAkB,mBAAO,CAAC,mGAAgB;AAC1C,WAAW,mBAAO,CAAC,+FAAc;AACjC,iBAAiB,mBAAO,CAAC,mGAAgB;AACzC,kBAAkB,mBAAO,CAAC,mGAAgB;AAC1C,cAAc,mBAAO,CAAC,qFAAS;AAC/B,eAAe,mBAAO,CAAC,mHAAwB;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,6BAA6B;AAC7B,0BAA0B;AAC1B,0BAA0B;AAC1B,qBAAqB;AACrB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8EAA8E,OAAO;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,qBAAqB;AACrB,0BAA0B;AAC1B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;;;;;;;;;;;;AC/Ia;AACb,kBAAkB,mBAAO,CAAC,qGAAiB;AAC3C,cAAc,mBAAO,CAAC,qFAAS;AAC/B,eAAe,mBAAO,CAAC,+FAAc;AACrC,eAAe,mBAAO,CAAC,+FAAc;AACrC,iBAAiB,mBAAO,CAAC,mGAAgB;AACzC,YAAY,mBAAO,CAAC,yFAAW;AAC/B,wBAAwB,mBAAO,CAAC,uGAAkB;AAClD,WAAW,mBAAO,CAAC,mFAAQ;AAC3B,eAAe,mBAAO,CAAC,mHAAwB;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB,0BAA0B;AAC1B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;ACpFa;AACb,aAAa,mBAAO,CAAC,yFAAW;AAChC,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,6FAAa;AACpC,kBAAkB,mBAAO,CAAC,qGAAiB;AAC3C,WAAW,mBAAO,CAAC,qFAAS;AAC5B,YAAY,mBAAO,CAAC,yFAAW;AAC/B,iBAAiB,mBAAO,CAAC,mGAAgB;AACzC,eAAe,mBAAO,CAAC,+FAAc;AACrC,YAAY,mBAAO,CAAC,uFAAU;AAC9B,kBAAkB,mBAAO,CAAC,mGAAgB;AAC1C,qBAAqB,mBAAO,CAAC,+GAAsB;AACnD,wBAAwB,mBAAO,CAAC,mHAAwB;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO,mCAAmC,gCAAgC,aAAa;AACvF,8BAA8B,mCAAmC,aAAa;AAC9E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,qDAAqD;AACrD;AACA,kDAAkD,iBAAiB,EAAE;AACrE;AACA,wDAAwD,aAAa,EAAE,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;ACpFA,6BAA6B;AAC7B,uCAAuC;;;;;;;;;;;;;ACD1B;AACb,sBAAsB,mBAAO,CAAC,+FAAc;AAC5C,iBAAiB,mBAAO,CAAC,uGAAkB;;AAE3C;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA,gBAAgB,mBAAO,CAAC,iGAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnBa;AACb;AACA,YAAY,mBAAO,CAAC,uFAAU;AAC9B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACzBY;AACb,eAAe,mBAAO,CAAC,+FAAc;AACrC,kBAAkB,mBAAO,CAAC,qGAAiB;AAC3C;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA,kBAAkB,mBAAO,CAAC,uFAAU;AACpC,iCAAiC,QAAQ,mBAAmB,UAAU,EAAE,EAAE;AAC1E,CAAC;;;;;;;;;;;;ACHD,e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C,+FAAc;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA,WAAW,mBAAO,CAAC,mFAAQ;AAC3B,eAAe,mBAAO,CAAC,+FAAc;AACrC,UAAU,mBAAO,CAAC,mFAAQ;AAC1B,cAAc,mBAAO,CAAC,+FAAc;AACpC;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,uFAAU;AAChC,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpDA,aAAa,mBAAO,CAAC,yFAAW;AAChC,gBAAgB,mBAAO,CAAC,qFAAS;AACjC;AACA;AACA;AACA,aAAa,mBAAO,CAAC,mFAAQ;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACpEa;AACb;AACA,gBAAgB,mBAAO,CAAC,iGAAe;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA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AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7BA;AACA;;;;;;;;;;;;ACDA,UAAU,mBAAO,CAAC,mFAAQ;AAC1B,aAAa,mBAAO,CAAC,yFAAW;AAChC,WAAW,mBAAO,CAAC,qFAAS;AAC5B,UAAU,mBAAO,CAAC,iGAAe;AACjC,aAAa,mBAAO,CAAC,yFAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mBAAO,CAAC,mFAAQ;AACtB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnFA,gBAAgB,mBAAO,CAAC,iGAAe;AACvC;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA,gBAAgB,mBAAO,CAAC,iGAAe;AACvC,eAAe,mBAAO,CAAC,+FAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA,cAAc,mBAAO,CAAC,2FAAY;AAClC,cAAc,mBAAO,CAAC,2FAAY;AAClC;AACA;AACA;;;;;;;;;;;;ACLA;AACA,gBAAgB,mBAAO,CAAC,iGAAe;AACvC;AACA;AACA,2DAA2D;AAC3D;;;;;;;;;;;;ACLA;AACA,cAAc,mBAAO,CAAC,2FAAY;AAClC;AACA;AACA;;;;;;;;;;;;ACJA;AACA,eAAe,mBAAO,CAAC,+FAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXa;AACb,IAAI,mBAAO,CAAC,mGAAgB;AAC5B,gBAAgB,mBAAO,CAAC,2FAAY;AACpC,eAAe,mBAAO,CAAC,yFAAW;AAClC,cAAc,mBAAO,CAAC,uFAAU;AAChC,gBAAgB,mBAAO,CAAC,yFAAW;AACnC,eAAe,mBAAO,CAAC,uFAAU;AACjC,gBAAgB,mBAAO,CAAC,qGAAiB;AACzC,YAAY,mBAAO,CAAC,mFAAQ;AAC5B,mBAAmB,mBAAO,CAAC,mGAAgB;AAC3C,qBAAqB,mBAAO,CAAC,uGAAkB;AAC/C,aAAa,mBAAO,CAAC,qFAAS;AAC9B,oBAAoB,mBAAO,CAAC,qGAAiB;AAC7C,kBAAkB,mBAAO,CAAC,iGAAe;AACzC,iBAAiB,mBAAO,CAAC,+FAAc;AACvC,gBAAgB,mBAAO,CAAC,6FAAa;AACrC,wBAAwB,mBAAO,CAAC,+GAAsB;AACtD,oBAAoB,mBAAO,CAAC,qGAAiB;AAC7C,YAAY,mBAAO,CAAC,mFAAQ;AAC5B,gBAAgB,mBAAO,CAAC,2FAAY;AACpC,iBAAiB,mBAAO,CAAC,+FAAc;AACvC,iBAAiB,mBAAO,CAAC,+FAAc;AACvC,oBAAoB,mBAAO,CAAC,uGAAkB;AAC9C,eAAe,mBAAO,CAAC,uGAAkB;AACzC,uBAAuB,mBAAO,CAAC,iGAAe;AAC9C,aAAa,mBAAO,CAAC,mGAAgB;AACrC,kBAAkB,mBAAO,CAAC,2HAA4B;AACtD,YAAY,mBAAO,CAAC,mFAAQ;AAC5B,YAAY,mBAAO,CAAC,mFAAQ;AAC5B,0BAA0B,mBAAO,CAAC,uGAAkB;AACpD,4BAA4B,mBAAO,CAAC,yGAAmB;AACvD,2BAA2B,mBAAO,CAAC,mHAAwB;AAC3D,uBAAuB,mBAAO,CAAC,+GAAsB;AACrD,kBAAkB,mBAAO,CAAC,+FAAc;AACxC,oBAAoB,mBAAO,CAAC,mGAAgB;AAC5C,mBAAmB,mBAAO,CAAC,mGAAgB;AAC3C,kBAAkB,mBAAO,CAAC,iGAAe;AACzC,wBAAwB,mBAAO,CAAC,+GAAsB;AACtD,YAAY,mBAAO,CAAC,+FAAc;AAClC,cAAc,mBAAO,CAAC,mGAAgB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA,4BAA4B;AAC5B,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB,0BAA0B,EAAE,EAAE;AAClE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,gCAAgC;AACzF;AACA,OAAO;AACP;AACA;AACA,6EAA6E,YAAY;AACzF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yDAAyD,6CAA6C,EAAE;;AAExG;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,mDAAmD;AACnD;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,oCAAoC;AACpC;AACA,KAAK;AACL,wEAAwE;AACxE;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,8DAA8D;AAC9D;AACA,KAAK;AACL,wEAAwE;AACxE;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH,yBAAyB,sBAAsB,EAAE,EAAE;AACnD;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,sBAAsB,0BAA0B;AAChD,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,yBAAyB;AACzB,KAAK;AACL,uBAAuB;AACvB,2BAA2B;AAC3B,0BAA0B;AAC1B,2BAA2B;AAC3B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,aAAa;AACvC,OAAO;AACP;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL,uDAAuD,6BAA6B,EAAE;AACtF;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA,uDAAuD,YAAY;;AAEnE;;AAEA;;AAEA;AACA;AACA,KAAK,UAAU,gBAAgB;;AAE/B;AACA;AACA,KAAK;AACL;AACA,KAAK,WAAW,kCAAkC;;AAElD;AACA;AACA;AACA,CAAC,oCAAoC;;;;;;;;;;;;;AC/dxB;AACb,aAAa,mBAAO,CAAC,yFAAW;AAChC,kBAAkB,mBAAO,CAAC,mGAAgB;AAC1C,cAAc,mBAAO,CAAC,2FAAY;AAClC,aAAa,mBAAO,CAAC,uFAAU;AAC/B,WAAW,mBAAO,CAAC,qFAAS;AAC5B,kBAAkB,mBAAO,CAAC,qGAAiB;AAC3C,YAAY,mBAAO,CAAC,uFAAU;AAC9B,iBAAiB,mBAAO,CAAC,mGAAgB;AACzC,gBAAgB,mBAAO,CAAC,iGAAe;AACvC,eAAe,mBAAO,CAAC,+FAAc;AACrC,cAAc,mBAAO,CAAC,6FAAa;AACnC,WAAW,mBAAO,CAAC,mGAAgB;AACnC,SAAS,mBAAO,CAAC,+FAAc;AAC/B,gBAAgB,mBAAO,CAAC,iGAAe;AACvC,qBAAqB,mBAAO,CAAC,+GAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,mBAAmB,uBAAuB,EAAE,EAAE;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA,GAAG;AACH,yBAAyB;AACzB,GAAG;AACH,uBAAuB;AACvB,0BAA0B;AAC1B,0BAA0B;AAC1B;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,iDAAiD,iBAAiB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnRA,aAAa,mBAAO,CAAC,yFAAW;AAChC,WAAW,mBAAO,CAAC,qFAAS;AAC5B,UAAU,mBAAO,CAAC,mFAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AAC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C,mFAAQ;AAC1B,cAAc,mBAAO,CAAC,2FAAY;AAClC,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,+FAAc;AACrC,gBAAgB,mBAAO,CAAC,iGAAe;AACvC,iBAAiB,mBAAO,CAAC,mGAAgB;AACzC,YAAY,mBAAO,CAAC,yFAAW;AAC/B,yBAAyB,mBAAO,CAAC,mHAAwB;AACzD,WAAW,mBAAO,CAAC,qFAAS;AAC5B,gBAAgB,mBAAO,CAAC,+FAAc;AACtC,iCAAiC,mBAAO,CAAC,yHAA2B;AACpE,cAAc,mBAAO,CAAC,2FAAY;AAClC,gBAAgB,mBAAO,CAAC,iGAAe;AACvC,qBAAqB,mBAAO,CAAC,2GAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C,EAAE,mBAAO,CAAC,mFAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA,uBAAuB,mBAAO,CAAC,qGAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E,mBAAO,CAAC,+GAAsB;AAC9B,mBAAO,CAAC,mGAAgB;AACxB,UAAU,mBAAO,CAAC,qFAAS;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,mBAAO,CAAC,mGAAgB;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC7RD;AACA,cAAc,mBAAO,CAAC,yFAAW;AACjC,gBAAgB,mBAAO,CAAC,iGAAe;AACvC,eAAe,mBAAO,CAAC,+FAAc;AACrC,cAAc,mBAAO,CAAC,yFAAW,eAAe;AAChD;AACA;AACA,iCAAiC,mBAAO,CAAC,uFAAU;AACnD,sBAAsB,cAAc;AACpC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACfD;AACA,cAAc,mBAAO,CAAC,yFAAW;AACjC,aAAa,mBAAO,CAAC,uGAAkB;AACvC,gBAAgB,mBAAO,CAAC,iGAAe;AACvC,eAAe,mBAAO,CAAC,+FAAc;AACrC,eAAe,mBAAO,CAAC,+FAAc;AACrC,YAAY,mBAAO,CAAC,uFAAU;AAC9B,WAAW,mBAAO,CAAC,qFAAS;AAC5B,kBAAkB,mBAAO,CAAC,yFAAW,eAAe;;AAEpD;AACA;AACA;AACA,gBAAgB;AAChB,mCAAmC,cAAc;AACjD,CAAC;AACD;AACA,0BAA0B,cAAc;AACxC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC9CD;AACA,SAAS,mBAAO,CAAC,+FAAc;AAC/B,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,+FAAc;AACrC,kBAAkB,mBAAO,CAAC,qGAAiB;;AAE3C;AACA,gCAAgC,mBAAO,CAAC,uFAAU;AAClD;AACA,gCAAgC,MAAM,WAAW,OAAO,WAAW;AACnE,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACtBD;AACA,cAAc,mBAAO,CAAC,yFAAW;AACjC,WAAW,mBAAO,CAAC,mGAAgB;AACnC,eAAe,mBAAO,CAAC,+FAAc;;AAErC;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACVY;AACb;AACA,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,+FAAc;AACrC;AACA,+BAA+B;AAC/B,cAAc;AACd,0BAA0B;AAC1B;AACA;AACA;AACA,mBAAO,CAAC,mGAAgB;AACxB;AACA;AACA;AACA;AACA,wCAAwC;AACxC,GAAG;AACH,UAAU;AACV,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACzBD;AACA,WAAW,mBAAO,CAAC,mGAAgB;AACnC,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,+FAAc;;AAErC;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTD;AACA,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,iGAAe;AACtC,eAAe,mBAAO,CAAC,+FAAc;;AAErC;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACTD;AACA,WAAW,mBAAO,CAAC,mGAAgB;AACnC,qBAAqB,mBAAO,CAAC,iGAAe;AAC5C,UAAU,mBAAO,CAAC,mFAAQ;AAC1B,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,+FAAc;AACrC,eAAe,mBAAO,CAAC,+FAAc;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,WAAW;;;;;;;;;;;;ACpB1C;AACA,cAAc,mBAAO,CAAC,yFAAW;;AAEjC;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACPD;AACA,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,+FAAc;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACVD;AACA,cAAc,mBAAO,CAAC,yFAAW;;AAEjC,+BAA+B,UAAU,mBAAO,CAAC,6FAAa,GAAG;;;;;;;;;;;;ACHjE;AACA,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,+FAAc;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACfD;AACA,cAAc,mBAAO,CAAC,yFAAW;AACjC,eAAe,mBAAO,CAAC,+FAAc;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACdD;AACA,SAAS,mBAAO,CAAC,+FAAc;AAC/B,WAAW,mBAAO,CAAC,mGAAgB;AACnC,qBAAqB,mBAAO,CAAC,iGAAe;AAC5C,UAAU,mBAAO,CAAC,mFAAQ;AAC1B,cAAc,mBAAO,CAAC,yFAAW;AACjC,iBAAiB,mBAAO,CAAC,uGAAkB;AAC3C,eAAe,mBAAO,CAAC,+FAAc;AACrC,eAAe,mBAAO,CAAC,+FAAc;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,+BAA+B,WAAW;;;;;;;;;;;;AChC1C,aAAa,mBAAO,CAAC,yFAAW;AAChC,wBAAwB,mBAAO,CAAC,mHAAwB;AACxD,SAAS,mBAAO,CAAC,+FAAc;AAC/B,WAAW,mBAAO,CAAC,mGAAgB;AACnC,eAAe,mBAAO,CAAC,+FAAc;AACrC,aAAa,mBAAO,CAAC,uFAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,mBAAO,CAAC,mGAAgB,sBAAsB,mBAAO,CAAC,uFAAU;AACpE,MAAM,mBAAO,CAAC,mFAAQ;AACtB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB,EAAE;AAC5C,0BAA0B,gBAAgB;AAC1C,KAAK;AACL;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA,EAAE,mBAAO,CAAC,6FAAa;AACvB;;AAEA,mBAAO,CAAC,mGAAgB;;;;;;;;;;;;;AC1CX;AACb,iBAAiB,mBAAO,CAAC,mGAAgB;AACzC,mBAAO,CAAC,yFAAW;AACnB;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;;;;;;;;;;;ACRD;AACA,IAAI,mBAAO,CAAC,mGAAgB,wBAAwB,mBAAO,CAAC,+FAAc;AAC1E;AACA,OAAO,mBAAO,CAAC,uFAAU;AACzB,CAAC;;;;;;;;;;;;;ACJY;;AAEb,eAAe,mBAAO,CAAC,+FAAc;AACrC,eAAe,mBAAO,CAAC,+FAAc;AACrC,yBAAyB,mBAAO,CAAC,qHAAyB;AAC1D,iBAAiB,mBAAO,CAAC,qHAAyB;;AAElD;AACA,mBAAO,CAAC,iGAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACvCY;;AAEb,eAAe,mBAAO,CAAC,+FAAc;AACrC,eAAe,mBAAO,CAAC,+FAAc;AACrC,eAAe,mBAAO,CAAC,+FAAc;AACrC,gBAAgB,mBAAO,CAAC,iGAAe;AACvC,yBAAyB,mBAAO,CAAC,qHAAyB;AAC1D,iBAAiB,mBAAO,CAAC,qHAAyB;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAO,CAAC,iGAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;;ACrHY;;AAEb,eAAe,mBAAO,CAAC,+FAAc;AACrC,gBAAgB,mBAAO,CAAC,iGAAe;AACvC,iBAAiB,mBAAO,CAAC,qHAAyB;;AAElD;AACA,mBAAO,CAAC,iGAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AC9BY;;AAEb,eAAe,mBAAO,CAAC,+FAAc;AACrC,eAAe,mBAAO,CAAC,+FAAc;AACrC,yBAAyB,mBAAO,CAAC,mHAAwB;AACzD,yBAAyB,mBAAO,CAAC,qHAAyB;AAC1D,eAAe,mBAAO,CAAC,+FAAc;AACrC,qBAAqB,mBAAO,CAAC,qHAAyB;AACtD,iBAAiB,mBAAO,CAAC,mGAAgB;AACzC,YAAY,mBAAO,CAAC,uFAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,yBAAyB,EAAE;;AAEhE;AACA,mBAAO,CAAC,iGAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACrIY;AACb,mBAAO,CAAC,2GAAoB;AAC5B,eAAe,mBAAO,CAAC,+FAAc;AACrC,aAAa,mBAAO,CAAC,uFAAU;AAC/B,kBAAkB,mBAAO,CAAC,mGAAgB;AAC1C;AACA;;AAEA;AACA,EAAE,mBAAO,CAAC,6FAAa;AACvB;;AAEA;AACA,IAAI,mBAAO,CAAC,uFAAU,eAAe,wBAAwB,0BAA0B,YAAY,EAAE;AACrG;AACA;AACA;AACA;AACA,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;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE,mBAAO,CAAC,mGAAgB;AAC1B,EAAE,mBAAO,CAAC,iGAAe;AACzB;;AAEA,sBAAsB,mBAAO,CAAC,2FAAY;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,8CAA8C,YAAY,EAAE;;AAE5D;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,oCAAoC,mBAAO,CAAC,qFAAS;AACrD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrPa;AACb,cAAc,mBAAO,CAAC,yFAAW;AACjC,aAAa,mBAAO,CAAC,uFAAU;AAC/B,aAAa,mBA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BAA6B,uEAAuE,EAAE;;AAEtG;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,QAAQ;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qBAAqB,4BAA4B;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC;;;;;;;;;;;;;ACnLD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqD;AACrD,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACoE;;;;;;;;;;;;;AC7DpE;AAAA;AAAA;AACA;AACsB;;;;;;;;;;;;ACFtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2EAA2E,uBAAuB;AAClG,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,kDAAkD;;AAE5F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAqC,wDAAwD;AAC7F;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC,iBAAiB;AACtD;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;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","file":"editor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EditorJS\"] = factory();\n\telse\n\t\troot[\"EditorJS\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\n\nrequire(\"core-js/es6\");\n\nrequire(\"core-js/fn/array/includes\");\n\nrequire(\"core-js/fn/array/flat-map\");\n\nrequire(\"core-js/fn/string/pad-start\");\n\nrequire(\"core-js/fn/string/pad-end\");\n\nrequire(\"core-js/fn/string/trim-start\");\n\nrequire(\"core-js/fn/string/trim-end\");\n\nrequire(\"core-js/fn/symbol/async-iterator\");\n\nrequire(\"core-js/fn/object/get-own-property-descriptors\");\n\nrequire(\"core-js/fn/object/values\");\n\nrequire(\"core-js/fn/object/entries\");\n\nrequire(\"core-js/fn/promise/finally\");\n\nrequire(\"core-js/web\");\n\nrequire(\"regenerator-runtime/runtime\");","require(\"./lib/noConflict\");\n","require('../modules/es6.symbol');\nrequire('../modules/es6.object.create');\nrequire('../modules/es6.object.define-property');\nrequire('../modules/es6.object.define-properties');\nrequire('../modules/es6.object.get-own-property-descriptor');\nrequire('../modules/es6.object.get-prototype-of');\nrequire('../modules/es6.object.keys');\nrequire('../modules/es6.object.get-own-property-names');\nrequire('../modules/es6.object.freeze');\nrequire('../modules/es6.object.seal');\nrequire('../modules/es6.object.prevent-extensions');\nrequire('../modules/es6.object.is-frozen');\nrequire('../modules/es6.object.is-sealed');\nrequire('../modules/es6.object.is-extensible');\nrequire('../modules/es6.object.assign');\nrequire('../modules/es6.object.is');\nrequire('../modules/es6.object.set-prototype-of');\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.function.bind');\nrequire('../modules/es6.function.name');\nrequire('../modules/es6.function.has-instance');\nrequire('../modules/es6.parse-int');\nrequire('../modules/es6.parse-float');\nrequire('../modules/es6.number.constructor');\nrequire('../modules/es6.number.to-fixed');\nrequire('../modules/es6.number.to-precision');\nrequire('../modules/es6.number.epsilon');\nrequire('../modules/es6.number.is-finite');\nrequire('../modules/es6.number.is-integer');\nrequire('../modules/es6.number.is-nan');\nrequire('../modules/es6.number.is-safe-integer');\nrequire('../modules/es6.number.max-safe-integer');\nrequire('../modules/es6.number.min-safe-integer');\nrequire('../modules/es6.number.parse-float');\nrequire('../modules/es6.number.parse-int');\nrequire('../modules/es6.math.acosh');\nrequire('../modules/es6.math.asinh');\nrequire('../modules/es6.math.atanh');\nrequire('../modules/es6.math.cbrt');\nrequire('../modules/es6.math.clz32');\nrequire('../modules/es6.math.cosh');\nrequire('../modules/es6.math.expm1');\nrequire('../modules/es6.math.fround');\nrequire('../modules/es6.math.hypot');\nrequire('../modules/es6.math.imul');\nrequire('../modules/es6.math.log10');\nrequire('../modules/es6.math.log1p');\nrequire('../modules/es6.math.log2');\nrequire('../modules/es6.math.sign');\nrequire('../modules/es6.math.sinh');\nrequire('../modules/es6.math.tanh');\nrequire('../modules/es6.math.trunc');\nrequire('../modules/es6.string.from-code-point');\nrequire('../modules/es6.string.raw');\nrequire('../modules/es6.string.trim');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/es6.string.code-point-at');\nrequire('../modules/es6.string.ends-with');\nrequire('../modules/es6.string.includes');\nrequire('../modules/es6.string.repeat');\nrequire('../modules/es6.string.starts-with');\nrequire('../modules/es6.string.anchor');\nrequire('../modules/es6.string.big');\nrequire('../modules/es6.string.blink');\nrequire('../modules/es6.string.bold');\nrequire('../modules/es6.string.fixed');\nrequire('../modules/es6.string.fontcolor');\nrequire('../modules/es6.string.fontsize');\nrequire('../modules/es6.string.italics');\nrequire('../modules/es6.string.link');\nrequire('../modules/es6.string.small');\nrequire('../modules/es6.string.strike');\nrequire('../modules/es6.string.sub');\nrequire('../modules/es6.string.sup');\nrequire('../modules/es6.date.now');\nrequire('../modules/es6.date.to-json');\nrequire('../modules/es6.date.to-iso-string');\nrequire('../modules/es6.date.to-string');\nrequire('../modules/es6.date.to-primitive');\nrequire('../modules/es6.array.is-array');\nrequire('../modules/es6.array.from');\nrequire('../modules/es6.array.of');\nrequire('../modules/es6.array.join');\nrequire('../modules/es6.array.slice');\nrequire('../modules/es6.array.sort');\nrequire('../modules/es6.array.for-each');\nrequire('../modules/es6.array.map');\nrequire('../modules/es6.array.filter');\nrequire('../modules/es6.array.some');\nrequire('../modules/es6.array.every');\nrequire('../modules/es6.array.reduce');\nrequire('../modules/es6.array.reduce-right');\nrequire('../modules/es6.array.index-of');\nrequire('../modules/es6.array.last-index-of');\nrequire('../modules/es6.array.copy-within');\nrequire('../modules/es6.array.fill');\nrequire('../modules/es6.array.find');\nrequire('../modules/es6.array.find-index');\nrequire('../modules/es6.array.species');\nrequire('../modules/es6.array.iterator');\nrequire('../modules/es6.regexp.constructor');\nrequire('../modules/es6.regexp.exec');\nrequire('../modules/es6.regexp.to-string');\nrequire('../modules/es6.regexp.flags');\nrequire('../modules/es6.regexp.match');\nrequire('../modules/es6.regexp.replace');\nrequire('../modules/es6.regexp.search');\nrequire('../modules/es6.regexp.split');\nrequire('../modules/es6.promise');\nrequire('../modules/es6.map');\nrequire('../modules/es6.set');\nrequire('../modules/es6.weak-map');\nrequire('../modules/es6.weak-set');\nrequire('../modules/es6.typed.array-buffer');\nrequire('../modules/es6.typed.data-view');\nrequire('../modules/es6.typed.int8-array');\nrequire('../modules/es6.typed.uint8-array');\nrequire('../modules/es6.typed.uint8-clamped-array');\nrequire('../modules/es6.typed.int16-array');\nrequire('../modules/es6.typed.uint16-array');\nrequire('../modules/es6.typed.int32-array');\nrequire('../modules/es6.typed.uint32-array');\nrequire('../modules/es6.typed.float32-array');\nrequire('../modules/es6.typed.float64-array');\nrequire('../modules/es6.reflect.apply');\nrequire('../modules/es6.reflect.construct');\nrequire('../modules/es6.reflect.define-property');\nrequire('../modules/es6.reflect.delete-property');\nrequire('../modules/es6.reflect.enumerate');\nrequire('../modules/es6.reflect.get');\nrequire('../modules/es6.reflect.get-own-property-descriptor');\nrequire('../modules/es6.reflect.get-prototype-of');\nrequire('../modules/es6.reflect.has');\nrequire('../modules/es6.reflect.is-extensible');\nrequire('../modules/es6.reflect.own-keys');\nrequire('../modules/es6.reflect.prevent-extensions');\nrequire('../modules/es6.reflect.set');\nrequire('../modules/es6.reflect.set-prototype-of');\nmodule.exports = require('../modules/_core');\n","require('../../modules/es7.array.flat-map');\nmodule.exports = require('../../modules/_core').Array.flatMap;\n","require('../../modules/es7.array.includes');\nmodule.exports = require('../../modules/_core').Array.includes;\n","require('../../modules/es7.object.entries');\nmodule.exports = require('../../modules/_core').Object.entries;\n","require('../../modules/es7.object.get-own-property-descriptors');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertyDescriptors;\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","'use strict';\nrequire('../../modules/es6.promise');\nrequire('../../modules/es7.promise.finally');\nmodule.exports = require('../../modules/_core').Promise['finally'];\n","require('../../modules/es7.string.pad-end');\nmodule.exports = require('../../modules/_core').String.padEnd;\n","require('../../modules/es7.string.pad-start');\nmodule.exports = require('../../modules/_core').String.padStart;\n","require('../../modules/es7.string.trim-right');\nmodule.exports = require('../../modules/_core').String.trimRight;\n","require('../../modules/es7.string.trim-left');\nmodule.exports = require('../../modules/_core').String.trimLeft;\n","require('../../modules/es7.symbol.async-iterator');\nmodule.exports = require('../../modules/_wks-ext').f('asyncIterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var cof = require('./_cof');\nmodule.exports = function (it, msg) {\n  if (typeof it != 'number' && cof(it) != 'Number') throw TypeError(msg);\n  return +it;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar toLength = require('./_to-length');\n\nmodule.exports = function (that, callbackfn, aLen, memo, isRight) {\n  aFunction(callbackfn);\n  var O = toObject(that);\n  var self = IObject(O);\n  var length = toLength(O.length);\n  var index = isRight ? length - 1 : 0;\n  var i = isRight ? -1 : 1;\n  if (aLen < 2) for (;;) {\n    if (index in self) {\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if (isRight ? index < 0 : length <= index) {\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","'use strict';\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\nvar NUMBER = 'number';\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== NUMBER && hint !== 'default') throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = false;\n","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n","// 20.2.2.16 Math.fround(x)\nvar sign = require('./_math-sign');\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = Math.abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });\n\nrequire('./_add-to-unscopables')('copyWithin');\n","'use strict';\nvar $export = require('./_export');\nvar $every = require('./_array-methods')(4);\n\n$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\nvar $export = require('./_export');\nvar $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {\n  join: function join(separator) {\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */) {\n    var index = 0;\n    var aLen = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(aLen);\n    while (aLen > index) createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar html = require('./_html');\nvar cof = require('./_cof');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * require('./_fails')(function () {\n  if (html) arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end) {\n    var len = toLength(this.length);\n    var klass = cof(this);\n    end = end === undefined ? len : end;\n    if (klass == 'Array') return arraySlice.call(this, begin, end);\n    var start = toAbsoluteIndex(begin, len);\n    var upTo = toAbsoluteIndex(end, len);\n    var size = toLength(upTo - start);\n    var cloned = new Array(size);\n    var i = 0;\n    for (; i < size; i++) cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","require('./_set-species')('Array');\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","var TO_PRIMITIVE = require('./_wks')('toPrimitive');\nvar proto = Date.prototype;\n\nif (!(TO_PRIMITIVE in proto)) require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));\n","var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  require('./_redefine')(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', { bind: require('./_bind') });\n","'use strict';\nvar isObject = require('./_is-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar HAS_INSTANCE = require('./_wks')('hasInstance');\nvar FunctionProto = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif (!(HAS_INSTANCE in FunctionProto)) require('./_object-dp').f(FunctionProto, HAS_INSTANCE, { value: function (O) {\n  if (typeof this != 'function' || !isObject(O)) return false;\n  if (!isObject(this.prototype)) return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n  return false;\n} });\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","// 20.2.2.3 Math.acosh(x)\nvar $export = require('./_export');\nvar log1p = require('./_math-log1p');\nvar sqrt = Math.sqrt;\nvar $acosh = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n","// 20.2.2.5 Math.asinh(x)\nvar $export = require('./_export');\nvar $asinh = Math.asinh;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0\n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });\n","// 20.2.2.7 Math.atanh(x)\nvar $export = require('./_export');\nvar $atanh = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0\n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export');\nvar sign = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n","// 20.2.2.11 Math.clz32(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x) {\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n","// 20.2.2.14 Math.expm1(x)\nvar $export = require('./_export');\nvar $expm1 = require('./_math-expm1');\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });\n","// 20.2.2.16 Math.fround(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { fround: require('./_math-fround') });\n","// 20.2.2.17 Math.hypot([value1[, value2[,  ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./_export');\nvar $imul = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./_fails')(function () {\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y) {\n    var UINT16 = 0xffff;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","// 20.2.2.20 Math.log1p(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { log1p: require('./_math-log1p') });\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function () {\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x) {\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n","// 20.1.2.2 Number.isFinite(number)\nvar $export = require('./_export');\nvar _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it) {\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","// 20.1.2.5 Number.isSafeInteger(number)\nvar $export = require('./_export');\nvar isInteger = require('./_is-integer');\nvar abs = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n","'use strict';\nvar $export = require('./_export');\nvar toInteger = require('./_to-integer');\nvar aNumberValue = require('./_a-number-value');\nvar repeat = require('./_string-repeat');\nvar $toFixed = 1.0.toFixed;\nvar floor = Math.floor;\nvar data = [0, 0, 0, 0, 0, 0];\nvar ERROR = 'Number.toFixed: incorrect invocation!';\nvar ZERO = '0';\n\nvar multiply = function (n, c) {\n  var i = -1;\n  var c2 = c;\n  while (++i < 6) {\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function (n) {\n  var i = 6;\n  var c = 0;\n  while (--i >= 0) {\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function () {\n  var i = 6;\n  var s = '';\n  while (--i >= 0) {\n    if (s !== '' || i === 0 || data[i] !== 0) {\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !require('./_fails')(function () {\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits) {\n    var x = aNumberValue(this, ERROR);\n    var f = toInteger(fractionDigits);\n    var s = '';\n    var m = ZERO;\n    var e, z, j, k;\n    if (f < 0 || f > 20) throw RangeError(ERROR);\n    // eslint-disable-next-line no-self-compare\n    if (x != x) return 'NaN';\n    if (x <= -1e21 || x >= 1e21) return String(x);\n    if (x < 0) {\n      s = '-';\n      x = -x;\n    }\n    if (x > 1e-21) {\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = f;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if (f > 0) {\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $fails = require('./_fails');\nvar aNumberValue = require('./_a-number-value');\nvar $toPrecision = 1.0.toPrecision;\n\n$export($export.P + $export.F * ($fails(function () {\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function () {\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision) {\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);\n  }\n});\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function () {\n  return require('./_object-gopn-ext').f;\n});\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function ($isExtensible) {\n  return function isExtensible(it) {\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function ($isFrozen) {\n  return function isFrozen(it) {\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function ($isSealed) {\n  return function isSealed(it) {\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', { is: require('./_same-value') });\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function ($preventExtensions) {\n  return function preventExtensions(it) {\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function ($seal) {\n  return function seal(it) {\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar rApply = (require('./_global').Reflect || {}).apply;\nvar fApply = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function () {\n  rApply(function () { /* empty */ });\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList) {\n    var T = aFunction(target);\n    var L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP = require('./_object-dp');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export = require('./_export');\nvar gOPD = require('./_object-gopd').f;\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n","'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar Enumerate = function (iterated) {\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = [];      // keys\n  var key;\n  for (key in iterated) keys.push(key);\n};\nrequire('./_iter-create')(Enumerate, 'Object', function () {\n  var that = this;\n  var keys = that._k;\n  var key;\n  do {\n    if (that._i >= keys.length) return { value: undefined, done: true };\n  } while (!((key = keys[that._i++]) in that._t));\n  return { value: key, done: false };\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target) {\n    return new Enumerate(target);\n  }\n});\n","// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD = require('./_object-gopd');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n","// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export = require('./_export');\nvar getProto = require('./_object-gpo');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return getProto(anObject(target));\n  }\n});\n","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\n\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var desc, proto;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', { get: get });\n","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","// 26.1.10 Reflect.isExtensible(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });\n","// 26.1.12 Reflect.preventExtensions(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      if ($preventExtensions) $preventExtensions(target);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export = require('./_export');\nvar setProto = require('./_set-proto');\n\nif (setProto) $export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP = require('./_object-dp');\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar createDesc = require('./_property-desc');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\n\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDesc = gOPD.f(anObject(target), propertyKey);\n  var existingDescriptor, proto;\n  if (!ownDesc) {\n    if (isObject(proto = getPrototypeOf(target))) {\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if (has(ownDesc, 'value')) {\n    if (ownDesc.writable === false || !isObject(receiver)) return false;\n    if (existingDescriptor = gOPD.f(receiver, propertyKey)) {\n      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;\n      existingDescriptor.value = V;\n      dP.f(receiver, propertyKey, existingDescriptor);\n    } else dP.f(receiver, propertyKey, createDesc(0, V));\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', { set: set });\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar sameValue = require('./_same-value');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[SEARCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative($search, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function (createHTML) {\n  return function big() {\n    return createHTML(this, 'big', '', '');\n  };\n});\n","'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function (createHTML) {\n  return function blink() {\n    return createHTML(this, 'blink', '', '');\n  };\n});\n","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function (createHTML) {\n  return function bold() {\n    return createHTML(this, 'b', '', '');\n  };\n});\n","'use strict';\nvar $export = require('./_export');\nvar $at = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos) {\n    return $at(this, pos);\n  }\n});\n","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function (createHTML) {\n  return function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  };\n});\n","'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function (createHTML) {\n  return function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  };\n});\n","var $export = require('./_export');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar fromCharCode = String.fromCharCode;\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var res = [];\n    var aLen = arguments.length;\n    var i = 0;\n    var code;\n    while (aLen > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function (createHTML) {\n  return function italics() {\n    return createHTML(this, 'i', '', '');\n  };\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite) {\n    var tpl = toIObject(callSite.raw);\n    var len = toLength(tpl.length);\n    var aLen = arguments.length;\n    var res = [];\n    var i = 0;\n    while (len > i) {\n      res.push(String(tpl[i++]));\n      if (i < aLen) res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function (createHTML) {\n  return function small() {\n    return createHTML(this, 'small', '', '');\n  };\n});\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function (createHTML) {\n  return function strike() {\n    return createHTML(this, 'strike', '', '');\n  };\n});\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function (createHTML) {\n  return function sup() {\n    return createHTML(this, 'sup', '', '');\n  };\n});\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","'use strict';\nvar $export = require('./_export');\nvar $typed = require('./_typed');\nvar buffer = require('./_typed-buffer');\nvar anObject = require('./_an-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar isObject = require('./_is-object');\nvar ArrayBuffer = require('./_global').ArrayBuffer;\nvar speciesConstructor = require('./_species-constructor');\nvar $ArrayBuffer = buffer.ArrayBuffer;\nvar $DataView = buffer.DataView;\nvar $isView = $typed.ABV && ArrayBuffer.isView;\nvar $slice = $ArrayBuffer.prototype.slice;\nvar VIEW = $typed.VIEW;\nvar ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it) {\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * require('./_fails')(function () {\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end) {\n    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix\n    var len = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, len);\n    var fin = toAbsoluteIndex(end === undefined ? len : end, len);\n    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(fin - first));\n    var viewS = new $DataView(this);\n    var viewT = new $DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\nrequire('./_set-species')(ARRAY_BUFFER);\n","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","'use strict';\nvar weak = require('./_collection-weak');\nvar validate = require('./_validate-collection');\nvar WEAK_SET = 'WeakSet';\n\n// 23.4 WeakSet Objects\nrequire('./_collection')(WEAK_SET, function (get) {\n  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value) {\n    return weak.def(validate(this, WEAK_SET), value, true);\n  }\n}, weak, false, true);\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function ($trim) {\n  return function trimRight() {\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n","require('./_wks-define')('asyncIterator');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","var $export = require('./_export');\nvar $task = require('./_task');\n$export($export.G + $export.B, {\n  setImmediate: $task.set,\n  clearImmediate: $task.clear\n});\n","// ie9- setTimeout & setInterval additional parameters fix\nvar global = require('./_global');\nvar $export = require('./_export');\nvar userAgent = require('./_user-agent');\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\nvar wrap = function (set) {\n  return function (fn, time /* , ...args */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : false;\n    return set(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);\n    } : fn, time);\n  };\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout: wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n","require('../modules/web.timers');\nrequire('../modules/web.immediate');\nrequire('../modules/web.dom.iterable');\nmodule.exports = require('../modules/_core');\n","function register() {}\n\nmodule.exports = Object.assign(register, {\n  default: register,\n  register,\n  revert: function revert() {},\n  __esModule: true\n});","const o = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5\"/></svg>', t = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17\"/></svg>', r = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3\"/></svg>', e = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.849 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6\"/></svg>', n = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8\"/></svg>', s = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z\"/></svg>', i = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 13V16M16 19V16M19 16H16M16 16H13\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6.5 17.5L17.5 6.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 10.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.9919 19H11.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13L13 5\"/></svg>', h = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M14.625 4C14.0727 4 13.625 4.44772 13.625 5C13.625 5.55228 14.0727 6 14.625 6V4ZM18 9.375C18 9.92728 18.4477 10.375 19 10.375C19.5523 10.375 20 9.92728 20 9.375H18ZM9 6H9.375V4H9V6ZM14.625 6H15V4H14.625V6ZM9.375 18H9V20H9.375V18ZM6 9.375V9H4V9.375H6ZM6 15V14.625H4V15H6ZM18 9V9.375H20V9H18ZM9 18C7.34315 18 6 16.6569 6 15H4C4 17.7614 6.23858 20 9 20V18ZM15 6C16.6569 6 18 7.34315 18 9H20C20 6.23858 17.7614 4 15 4V6ZM9 4C6.23858 4 4 6.23858 4 9H6C6 7.34315 7.34315 6 9 6V4Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 9.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.3725 5H9.38207\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.5 5H14.5096\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.3725 19H9.38207\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 9.5H5.00957\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 14.55H5.00957\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 13V16M16 19V16M19 16H16M16 16H13\"/></svg>', l = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 7L6 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 17H6\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 12L8 12\"/></svg>', d = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 7L6 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 17H6\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 12L6 12\"/></svg>', w = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17 7L5 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17 17H5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M13 12L5 12\"/></svg>', k = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 7L7 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 17H7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 12L11 12\"/></svg>', C = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11\"/></svg>', c = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 8L5 12L9 16\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 8L19 12L15 16\"/></svg>', u = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', g = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10\"/></svg>', p = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5\"/></svg>', a = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5\"/></svg>', v = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15\"/></svg>', M = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.42857 7H7.71429C7.25963 7 6.82359 7.15804 6.5021 7.43934C6.18061 7.72064 6 8.10218 6 8.5V17.5C6 17.8978 6.18061 18.2794 6.5021 18.5607C6.82359 18.842 7.25963 19 7.71429 19H16.2857C16.7404 19 17.1764 18.842 17.4979 18.5607C17.8194 18.2794 18 17.8978 18 17.5V8.5C18 8.10218 17.8194 7.72064 17.4979 7.43934C17.1764 7.15804 16.7404 7 16.2857 7H14.5714\"/><rect width=\"5.15789\" height=\"3.36842\" x=\"9.42105\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"1.5\"/></svg>', L = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M15.078 5.62637L15.6153 4.78296L15.078 5.62637C15.4261 5.84808 15.7393 6.15354 16.5711 6.98528L17.2782 6.27817L16.5711 6.98528L17.5251 7.93934C17.8347 8.2489 17.9496 8.36494 18.0489 8.48177C18.5907 9.11982 18.9188 9.91178 18.9868 10.7461C18.9992 10.8989 19 11.0622 19 11.5V12C19 13.4166 18.9992 14.419 18.9352 15.2026C18.8721 15.9745 18.7527 16.4457 18.564 16.816C18.1805 17.5686 17.5686 18.1805 16.816 18.564C16.4457 18.7527 15.9745 18.8721 15.2026 18.9352C14.419 18.9992 13.4166 19 12 19C10.5834 19 9.58104 18.9992 8.79744 18.9352C8.02552 18.8721 7.55435 18.7527 7.18404 18.564C6.43139 18.1805 5.81947 17.5686 5.43597 16.816C5.24729 16.4457 5.12787 15.9745 5.0648 15.2026C5.00078 14.419 5 13.4166 5 12V11.7782C5 10.4673 5.00067 9.53987 5.05572 8.81299C5.10998 8.09655 5.21284 7.65673 5.37487 7.3093C5.77229 6.45718 6.45718 5.77229 7.3093 5.37487C7.65673 5.21284 8.09655 5.10998 8.81299 5.05572C9.53986 5.00067 10.4673 5 11.7782 5C12.9544 5 13.3919 5.00552 13.7948 5.09484C14.2503 5.19583 14.6846 5.37572 15.078 5.62637Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15C13.1046 15 14 14.1046 14 13C14 11.8954 13.1046 11 12 11C10.8954 11 10 11.8954 10 13C10 14.1046 10.8954 15 12 15Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 5.5V7C14 7.55228 13.5523 8 13 8H11C10.4477 8 10 7.55228 10 7V5.2\"/></svg>', x = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 9L10 12M10 12L7 15M10 12H4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 9L14 12M14 12L17 15M14 12H20\"/></svg>', H = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M4.36396 10.364H14.364\"/><path fill=\"currentColor\" d=\"M11.7071 11.2071C12.0976 10.8166 12.0976 10.1834 11.7071 9.79289C11.3166 9.40237 10.6834 9.40237 10.2929 9.79289L11.7071 11.2071ZM8.20711 14.7071L11.7071 11.2071L10.2929 9.79289L6.79289 13.2929L8.20711 14.7071Z\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5.12132 12.4853C3.94975 11.3137 3.94975 9.41421 5.12132 8.24264L8.65685 4.70711C9.04738 4.31658 9.68089 4.31693 10.0714 4.70745C11.909 6.54503 13.1829 7.81893 15.0205 9.65651C15.411 10.047 15.4113 10.6805 15.0208 11.0711L11.4853 14.6066C10.3137 15.7782 8.41421 15.7782 7.24264 14.6066L5.12132 12.4853Z\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M19 16C19 16.8284 18.3284 17.5 17.5 17.5C16.6716 17.5 16 16.8284 16 16C16 15.634 16.218 15.0998 16.6897 14.4372C16.9337 14.0943 17.2151 13.7588 17.5 13.4449C17.7849 13.7588 18.0663 14.0943 18.3103 14.4372C18.782 15.0998 19 15.634 19 16Z\"/></svg>', V = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.25 8.5H10.25C9.2835 8.5 8.5 9.2835 8.5 10.25V17.25C8.5 18.2165 9.2835 19 10.25 19H17.25C18.2165 19 19 18.2165 19 17.25V10.25C19 9.2835 18.2165 8.5 17.25 8.5Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.5 8.5V6.75C15.5 6.28587 15.3156 5.84075 14.9874 5.51256C14.6592 5.18437 14.2141 5 13.75 5H6.75C6.28587 5 5.84075 5.18437 5.51256 5.51256C5.18437 5.84075 5 6.28587 5 6.75V13.75C5 14.2141 5.18437 14.6592 5.51256 14.9874C5.84075 15.3156 6.28587 15.5 6.75 15.5H8.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 12L15.5 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15.5L15.5 15.5\"/></svg>', f = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16\"/></svg>', m = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 17C7 17 7 15.2536 7 13.5L5.5 12L7 10.5C7 8.74644 7 7 9 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 17C17 17 17 15.2536 17 13.5L18.5 12L17 10.5C17 8.74644 17 7 15 7\"/></svg>', B = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6.5 16L6.5 8M10 14L3 10M10 10L3 14\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17.5 16L17.5 8M21 14L14 10M21 10L14 14\"/></svg>', I = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666\"/></svg>', j = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75\"/></svg>', Z = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75\"/></svg>', y = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333\"/></svg>', D = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M7.30499 11.995L7.30499 12.005M12.005 11.995V12.005M16.705 11.995L16.705 12.005\"/></svg>', R = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M12.01 7.29999H12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M12.01 12H12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M12.01 16.7H12\"/></svg>', A = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.3236 8.43554L9.49533 12.1908C9.13119 12.5505 8.93118 13.043 8.9393 13.5598C8.94741 14.0767 9.163 14.5757 9.53862 14.947C9.91424 15.3182 10.4191 15.5314 10.9422 15.5397C11.4653 15.5479 11.9637 15.3504 12.3279 14.9908L16.1562 11.2355C16.8845 10.5161 17.2845 9.53123 17.2682 8.4975C17.252 7.46376 16.8208 6.46583 16.0696 5.72324C15.3184 4.98066 14.3086 4.55425 13.2624 4.53782C12.2162 4.52138 11.2193 4.91627 10.4911 5.63562L6.66277 9.39093C5.57035 10.4699 4.97032 11.9473 4.99467 13.4979C5.01903 15.0485 5.66578 16.5454 6.79264 17.6592C7.9195 18.7731 9.43417 19.4127 11.0034 19.4374C12.5727 19.462 14.068 18.8697 15.1604 17.7907L18.9887 14.0354\"/></svg>', U = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M13 18H16C16.5523 18 17 17.5523 17 17V15C17 14.4477 16.5523 14 16 14H13V18ZM11 12H8C6.34315 12 5 13.3431 5 15V17C5 18.6569 6.34315 20 8 20H16C17.6569 20 19 18.6569 19 17V15C19 13.3431 17.6569 12 16 12H13V9H11V12ZM11 14V18H8C7.44772 18 7 17.5523 7 17V15C7 14.4477 7.44772 14 8 14H11Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 11C5 9.89543 5.89543 9 7 9H17C18.1046 9 19 9.89543 19 11V11C19 12.1046 18.1046 13 17 13H7C5.89543 13 5 12.1046 5 11V11Z\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M16 9C16 7.89543 16 6 14 6C12 6 12 7.89543 12 9C12 7.89543 12 6 10 6C8 6 8 7.89543 8 9\"/></svg>', b = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-miterlimit=\"2.9238\" stroke-width=\"2\" d=\"M5.4694 7.85715C8.08167 3.67856 12 7.85716 12 7.85716C12 7.85716 15.9185 3.67859 18.5306 7.85715C21.1428 12.0357 12 19 12 19C12 19 2.85712 12.0357 5.4694 7.85715Z\"/></svg>', T = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6.77778 6L18.5 17.7222\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.687 10C10.2473 10.4392 10.0002 11.035 10 11.6564C9.99978 12.2777 10.2465 12.8737 10.6858 13.3132C11.1251 13.7527 11.7211 13.9998 12.3427 14C12.9642 14.0002 13.5604 13.7536 14 13.3144\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7C17 11.1666 20 11.17 20 11.67C20 12.17 19 13.17 19 13.17M8.2424 8.80936C7.59317 9.22876 6.97961 9.76732 6.4017 10.4251C5.70398 11.2193 5.35512 11.6164 5.35513 12.3702C5.35514 13.124 5.70406 13.5211 6.40191 14.3154C7.99587 16.1297 9.8618 17.0367 12 17.0367C13.1102 17.0367 14.1466 16.7917 15.1111 16.3024\"/></svg>', P = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394\"/></svg>', S = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16\"/></svg>', W = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M13.34 10C12.4223 12.7337 11 17 11 17\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.21 7H14.2\"/></svg>', E = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72\"/></svg>', G = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"9\" x2=\"19\" y1=\"7\" y2=\"7\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"9\" x2=\"19\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"9\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 17H4.99002\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 12H4.99002\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 7H4.99002\"/></svg>', F = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"12\" x2=\"19\" y1=\"7\" y2=\"7\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"12\" x2=\"19\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"12\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5\"/></svg>', J = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464\"/><line x1=\"15\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', N = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.40999 7.29999H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 7.29999H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.30999 12H9.3\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 12H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.40999 16.7H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 16.7H14.59\"/></svg>', Q = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.7778 9.33331H13.7867\"/></svg>', q = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 10.5606V13.4394C10 14.4777 11.1572 15.0971 12.0211 14.5211L14.1803 13.0817C14.9536 12.5661 14.9503 11.4317 14.18 10.9181L12.0214 9.47907C11.1591 8.9042 10 9.5203 10 10.5606Z\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', z = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 7V12M12 17V12M17 12H12M12 12H7\"/></svg>', K = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 11L9 11C8.80222 11 8.60888 10.9414 8.44443 10.8315C8.27998 10.7216 8.15181 10.5654 8.07612 10.3827C8.00043 10.2 7.98063 9.99889 8.01922 9.80491C8.0578 9.61093 8.15304 9.43275 8.29289 9.29289C8.43275 9.15304 8.61093 9.0578 8.80491 9.01921C8.99889 8.98063 9.19996 9.00043 9.38268 9.07612C9.56541 9.15181 9.72159 9.27998 9.83147 9.44443C9.94135 9.60888 10 9.80222 10 10L10 12.5C10 13.0304 9.78929 13.5391 9.41421 13.9142C9.03914 14.2893 8.53043 14.5 8 14.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 11L15 11C14.8022 11 14.6089 10.9414 14.4444 10.8315C14.28 10.7216 14.1518 10.5654 14.0761 10.3827C14.0004 10.2 13.9806 9.99889 14.0192 9.80491C14.0578 9.61093 14.153 9.43275 14.2929 9.29289C14.4327 9.15304 14.6109 9.0578 14.8049 9.01921C14.9989 8.98063 15.2 9.00043 15.3827 9.07612C15.5654 9.15181 15.7216 9.27998 15.8315 9.44443C15.9414 9.60888 16 9.80222 16 10L16 12.5C16 13.0304 15.7893 13.5391 15.4142 13.9142C15.0391 14.2893 14.5304 14.5 14 14.5\"/></svg>', O = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.6667 13.6667L18 10.3333L14.6667 7M18 10.3333H8.83333C7.94928 10.3333 7.10143 10.6845 6.47631 11.3096C5.85119 11.9348 5.5 12.7826 5.5 13.6667C5.5 14.5507 5.85119 15.3986 6.47631 16.0237C7.10143 16.6488 7.94928 17 8.83333 17H9.66667\"/></svg>', X = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19.1187 14.8787L16.9974 17M14.876 19.1213L16.9974 17M19.1187 19.1213L16.9974 17M16.9974 17L14.876 14.8787\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6.5 17.5L17.5 6.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 10.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.9919 19H11.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13L13 5\"/></svg>', Y = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M10.7929 18.2071C11.1834 18.5976 11.8166 18.5976 12.2071 18.2071C12.5976 17.8166 12.5976 17.1834 12.2071 16.7929L10.7929 18.2071ZM5 11V10C4.44772 10 4 10.4477 4 11H5ZM4 15.5C4 16.0523 4.44772 16.5 5 16.5C5.55228 16.5 6 16.0523 6 15.5H4ZM9.5 12C10.0523 12 10.5 11.5523 10.5 11C10.5 10.4477 10.0523 10 9.5 10V12ZM12.2071 16.7929L5.70711 10.2929L4.29289 11.7071L10.7929 18.2071L12.2071 16.7929ZM4 11V15.5H6V11H4ZM5 12H9.5V10H5V12Z\"/><path fill=\"currentColor\" d=\"M13.2071 5.79289C12.8166 5.40237 12.1834 5.40237 11.7929 5.79289C11.4024 6.18342 11.4024 6.81658 11.7929 7.20711L13.2071 5.79289ZM19 13V14C19.5523 14 20 13.5523 20 13H19ZM20 8.5C20 7.94772 19.5523 7.5 19 7.5C18.4477 7.5 18 7.94772 18 8.5H20ZM14.5 12C13.9477 12 13.5 12.4477 13.5 13C13.5 13.5523 13.9477 14 14.5 14V12ZM11.7929 7.20711L18.2929 13.7071L19.7071 12.2929L13.2071 5.79289L11.7929 7.20711ZM20 13V8.5H18V13H20ZM19 12H14.5V14H19V12Z\"/></svg>', _ = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><circle cx=\"10.5\" cy=\"10.5\" r=\"5.5\" stroke=\"currentColor\" stroke-width=\"2\"/><line x1=\"15.4142\" x2=\"19\" y1=\"15\" y2=\"18.5858\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', $ = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M11.8197 6.04369C11.8924 5.8925 12.1076 5.8925 12.1803 6.04369L13.9776 9.78496C14.0068 9.84564 14.0645 9.88759 14.1312 9.89657L18.2448 10.4498C18.411 10.4722 18.4776 10.6769 18.3562 10.7927L15.3535 13.6582C15.3048 13.7047 15.2827 13.7726 15.2948 13.8388L16.0398 17.922C16.0699 18.087 15.8957 18.2136 15.7481 18.1339L12 16.1124L8.25192 18.1339C8.10429 18.2136 7.93012 18.087 7.96023 17.922L8.7052 13.8388C8.71729 13.7726 8.69523 13.7047 8.64653 13.6582L5.64378 10.7927C5.52244 10.6769 5.58896 10.4722 5.7552 10.4498L9.86876 9.89657C9.93549 9.88759 9.99322 9.84564 10.0224 9.78496L11.8197 6.04369Z\"/></svg>', o1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 9L20 12L17 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 12H20\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 9L4 12L7 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 12H10\"/></svg>', t1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', r1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M14 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 14H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', e1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', n1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14\"/></svg>', s1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.1328 7.7234C18.423 7.7634 18.7115 7.80571 19 7.85109M18.1328 7.7234L17.2267 17.4023C17.1897 17.8371 16.973 18.2432 16.62 18.5394C16.267 18.8356 15.8037 19.0001 15.3227 19H8.67733C8.19632 19.0001 7.73299 18.8356 7.37998 18.5394C7.02698 18.2432 6.81032 17.8371 6.77333 17.4023L5.86715 7.7234M18.1328 7.7234C17.1536 7.58919 16.1693 7.48733 15.1818 7.41803M5.86715 7.7234C5.57697 7.76263 5.28848 7.80494 5 7.85032M5.86715 7.7234C6.84642 7.58919 7.83074 7.48733 8.81818 7.41803M15.1818 7.41803C13.0638 7.26963 10.9362 7.26963 8.81818 7.41803M15.1818 7.41803C15.1818 5.30368 13.7266 4.34834 12 4.34834C10.2734 4.34834 8.81818 5.43945 8.81818 7.41803\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.5 15.5L10 11\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 11L13.5 15.5\"/></svg>', i1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.33333 13.6667L6 10.3333L9.33333 7M6 10.3333H15.1667C16.0507 10.3333 16.8986 10.6845 17.5237 11.3096C18.1488 11.9348 18.5 12.7826 18.5 13.6667C18.5 14.5507 18.1488 15.3986 17.5237 16.0237C16.8986 16.6488 16.0507 17 15.1667 17H14.3333\"/></svg>', h1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.47 8.2475 16.578 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8795 8.49999\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8.24516 12.3883C8.24516 12.3883 7.9717 12.6922 7.47503 13.2161C6.5805 14.1598 6.55465 15.6408 7.44665 16.5869V16.5869C8.37652 17.5731 9.93743 17.5961 10.8959 16.6376L12.1452 15.3883\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6.39063 9.03238L7.58431 9.06668C8.17549 9.08366 8.65218 8.58665 8.61055 7.99669L8.52708 6.81397\"/><line x1=\"12.1142\" x2=\"11.7\" y1=\"12.2\" y2=\"11.7858\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', l1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M12 10C12.7145 10 13.239 9.56559 13.5392 9.11536C13.844 8.65814 14 8.0841 14 7.5C14 6.9159 13.844 6.34186 13.5392 5.88464C13.239 5.43441 12.7145 5 12 5C11.2855 5 10.761 5.43441 10.4608 5.88464C10.156 6.34186 10 6.9159 10 7.5C10 8.0841 10.156 8.65814 10.4608 9.11536C10.761 9.56559 11.2855 10 12 10Z\"/><ellipse cx=\"12\" cy=\"16\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"3\" ry=\"5\" transform=\"rotate(-90 12 16)\"/></svg>', d1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 10C10.7145 10 11.239 9.56559 11.5392 9.11536C11.844 8.65814 12 8.0841 12 7.5C12 6.9159 11.844 6.34186 11.5392 5.88464C11.239 5.43441 10.7145 5 10 5C9.28547 5 8.761 5.43441 8.46084 5.88464C8.15603 6.34186 8 6.9159 8 7.5C8 8.0841 8.15603 8.65814 8.46084 9.11536C8.761 9.56559 9.28547 10 10 10Z\"/><ellipse cx=\"10\" cy=\"16\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"3\" ry=\"5\" transform=\"rotate(-90 10 16)\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M15.5555 10.2222C16.5374 10.2222 17.3333 9.42629 17.3333 8.44445C17.3333 7.46261 16.5374 6.66667 15.5555 6.66667\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17.5 13C21 14.5 20.5 18 18 18.5\"/></svg>', w1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/><line x1=\"12\" x2=\"12\" y1=\"9\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 15.02V15.01\"/></svg>';\nexport {\n  i as IconAddBackground,\n  h as IconAddBorder,\n  l as IconAlignCenter,\n  d as IconAlignJustify,\n  w as IconAlignLeft,\n  k as IconAlignRight,\n  C as IconBold,\n  c as IconBrackets,\n  u as IconChecklist,\n  g as IconChevronDown,\n  p as IconChevronLeft,\n  a as IconChevronRight,\n  v as IconChevronUp,\n  M as IconClipboard,\n  L as IconCode,\n  x as IconCollapse,\n  H as IconColor,\n  V as IconCopy,\n  f as IconCross,\n  m as IconCurlyBrackets,\n  B as IconDelimiter,\n  I as IconDirectionDownRight,\n  j as IconDirectionLeftDown,\n  Z as IconDirectionRightDown,\n  y as IconDirectionUpRight,\n  D as IconEtcHorisontal,\n  R as IconEtcVertical,\n  A as IconFile,\n  U as IconGift,\n  o as IconH1,\n  t as IconH2,\n  r as IconH3,\n  e as IconH4,\n  n as IconH5,\n  s as IconH6,\n  b as IconHeart,\n  T as IconHidden,\n  P as IconHtml,\n  S as IconInlineCode,\n  W as IconItalic,\n  E as IconLink,\n  G as IconListBulleted,\n  F as IconListNumbered,\n  J as IconMarker,\n  N as IconMenu,\n  Q as IconPicture,\n  q as IconPlay,\n  z as IconPlus,\n  K as IconQuote,\n  O as IconRedo,\n  X as IconRemoveBackground,\n  Y as IconReplace,\n  _ as IconSearch,\n  $ as IconStar,\n  o1 as IconStretch,\n  e1 as IconTable,\n  t1 as IconTableWithHeadings,\n  r1 as IconTableWithoutHeadings,\n  n1 as IconText,\n  s1 as IconTrash,\n  i1 as IconUndo,\n  h1 as IconUnlink,\n  l1 as IconUser,\n  d1 as IconUsersGroup,\n  w1 as IconWarning\n};\n","/*!\n * Library for handling keyboard shortcuts\n * @copyright CodeX (https://codex.so)\n * @license MIT\n * @author CodeX (https://codex.so)\n * @version 1.2.0\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Shortcut=t():e.Shortcut=t()}(window,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=0)}([function(e,t,n){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.r(t);var u=function(){function i(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i),this.commands={},this.keys={},this.name=e.name,this.parseShortcutName(e.name),this.element=e.on,this.callback=e.callback,this.executeShortcut=function(e){t.execute(e)},this.element.addEventListener(\"keydown\",this.executeShortcut,!1)}return o(i,null,[{key:\"supportedCommands\",get:function(){return{SHIFT:[\"SHIFT\"],CMD:[\"CMD\",\"CONTROL\",\"COMMAND\",\"WINDOWS\",\"CTRL\"],ALT:[\"ALT\",\"OPTION\"]}}},{key:\"keyCodes\",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,\".\":190}}}]),o(i,[{key:\"parseShortcutName\",value:function(e){e=e.split(\"+\");for(var t=0;t<e.length;t++){e[t]=e[t].toUpperCase();var n=!1;for(var r in i.supportedCommands)if(i.supportedCommands[r].includes(e[t])){n=this.commands[r]=!0;break}n||(this.keys[e[t]]=!0)}for(var o in i.supportedCommands)this.commands[o]||(this.commands[o]=!1)}},{key:\"execute\",value:function(e){var t,n={CMD:e.ctrlKey||e.metaKey,SHIFT:e.shiftKey,ALT:e.altKey},r=!0;for(t in this.commands)this.commands[t]!==n[t]&&(r=!1);var o,u=!0;for(o in this.keys)u=u&&e.keyCode===i.keyCodes[o];r&&u&&this.callback(e)}},{key:\"remove\",value:function(){this.element.removeEventListener(\"keydown\",this.executeShortcut)}}]),i}();t.default=u}]).default});","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.notifier=e():t.notifier=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/\",n(n.s=0)}([function(t,e,n){\"use strict\";n(1),\n/*!\n * Codex JavaScript Notification module\n * https://github.com/codex-team/js-notifier\n */\nt.exports=function(){var t=n(6),e=\"cdx-notify--bounce-in\",o=null;return{show:function(n){if(n.message){!function(){if(o)return!0;o=t.getWrapper(),document.body.appendChild(o)}();var r=null,i=n.time||8e3;switch(n.type){case\"confirm\":r=t.confirm(n);break;case\"prompt\":r=t.prompt(n);break;default:r=t.alert(n),window.setTimeout(function(){r.remove()},i)}o.appendChild(r),r.classList.add(e)}}}}()},function(t,e,n){var o=n(2);\"string\"==typeof o&&(o=[[t.i,o,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\\'\\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen,Ubuntu,Cantarell,\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\\'\\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',\"\"])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||\"\",o=t[3];if(!o)return n;if(e&&\"function\"==typeof btoa){var r=(a=o,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),i=o.sources.map(function(t){return\"/*# sourceURL=\"+o.sourceRoot+t+\" */\"});return[n].concat(i).concat([r]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];\"number\"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];\"number\"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),c=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,f=0,d=[],u=n(5);function l(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(h(o.parts[a],e))}else{var c=[];for(a=0;a<o.parts.length;a++)c.push(h(o.parts[a],e));i[o.id]={id:o.id,refs:1,parts:c}}}}function p(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(c):n.push(o[a]={id:a,parts:[c]})}return n}function b(t,e){var n=c(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var o=d[d.length-1];if(\"top\"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var r=c(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function x(t){var e=document.createElement(\"style\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),y(e,t.attrs),b(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function h(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=f++;n=s||(s=x(e)),o=_.bind(null,n,a,!1),r=_.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",y(e,t.attrs),b(t,e),e}(e),o=function(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\");var a=new Blob([o],{type:\"text/css\"}),c=t.href;t.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}.bind(null,n,e),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=x(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute(\"media\",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=p(t,e);return l(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var a=n[r];(c=i[a.id]).refs--,o.push(c)}t&&l(p(t,e),e);for(r=0;r<o.length;r++){var c;if(0===(c=o[r]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete i[c.id]}}}};var v,g=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join(\"\\n\")});function _(t,e,n,o){var r=n?\"\":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,o=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var r,i=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i)?t:(r=0===i.indexOf(\"//\")?i:0===i.indexOf(\"/\")?n+i:o+i.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(r)+\")\")})}},function(t,e,n){\"use strict\";var o,r,i,a,c,s,f,d,u;t.exports=(o=\"cdx-notifies\",r=\"cdx-notify\",i=\"cdx-notify__cross\",a=\"cdx-notify__button--confirm\",c=\"cdx-notify__button--cancel\",s=\"cdx-notify__input\",f=\"cdx-notify__button\",d=\"cdx-notify__btns-wrapper\",{alert:u=function(t){var e=document.createElement(\"DIV\"),n=document.createElement(\"DIV\"),o=t.message,a=t.style;return e.classList.add(r),a&&e.classList.add(r+\"--\"+a),e.innerHTML=o,n.classList.add(i),n.addEventListener(\"click\",e.remove.bind(e)),e.appendChild(n),e},confirm:function(t){var e=u(t),n=document.createElement(\"div\"),o=document.createElement(\"button\"),r=document.createElement(\"button\"),s=e.querySelector(\".\"+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||\"Confirm\",r.innerHTML=t.cancelText||\"Cancel\",o.classList.add(f),r.classList.add(f),o.classList.add(a),r.classList.add(c),l&&\"function\"==typeof l&&(r.addEventListener(\"click\",l),s.addEventListener(\"click\",l)),p&&\"function\"==typeof p&&o.addEventListener(\"click\",p),o.addEventListener(\"click\",e.remove.bind(e)),r.addEventListener(\"click\",e.remove.bind(e)),n.appendChild(o),n.appendChild(r),e.appendChild(n),e},prompt:function(t){var e=u(t),n=document.createElement(\"div\"),o=document.createElement(\"button\"),r=document.createElement(\"input\"),c=e.querySelector(\".\"+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||\"Ok\",o.classList.add(f),o.classList.add(a),r.classList.add(s),t.placeholder&&r.setAttribute(\"placeholder\",t.placeholder),t.default&&(r.value=t.default),t.inputType&&(r.type=t.inputType),l&&\"function\"==typeof l&&c.addEventListener(\"click\",l),p&&\"function\"==typeof p&&o.addEventListener(\"click\",function(){p(r.value)}),o.addEventListener(\"click\",e.remove.bind(e)),n.appendChild(r),n.appendChild(o),e.appendChild(n),e},getWrapper:function(){var t=document.createElement(\"DIV\");return t.classList.add(o),t}})}])});","/*!\n * CodeX.Tooltips\n * \n * @version 1.0.5\n * \n * @licence MIT\n * @author CodeX <https://codex.so>\n * \n * \n */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Tooltip=e():t.Tooltip=e()}(window,(function(){return function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){\"use strict\";o.r(e),o.d(e,\"default\",(function(){return i}));class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener(\"scroll\",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:\"ct\",tooltipContent:\"ct__content\",tooltipShown:\"ct--shown\",placement:{left:\"ct--left\",bottom:\"ct--bottom\",right:\"ct--right\",top:\"ct--top\"}}}show(t,e,o){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const i=Object.assign({placement:\"bottom\",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},o);if(i.hidingDelay&&(this.hidingDelay=i.hidingDelay),this.nodes.content.innerHTML=\"\",\"string\"==typeof e)this.nodes.content.appendChild(document.createTextNode(e));else{if(!(e instanceof Node))throw Error(\"[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But \"+typeof e+\" given.\");this.nodes.content.appendChild(e)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),i.placement){case\"top\":this.placeTop(t,i);break;case\"left\":this.placeLeft(t,i);break;case\"right\":this.placeRight(t,i);break;case\"bottom\":default:this.placeBottom(t,i)}i&&i.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},i.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(t=!1){if(this.hidingDelay&&!t)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(t,e,o){t.addEventListener(\"mouseenter\",()=>{this.show(t,e,o)}),t.addEventListener(\"mouseleave\",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener(\"scroll\",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make(\"div\",this.CSS.tooltip),this.nodes.content=this.make(\"div\",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const t=\"codex-tooltips-style\";if(document.getElementById(t))return;const e=o(2),i=this.make(\"style\",null,{textContent:e.toString(),id:t});this.prepend(document.head,i)}placeBottom(t,e){const o=t.getBoundingClientRect(),i=o.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,n=o.bottom+window.pageYOffset+this.offsetTop+e.marginTop;this.applyPlacement(\"bottom\",i,n)}placeTop(t,e){const o=t.getBoundingClientRect(),i=o.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,n=o.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement(\"top\",i,n)}placeLeft(t,e){const o=t.getBoundingClientRect(),i=o.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-e.marginLeft,n=o.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement(\"left\",i,n)}placeRight(t,e){const o=t.getBoundingClientRect(),i=o.right+this.offsetRight+e.marginRight,n=o.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement(\"right\",i,n)}applyPlacement(t,e,o){this.nodes.wrapper.classList.add(this.CSS.placement[t]),this.nodes.wrapper.style.left=e+\"px\",this.nodes.wrapper.style.top=o+\"px\"}make(t,e=null,o={}){const i=document.createElement(t);Array.isArray(e)?i.classList.add(...e):e&&i.classList.add(e);for(const t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);return i}append(t,e){Array.isArray(e)?e.forEach(e=>t.appendChild(e)):t.appendChild(e)}prepend(t,e){Array.isArray(e)?(e=e.reverse()).forEach(e=>t.prepend(e)):t.prepend(e)}}},function(t,e){t.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:\"\";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url(\"\")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\\'data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"><path d=\"M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z\"/></svg>\\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:\"\";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default}));","(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define('html-janitor', factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.HTMLJanitor = factory();\n  }\n}(this, function () {\n\n  /**\n   * @param {Object} config.tags Dictionary of allowed tags.\n   * @param {boolean} config.keepNestedBlockElements Default false.\n   */\n  function HTMLJanitor(config) {\n\n    var tagDefinitions = config['tags'];\n    var tags = Object.keys(tagDefinitions);\n\n    var validConfigValues = tags\n      .map(function(k) { return typeof tagDefinitions[k]; })\n      .every(function(type) { return type === 'object' || type === 'boolean' || type === 'function'; });\n\n    if(!validConfigValues) {\n      throw new Error(\"The configuration was invalid\");\n    }\n\n    this.config = config;\n  }\n\n  // TODO: not exhaustive?\n  var blockElementNames = ['P', 'LI', 'TD', 'TH', 'DIV', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'PRE'];\n  function isBlockElement(node) {\n    return blockElementNames.indexOf(node.nodeName) !== -1;\n  }\n\n  var inlineElementNames = ['A', 'B', 'STRONG', 'I', 'EM', 'SUB', 'SUP', 'U', 'STRIKE'];\n  function isInlineElement(node) {\n    return inlineElementNames.indexOf(node.nodeName) !== -1;\n  }\n\n  HTMLJanitor.prototype.clean = function (html) {\n    const sandbox = document.implementation.createHTMLDocument();\n    const root = sandbox.createElement(\"div\");\n    root.innerHTML = html;\n\n    this._sanitize(sandbox, root);\n\n    return root.innerHTML;\n  };\n\n  HTMLJanitor.prototype._sanitize = function (document, parentNode) {\n    var treeWalker = createTreeWalker(document, parentNode);\n    var node = treeWalker.firstChild();\n\n    if (!node) { return; }\n\n    do {\n      if (node.nodeType === Node.TEXT_NODE) {\n        // If this text node is just whitespace and the previous or next element\n        // sibling is a block element, remove it\n        // N.B.: This heuristic could change. Very specific to a bug with\n        // `contenteditable` in Firefox: http://jsbin.com/EyuKase/1/edit?js,output\n        // FIXME: make this an option?\n        if (node.data.trim() === ''\n            && ((node.previousElementSibling && isBlockElement(node.previousElementSibling))\n                 || (node.nextElementSibling && isBlockElement(node.nextElementSibling)))) {\n          parentNode.removeChild(node);\n          this._sanitize(document, parentNode);\n          break;\n        } else {\n          continue;\n        }\n      }\n\n      // Remove all comments\n      if (node.nodeType === Node.COMMENT_NODE) {\n        parentNode.removeChild(node);\n        this._sanitize(document, parentNode);\n        break;\n      }\n\n      var isInline = isInlineElement(node);\n      var containsBlockElement;\n      if (isInline) {\n        containsBlockElement = Array.prototype.some.call(node.childNodes, isBlockElement);\n      }\n\n      // Block elements should not be nested (e.g. <li><p>...); if\n      // they are, we want to unwrap the inner block element.\n      var isNotTopContainer = !! parentNode.parentNode;\n      var isNestedBlockElement =\n            isBlockElement(parentNode) &&\n            isBlockElement(node) &&\n            isNotTopContainer;\n\n      var nodeName = node.nodeName.toLowerCase();\n\n      var allowedAttrs = getAllowedAttrs(this.config, nodeName, node);\n\n      var isInvalid = isInline && containsBlockElement;\n\n      // Drop tag entirely according to the whitelist *and* if the markup\n      // is invalid.\n      if (isInvalid || shouldRejectNode(node, allowedAttrs)\n          || (!this.config.keepNestedBlockElements && isNestedBlockElement)) {\n        // Do not keep the inner text of SCRIPT/STYLE elements.\n        if (! (node.nodeName === 'SCRIPT' || node.nodeName === 'STYLE')) {\n          while (node.childNodes.length > 0) {\n            parentNode.insertBefore(node.childNodes[0], node);\n          }\n        }\n        parentNode.removeChild(node);\n\n        this._sanitize(document, parentNode);\n        break;\n      }\n\n      // Sanitize attributes\n      for (var a = 0; a < node.attributes.length; a += 1) {\n        var attr = node.attributes[a];\n\n        if (shouldRejectAttr(attr, allowedAttrs, node)) {\n          node.removeAttribute(attr.name);\n          // Shift the array to continue looping.\n          a = a - 1;\n        }\n      }\n\n      // Sanitize children\n      this._sanitize(document, node);\n\n    } while ((node = treeWalker.nextSibling()));\n  };\n\n  function createTreeWalker(document, node) {\n    return document.createTreeWalker(node,\n                                     NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT,\n                                     null, false);\n  }\n\n  function getAllowedAttrs(config, nodeName, node){\n    if (typeof config.tags[nodeName] === 'function') {\n      return config.tags[nodeName](node);\n    } else {\n      return config.tags[nodeName];\n    }\n  }\n\n  function shouldRejectNode(node, allowedAttrs){\n    if (typeof allowedAttrs === 'undefined') {\n      return true;\n    } else if (typeof allowedAttrs === 'boolean') {\n      return !allowedAttrs;\n    }\n\n    return false;\n  }\n\n  function shouldRejectAttr(attr, allowedAttrs, node){\n    var attrName = attr.name.toLowerCase();\n\n    if (allowedAttrs === true){\n      return false;\n    } else if (typeof allowedAttrs[attrName] === 'function'){\n      return !allowedAttrs[attrName](attr.value, node);\n    } else if (typeof allowedAttrs[attrName] === 'undefined'){\n      return true;\n    } else if (allowedAttrs[attrName] === false) {\n      return true;\n    } else if (typeof allowedAttrs[attrName] === 'string') {\n      return (allowedAttrs[attrName] !== attr.value);\n    }\n\n    return false;\n  }\n\n  return HTMLJanitor;\n\n}));\n","import { urlAlphabet } from './url-alphabet/index.js'\nif (process.env.NODE_ENV !== 'production') {\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you dont need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you dont need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, size, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * size) / alphabet.length)\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport { urlAlphabet }\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; };\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) });\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: true });\n  defineProperty(\n    GeneratorFunctionPrototype,\n    \"constructor\",\n    { value: GeneratorFunction, configurable: true }\n  );\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    defineProperty(this, \"_invoke\", { value: enqueue });\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method;\n    var method = delegate.iterator[methodName];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method, or a missing .next mehtod, always terminate the\n      // yield* loop.\n      context.delegate = null;\n\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (methodName === \"throw\" && delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n      if (methodName !== \"return\") {\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a '\" + methodName + \"' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(val) {\n    var object = Object(val);\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","'use strict';\n\nimport { EditorConfig } from '../types';\n\n/**\n * Apply polyfills\n */\nimport '@babel/register';\n\nimport './components/polyfills';\nimport Core from './components/core';\nimport * as _ from './components/utils';\n\ndeclare const VERSION: string;\n\n/**\n * Editor.js\n *\n * @license Apache-2.0\n * @see Editor.js <https://editorjs.io>\n * @author CodeX Team <https://codex.so>\n */\nexport default class EditorJS {\n  /**\n   * Promise that resolves when core modules are ready and UI is rendered on the page\n   */\n  public isReady: Promise<void>;\n\n  /**\n   * Stores destroy method implementation.\n   * Clear heap occupied by Editor and remove UI components from the DOM.\n   */\n  public destroy: () => void;\n\n  /** Editor version */\n  public static get version(): string {\n    return VERSION;\n  }\n\n  /**\n   * @param {EditorConfig|string|undefined} [configuration] - user configuration\n   */\n  constructor(configuration?: EditorConfig | string) {\n    /**\n     * Set default onReady function\n     */\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    let onReady = (): void => {};\n\n    /**\n     * If `onReady` was passed in `configuration` then redefine onReady function\n     */\n    if (_.isObject(configuration) && _.isFunction(configuration.onReady)) {\n      onReady = configuration.onReady;\n    }\n\n    /**\n     * Create a Editor.js instance\n     */\n    const editor = new Core(configuration);\n\n    /**\n     * We need to export isReady promise in the constructor\n     * as it can be used before other API methods are exported\n     *\n     * @type {Promise<void>}\n     */\n    this.isReady = editor.isReady.then(() => {\n      this.exportAPI(editor);\n      onReady();\n    });\n  }\n\n  /**\n   * Export external API methods\n   *\n   * @param {Core} editor  Editor's instance\n   */\n  public exportAPI(editor: Core): void {\n    const fieldsToExport = [ 'configuration' ];\n    const destroy = (): void => {\n      Object.values(editor.moduleInstances).forEach((moduleInstance) => {\n        if (_.isFunction(moduleInstance.destroy)) {\n          moduleInstance.destroy();\n        }\n        moduleInstance.listeners.removeAll();\n      });\n\n      editor = null;\n\n      for (const field in this) {\n        if (Object.prototype.hasOwnProperty.call(this, field)) {\n          delete this[field];\n        }\n      }\n\n      Object.setPrototypeOf(this, null);\n    };\n\n    fieldsToExport.forEach((field) => {\n      this[field] = editor[field];\n    });\n\n    this.destroy = destroy;\n\n    Object.setPrototypeOf(this, editor.moduleInstances.API.methods);\n\n    delete this.exportAPI;\n\n    const shorthands = {\n      blocks: {\n        clear: 'clear',\n        render: 'render',\n      },\n      caret: {\n        focus: 'focus',\n      },\n      events: {\n        on: 'on',\n        off: 'off',\n        emit: 'emit',\n      },\n      saver: {\n        save: 'save',\n      },\n    };\n\n    Object.entries(shorthands).forEach(([key, methods]) => {\n      Object.entries(methods).forEach(([name, alias]) => {\n        this[alias] = editor.moduleInstances.API.methods[key][name];\n      });\n    });\n  }\n}\n","import { EditorModules } from '../types-internal/editor-modules';\nimport { EditorConfig } from '../../types';\nimport { ModuleConfig } from '../types-internal/module-config';\nimport Listeners from './utils/listeners';\nimport EventsDispatcher from './utils/events';\nimport { EditorEventMap } from './events';\n\n/**\n * The type <T> of the Module generic.\n * It describes the structure of nodes used in modules.\n */\nexport type ModuleNodes = object;\n\n/**\n * @abstract\n * @class      Module\n * @classdesc  All modules inherits from this class.\n * @typedef {Module} Module\n * @property {object} config - Editor user settings\n * @property {EditorModules} Editor - List of Editor modules\n */\nexport default class Module<T extends ModuleNodes = Record<string, HTMLElement>> {\n  /**\n   * Each module can provide some UI elements that will be stored in this property\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public nodes: T = {} as any;\n\n  /**\n   * Editor modules list\n   *\n   * @type {EditorModules}\n   */\n  protected Editor: EditorModules;\n\n  /**\n   * Editor configuration object\n   *\n   * @type {EditorConfig}\n   */\n  protected config: EditorConfig;\n\n  /**\n   * Editor event dispatcher class\n   */\n  protected eventsDispatcher: EventsDispatcher<EditorEventMap>;\n\n  /**\n   * Util for bind/unbind DOM event listeners\n   */\n  protected listeners: Listeners = new Listeners();\n\n  /**\n   * This object provides methods to push into set of listeners that being dropped when read-only mode is enabled\n   */\n  protected readOnlyMutableListeners = {\n    /**\n     * Assigns event listener on DOM element and pushes into special array that might be removed\n     *\n     * @param {EventTarget} element - DOM Element\n     * @param {string} eventType - Event name\n     * @param {Function} handler - Event handler\n     * @param {boolean|AddEventListenerOptions} options - Listening options\n     */\n    on: (\n      element: EventTarget,\n      eventType: string,\n      handler: (event: Event) => void,\n      options: boolean | AddEventListenerOptions = false\n    ): void => {\n      this.mutableListenerIds.push(\n        this.listeners.on(element, eventType, handler, options)\n      );\n    },\n\n    /**\n     * Clears all mutable listeners\n     */\n    clearAll: (): void => {\n      for (const id of this.mutableListenerIds) {\n        this.listeners.offById(id);\n      }\n\n      this.mutableListenerIds = [];\n    },\n  };\n\n  /**\n   * The set of listener identifiers which will be dropped in read-only mode\n   */\n  private mutableListenerIds: string[] = [];\n\n  /**\n   * @class\n   * @param options - Module options\n   * @param options.config - Module config\n   * @param options.eventsDispatcher - Common event bus\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    if (new.target === Module) {\n      throw new TypeError('Constructors for abstract class Module are not allowed.');\n    }\n\n    this.config = config;\n    this.eventsDispatcher = eventsDispatcher;\n  }\n\n  /**\n   * Editor modules setter\n   *\n   * @param {EditorModules} Editor - Editor's Modules\n   */\n  public set state(Editor: EditorModules) {\n    this.Editor = Editor;\n  }\n\n  /**\n   * Remove memorized nodes\n   */\n  public removeAllNodes(): void {\n    for (const key in this.nodes) {\n      const node = this.nodes[key];\n\n      if (node instanceof HTMLElement) {\n        node.remove();\n      }\n    }\n  }\n\n  /**\n   * Returns true if current direction is RTL (Right-To-Left)\n   */\n  protected get isRtl(): boolean {\n    return this.config.i18n.direction === 'rtl';\n  }\n}\n","/**\n * @class DeleteTune\n * @classdesc Editor's default tune that moves up selected block\n * @copyright <CodeX Team> 2018\n */\n\nimport { API, BlockTune } from \"../../../types\";\nimport { TunesMenuConfig } from \"../../../types/tools\";\nconst IconCross = `<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5 1.5C5 1.22386 5.22386 1 5.5 1H10.5C10.7761 1 11 1.22386 11 1.5V3H5V1.5ZM4 3V1.5C4 0.671573 4.67157 0 5.5 0H10.5C11.3284 0 12 0.671573 12 1.5V3H13.5H15C15.2761 3 15.5 3.22386 15.5 3.5C15.5 3.77614 15.2761 4 15 4H14V14.5C14 15.3284 13.3284 16 12.5 16H3.5C2.67157 16 2 15.3284 2 14.5V4H1C0.723858 4 0.5 3.77614 0.5 3.5C0.5 3.22386 0.723858 3 1 3H2.5H4ZM11.5 4H4.5H3V14.5C3 14.7761 3.22386 15 3.5 15H12.5C12.7761 15 13 14.7761 13 14.5V4H11.5ZM6.5 6.5C6.77614 6.5 7 6.72386 7 7V12C7 12.2761 6.77614 12.5 6.5 12.5C6.22386 12.5 6 12.2761 6 12V7C6 6.72386 6.22386 6.5 6.5 6.5ZM10 7C10 6.72386 9.77614 6.5 9.5 6.5C9.22386 6.5 9 6.72386 9 7V12C9 12.2761 9.22386 12.5 9.5 12.5C9.77614 12.5 10 12.2761 10 12V7Z\" />\n</svg>`;\n\n/**\n *\n */\nexport default class DeleteTune implements BlockTune {\n  /**\n   * Set Tool is Tune\n   */\n  public static readonly isTune = true;\n\n  /**\n   * Property that contains Editor.js API methods\n   *\n   * @see {@link docs/api.md}\n   */\n  private readonly api: API;\n\n  /**\n   * DeleteTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api }) {\n    this.api = api;\n  }\n\n  /**\n   * Tune's appearance in block settings menu\n   */\n  public render(): TunesMenuConfig {\n    return {\n      icon: IconCross,\n      title: this.api.i18n.t(\"Delete\"),\n      name: \"delete\",\n      onActivate: (): void => this.handleClick(),\n    };\n  }\n\n  /**\n   * Delete block conditions passed\n   */\n  public handleClick(): void {\n    this.api.blocks.delete();\n  }\n}\n","/**\n * @class MoveDownTune\n * @classdesc Editor's default tune - Moves down highlighted block\n * @copyright <CodeX Team> 2018\n */\n\nimport { API, BlockTune, PopoverItem } from \"../../../types\";\nimport Popover from \"../utils/popover\";\nimport { TunesMenuConfig } from \"../../../types/tools\";\n// import { IconChevronDown } from '@codexteam/icons';\nconst IconChevronDown = `<svg width=\"12\" height=\"16\" viewBox=\"0 0 12 16\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.29289 15.2071C5.68342 15.5976 6.31658 15.5976 6.70711 15.2071L11.8536 10.0607C12.0488 9.8654 12.0488 9.54882 11.8536 9.35355C11.6583 9.15829 11.3417 9.15829 11.1464 9.35355L6.5 14L6.5 1.20703C6.5 0.930889 6.27614 0.707031 6 0.707031C5.72386 0.707031 5.5 0.930889 5.5 1.20703L5.5 14L0.853554 9.35355C0.658291 9.15829 0.34171 9.15829 0.146447 9.35355C-0.0488152 9.54881 -0.0488152 9.8654 0.146447 10.0607L5.29289 15.2071Z\" />\n</svg>`;\n\n/**\n *\n */\nexport default class MoveDownTune implements BlockTune {\n  /**\n   * Set Tool is Tune\n   */\n  public static readonly isTune = true;\n\n  /**\n   * Property that contains Editor.js API methods\n   *\n   * @see {@link docs/api.md}\n   */\n  private readonly api: API;\n\n  /**\n   * Styles\n   */\n  private CSS = {\n    animation: \"wobble\",\n  };\n\n  /**\n   * MoveDownTune constructor\n   *\n   * @param {API} api  Editor's API\n   */\n  constructor({ api }) {\n    this.api = api;\n  }\n\n  /**\n   * Tune's appearance in block settings menu\n   */\n  public render(): TunesMenuConfig {\n    return {\n      icon: IconChevronDown,\n      title: this.api.i18n.t(\"Move down\"),\n      onActivate: (): void => this.handleClick(),\n      name: \"move-down\",\n    };\n  }\n\n  /**\n   * Handle clicks on 'move down' button\n   */\n  public handleClick(): void {\n    const currentBlockIndex = this.api.blocks.getCurrentBlockIndex();\n    const nextBlock = this.api.blocks.getBlockByIndex(currentBlockIndex + 1);\n\n    // If Block is last do nothing\n    if (!nextBlock) {\n      throw new Error(\"Unable to move Block down since it is already the last\");\n    }\n\n    const nextBlockElement = nextBlock.holder;\n    const nextBlockCoords = nextBlockElement.getBoundingClientRect();\n\n    let scrollOffset = Math.abs(\n      window.innerHeight - nextBlockElement.offsetHeight\n    );\n\n    /**\n     * Next block ends on screen.\n     * Increment scroll by next block's height to save element onscreen-position\n     */\n    if (nextBlockCoords.top < window.innerHeight) {\n      scrollOffset = window.scrollY + nextBlockElement.offsetHeight;\n    }\n\n    window.scrollTo(0, scrollOffset);\n\n    /** Change blocks positions */\n    this.api.blocks.move(currentBlockIndex + 1);\n\n    this.api.toolbar.toggleBlockSettings(true);\n  }\n}\n","/**\n * @class MoveUpTune\n * @classdesc Editor's default tune that moves up selected block\n * @copyright <CodeX Team> 2018\n */\nimport { API, BlockTune, PopoverItem } from \"../../../types\";\nimport Popover from \"../../components/utils/popover\";\nimport { TunesMenuConfig } from \"../../../types/tools\";\n// import { IconChevronUp } from '@codexteam/icons';\nconst IconChevronUp = `<svg width=\"12\" height=\"16\" viewBox=\"0 0 12 16\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.70711 0.999924C6.31658 0.6094 5.68342 0.609401 5.29289 0.999924L0.146447 6.14637C-0.0488156 6.34163 -0.0488156 6.65822 0.146447 6.85348C0.341709 7.04874 0.658291 7.04874 0.853553 6.85348L5.5 2.20703V15C5.5 15.2761 5.72386 15.5 6 15.5C6.27614 15.5 6.5 15.2761 6.5 15V2.20703L11.1464 6.85348C11.3417 7.04874 11.6583 7.04874 11.8536 6.85348C12.0488 6.65822 12.0488 6.34163 11.8536 6.14637L6.70711 0.999924Z\" />\n</svg>`;\n\n/**\n *\n */\nexport default class MoveUpTune implements BlockTune {\n  /**\n   * Set Tool is Tune\n   */\n  public static readonly isTune = true;\n\n  /**\n   * Property that contains Editor.js API methods\n   *\n   * @see {@link docs/api.md}\n   */\n  private readonly api: API;\n\n  /**\n   * Styles\n   */\n  private CSS = {\n    animation: \"wobble\",\n  };\n\n  /**\n   * MoveUpTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api }) {\n    this.api = api;\n  }\n\n  /**\n   * Tune's appearance in block settings menu\n   */\n  public render(): TunesMenuConfig {\n    return {\n      icon: IconChevronUp,\n      title: this.api.i18n.t(\"Move up\"),\n      onActivate: (): void => this.handleClick(),\n      name: \"move-up\",\n    };\n  }\n\n  /**\n   * Move current block up\n   */\n  public handleClick(): void {\n    const currentBlockIndex = this.api.blocks.getCurrentBlockIndex();\n    const currentBlock = this.api.blocks.getBlockByIndex(currentBlockIndex);\n    const previousBlock = this.api.blocks.getBlockByIndex(\n      currentBlockIndex - 1\n    );\n\n    if (currentBlockIndex === 0 || !currentBlock || !previousBlock) {\n      throw new Error(\"Unable to move Block up since it is already the first\");\n    }\n\n    const currentBlockElement = currentBlock.holder;\n    const previousBlockElement = previousBlock.holder;\n\n    /**\n     * Here is two cases:\n     *  - when previous block has negative offset and part of it is visible on window, then we scroll\n     *  by window's height and add offset which is mathematically difference between two blocks\n     *\n     *  - when previous block is visible and has offset from the window,\n     *      than we scroll window to the difference between this offsets.\n     */\n    const currentBlockCoords = currentBlockElement.getBoundingClientRect(),\n      previousBlockCoords = previousBlockElement.getBoundingClientRect();\n\n    let scrollUpOffset;\n\n    if (previousBlockCoords.top > 0) {\n      scrollUpOffset =\n        Math.abs(currentBlockCoords.top) - Math.abs(previousBlockCoords.top);\n    } else {\n      scrollUpOffset =\n        Math.abs(currentBlockCoords.top) + previousBlockCoords.height;\n    }\n\n    window.scrollBy(0, -1 * scrollUpOffset);\n\n    /** Change blocks positions */\n    this.api.blocks.move(currentBlockIndex - 1);\n\n    this.api.toolbar.toggleBlockSettings(true);\n  }\n}\n","import Block from './index';\nimport { BlockToolData, ToolConfig } from '../../../types/tools';\nimport { SavedData } from '../../../types/data-formats';\nimport { BlockAPI as BlockAPIInterface } from '../../../types/api';\n\n/**\n * Constructs new BlockAPI object\n *\n * @class\n * @param {Block} block - Block to expose\n */\nfunction BlockAPI(\n  block: Block\n): void {\n  const blockAPI: BlockAPIInterface = {\n    /**\n     * Block id\n     *\n     * @returns {string}\n     */\n    get id(): string {\n      return block.id;\n    },\n    /**\n     * Tool name\n     *\n     * @returns {string}\n     */\n    get name(): string {\n      return block.name;\n    },\n\n    /**\n     * Tool config passed on Editor's initialization\n     *\n     * @returns {ToolConfig}\n     */\n    get config(): ToolConfig {\n      return block.config;\n    },\n\n    /**\n     * .ce-block element, that wraps plugin contents\n     *\n     * @returns {HTMLElement}\n     */\n    get holder(): HTMLElement {\n      return block.holder;\n    },\n\n    /**\n     * True if Block content is empty\n     *\n     * @returns {boolean}\n     */\n    get isEmpty(): boolean {\n      return block.isEmpty;\n    },\n\n    /**\n     * True if Block is selected with Cross-Block selection\n     *\n     * @returns {boolean}\n     */\n    get selected(): boolean {\n      return block.selected;\n    },\n\n    /**\n     * Set Block's stretch state\n     *\n     * @param {boolean} state  state to set\n     */\n    set stretched(state: boolean) {\n      block.stretched = state;\n    },\n\n    /**\n     * True if Block is stretched\n     *\n     * @returns {boolean}\n     */\n    get stretched(): boolean {\n      return block.stretched;\n    },\n\n    /**\n     * Call Tool method with errors handler under-the-hood\n     *\n     * @param {string} methodName - method to call\n     * @param {object} param - object with parameters\n     * @returns {unknown}\n     */\n    call(methodName: string, param?: object): unknown {\n      return block.call(methodName, param);\n    },\n\n    /**\n     * Save Block content\n     *\n     * @returns {Promise<void|SavedData>}\n     */\n    save(): Promise<void|SavedData> {\n      return block.save();\n    },\n\n    /**\n     * Validate Block data\n     *\n     * @param {BlockToolData} data - data to validate\n     * @returns {Promise<boolean>}\n     */\n    validate(data: BlockToolData): Promise<boolean> {\n      return block.validate(data);\n    },\n\n    /**\n     * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback\n     * Can be useful for block changes invisible for editor core.\n     */\n    dispatchChange(): void {\n      block.dispatchChange();\n    },\n  };\n\n  Object.setPrototypeOf(this, blockAPI);\n}\n\nexport default BlockAPI;\n","import {\n  BlockAPI as BlockAPIInterface,\n  BlockTool as IBlockTool,\n  BlockToolData,\n  BlockTune as IBlockTune,\n  SanitizerConfig,\n  ToolConfig,\n  ToolboxConfigEntry,\n  PopoverItem\n} from '../../../types';\n\nimport { SavedData } from '../../../types/data-formats';\nimport $ from '../dom';\nimport * as _ from '../utils';\nimport ApiModules from '../modules/api';\nimport BlockAPI from './api';\nimport SelectionUtils from '../selection';\nimport BlockTool from '../tools/block';\n\nimport BlockTune from '../tools/tune';\nimport { BlockTuneData } from '../../../types/block-tunes/block-tune-data';\nimport ToolsCollection from '../tools/collection';\nimport EventsDispatcher from '../utils/events';\nimport { TunesMenuConfigItem } from '../../../types/tools';\nimport { isMutationBelongsToElement } from '../utils/mutations';\nimport { EditorEventMap, FakeCursorAboutToBeToggled, FakeCursorHaveBeenSet, RedactorDomChanged } from '../events';\nimport { RedactorDomChangedPayload } from '../events/RedactorDomChanged';\nimport { convertBlockDataToString } from '../utils/blocks';\n\n/**\n * Interface describes Block class constructor argument\n */\ninterface BlockConstructorOptions {\n  /**\n   * Block's id. Should be passed for existed block, and omitted for a new one.\n   */\n  id?: string;\n\n  /**\n   * Initial Block data\n   */\n  data: BlockToolData;\n\n  /**\n   * Tool object\n   */\n  tool: BlockTool;\n\n  /**\n   * Editor's API methods\n   */\n  api: ApiModules;\n\n  /**\n   * This flag indicates that the Block should be constructed in the read-only mode.\n   */\n  readOnly: boolean;\n\n  /**\n   * Tunes data for current Block\n   */\n  tunesData: { [name: string]: BlockTuneData };\n}\n\n/**\n * @class Block\n * @classdesc This class describes editor`s block, including block`s HTMLElement, data and tool\n * @property {BlockTool} tool  current block tool (Paragraph, for example)\n * @property {object} CSS  block`s css classes\n */\n\n/**\n * Available Block Tool API methods\n */\nexport enum BlockToolAPI {\n  /**\n   * @todo remove method in 3.0.0\n   * @deprecated  use 'rendered' hook instead\n   */\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  APPEND_CALLBACK = 'appendCallback',\n  RENDERED = 'rendered',\n  MOVED = 'moved',\n  UPDATED = 'updated',\n  REMOVED = 'removed',\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  ON_PASTE = 'onPaste',\n}\n\n/**\n * Names of events used in Block\n */\ninterface BlockEvents {\n  'didMutated': Block,\n}\n\n/**\n * @classdesc Abstract Block class that contains Block information, Tool name and Tool class instance\n * @property {BlockTool} tool - Tool instance\n * @property {HTMLElement} holder - Div element that wraps block content with Tool's content. Has `ce-block` CSS class\n * @property {HTMLElement} pluginsContent - HTML content that returns by Tool's render function\n */\nexport default class Block extends EventsDispatcher<BlockEvents> {\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  public static get CSS(): { [name: string]: string } {\n    return {\n      wrapper: 'ce-block',\n      wrapperStretched: 'ce-block--stretched',\n      content: 'ce-block__content',\n      focused: 'ce-block--focused',\n      selected: 'ce-block--selected',\n      dropTarget: 'ce-block--drop-target',\n    };\n  }\n\n  /**\n   * Block unique identifier\n   */\n  public id: string;\n\n  /**\n   * Block Tool`s name\n   */\n  public readonly name: string;\n\n  /**\n   * Instance of the Tool Block represents\n   */\n  public readonly tool: BlockTool;\n\n  /**\n   * User Tool configuration\n   */\n  public readonly settings: ToolConfig;\n\n  /**\n   * Wrapper for Block`s content\n   */\n  public readonly holder: HTMLDivElement;\n\n  /**\n   * Tunes used by Tool\n   */\n  public readonly tunes: ToolsCollection<BlockTune>;\n\n  /**\n   * Tool's user configuration\n   */\n  public readonly config: ToolConfig;\n\n  /**\n   * Cached inputs\n   *\n   * @type {HTMLElement[]}\n   */\n  private cachedInputs: HTMLElement[] = [];\n\n  /**\n   * We'll store a reference to the tool's rendered element to access it later\n   */\n  private toolRenderedElement: HTMLElement | null = null;\n\n  /**\n   * Tool class instance\n   */\n  private readonly toolInstance: IBlockTool;\n\n  /**\n   * User provided Block Tunes instances\n   */\n  private readonly tunesInstances: Map<string, IBlockTune> = new Map();\n\n  /**\n   * Editor provided Block Tunes instances\n   */\n  private readonly defaultTunesInstances: Map<string, IBlockTune> = new Map();\n\n  /**\n   * If there is saved data for Tune which is not available at the moment,\n   * we will store it here and provide back on save so data is not lost\n   */\n  private unavailableTunesData: { [name: string]: BlockTuneData } = {};\n\n  /**\n   * Editor`s API module\n   */\n  private readonly api: ApiModules;\n\n  /**\n   * Focused input index\n   *\n   * @type {number}\n   */\n  private inputIndex = 0;\n\n  /**\n   * Common editor event bus\n   */\n  private readonly editorEventBus: EventsDispatcher<EditorEventMap> | null = null;\n\n  /**\n   * Link to editor dom change callback. Used to remove listener on remove\n   */\n  private redactorDomChangedCallback: (payload: RedactorDomChangedPayload) => void;\n\n  /**\n   * Current block API interface\n   */\n  private readonly blockAPI: BlockAPIInterface;\n\n  /**\n   * @param options - block constructor options\n   * @param [options.id] - block's id. Will be generated if omitted.\n   * @param options.data - Tool's initial data\n   * @param options.tool  block's tool\n   * @param options.api - Editor API module for pass it to the Block Tunes\n   * @param options.readOnly - Read-Only flag\n   * @param [eventBus] - Editor common event bus. Allows to subscribe on some Editor events. Could be omitted when \"virtual\" Block is created. See BlocksAPI@composeBlockData.\n   */\n  constructor({\n    id = _.generateBlockId(),\n    data,\n    tool,\n    api,\n    readOnly,\n    tunesData,\n  }: BlockConstructorOptions, eventBus?: EventsDispatcher<EditorEventMap>) {\n    super();\n\n    this.name = tool.name;\n    this.id = id;\n    this.settings = tool.settings;\n    this.config = tool.settings.config || {};\n    this.api = api;\n    this.editorEventBus = eventBus || null;\n    this.blockAPI = new BlockAPI(this);\n\n    this.tool = tool;\n    this.toolInstance = tool.create(data, this.blockAPI, readOnly);\n\n    /**\n     * @type {BlockTune[]}\n     */\n    this.tunes = tool.tunes;\n\n    this.composeTunes(tunesData);\n\n    this.holder = this.compose();\n\n    /**\n     * Bind block events in RIC for optimizing of constructing process time\n     */\n    window.requestIdleCallback(() => {\n      /**\n       * Start watching block mutations\n       */\n      this.watchBlockMutations();\n\n      /**\n       * Mutation observer doesn't track changes in \"<input>\" and \"<textarea>\"\n       * so we need to track focus events to update current input and clear cache.\n       */\n      this.addInputEvents();\n    });\n  }\n\n  /**\n   * Find and return all editable elements (contenteditable and native inputs) in the Tool HTML\n   *\n   * @returns {HTMLElement[]}\n   */\n  public get inputs(): HTMLElement[] {\n    /**\n     * Return from cache if existed\n     */\n    if (this.cachedInputs.length !== 0) {\n      return this.cachedInputs;\n    }\n\n    const inputs = $.findAllInputs(this.holder);\n\n    /**\n     * If inputs amount was changed we need to check if input index is bigger then inputs array length\n     */\n    if (this.inputIndex > inputs.length - 1) {\n      this.inputIndex = inputs.length - 1;\n    }\n\n    /**\n     * Cache inputs\n     */\n    this.cachedInputs = inputs;\n\n    return inputs;\n  }\n\n  /**\n   * Return current Tool`s input\n   *\n   * @returns {HTMLElement}\n   */\n  public get currentInput(): HTMLElement | Node {\n    return this.inputs[this.inputIndex];\n  }\n\n  /**\n   * Set input index to the passed element\n   *\n   * @param {HTMLElement | Node} element - HTML Element to set as current input\n   */\n  public set currentInput(element: HTMLElement | Node) {\n    const index = this.inputs.findIndex((input) => input === element || input.contains(element));\n\n    if (index !== -1) {\n      this.inputIndex = index;\n    }\n  }\n\n  /**\n   * Return first Tool`s input\n   *\n   * @returns {HTMLElement}\n   */\n  public get firstInput(): HTMLElement {\n    return this.inputs[0];\n  }\n\n  /**\n   * Return first Tool`s input\n   *\n   * @returns {HTMLElement}\n   */\n  public get lastInput(): HTMLElement {\n    const inputs = this.inputs;\n\n    return inputs[inputs.length - 1];\n  }\n\n  /**\n   * Return next Tool`s input or undefined if it doesn't exist\n   *\n   * @returns {HTMLElement}\n   */\n  public get nextInput(): HTMLElement {\n    return this.inputs[this.inputIndex + 1];\n  }\n\n  /**\n   * Return previous Tool`s input or undefined if it doesn't exist\n   *\n   * @returns {HTMLElement}\n   */\n  public get previousInput(): HTMLElement {\n    return this.inputs[this.inputIndex - 1];\n  }\n\n  /**\n   * Get Block's JSON data\n   *\n   * @returns {object}\n   */\n  public get data(): Promise<BlockToolData> {\n    return this.save().then((savedObject) => {\n      if (savedObject && !_.isEmpty(savedObject.data)) {\n        return savedObject.data;\n      } else {\n        return {};\n      }\n    });\n  }\n\n  /**\n   * Returns tool's sanitizer config\n   *\n   * @returns {object}\n   */\n  public get sanitize(): SanitizerConfig {\n    return this.tool.sanitizeConfig;\n  }\n\n  /**\n   * is block mergeable\n   * We plugin have merge function then we call it mergeable\n   *\n   * @returns {boolean}\n   */\n  public get mergeable(): boolean {\n    return _.isFunction(this.toolInstance.merge);\n  }\n\n  /**\n   * Check block for emptiness\n   *\n   * @returns {boolean}\n   */\n  public get isEmpty(): boolean {\n    const emptyText = $.isEmpty(this.pluginsContent);\n    const emptyMedia = !this.hasMedia;\n\n    return emptyText && emptyMedia;\n  }\n\n  /**\n   * Check if block has a media content such as images, iframe and other\n   *\n   * @returns {boolean}\n   */\n  public get hasMedia(): boolean {\n    /**\n     * This tags represents media-content\n     *\n     * @type {string[]}\n     */\n    const mediaTags = [\n      'img',\n      'iframe',\n      'video',\n      'audio',\n      'source',\n      'input',\n      'textarea',\n      'twitterwidget',\n    ];\n\n    return !!this.holder.querySelector(mediaTags.join(','));\n  }\n\n  /**\n   * Set focused state\n   *\n   * @param {boolean} state - 'true' to select, 'false' to remove selection\n   */\n  public set focused(state: boolean) {\n    this.holder.classList.toggle(Block.CSS.focused, state);\n  }\n\n  /**\n   * Get Block's focused state\n   */\n  public get focused(): boolean {\n    return this.holder.classList.contains(Block.CSS.focused);\n  }\n\n  /**\n   * Set selected state\n   * We don't need to mark Block as Selected when it is empty\n   *\n   * @param {boolean} state - 'true' to select, 'false' to remove selection\n   */\n  public set selected(state: boolean) {\n    this.holder.classList.toggle(Block.CSS.selected, state);\n\n    const fakeCursorWillBeAdded = state === true && SelectionUtils.isRangeInsideContainer(this.holder);\n    const fakeCursorWillBeRemoved = state === false && SelectionUtils.isFakeCursorInsideContainer(this.holder);\n\n    if (fakeCursorWillBeAdded || fakeCursorWillBeRemoved) {\n      this.editorEventBus?.emit(FakeCursorAboutToBeToggled, { state }); // mutex\n\n      if (fakeCursorWillBeAdded) {\n        SelectionUtils.addFakeCursor();\n      } else {\n        SelectionUtils.removeFakeCursor(this.holder);\n      }\n\n      this.editorEventBus?.emit(FakeCursorHaveBeenSet, { state });\n    }\n  }\n\n  /**\n   * Returns True if it is Selected\n   *\n   * @returns {boolean}\n   */\n  public get selected(): boolean {\n    return this.holder.classList.contains(Block.CSS.selected);\n  }\n\n  /**\n   * Set stretched state\n   *\n   * @param {boolean} state - 'true' to enable, 'false' to disable stretched state\n   */\n  public set stretched(state: boolean) {\n    this.holder.classList.toggle(Block.CSS.wrapperStretched, state);\n  }\n\n  /**\n   * Return Block's stretched state\n   *\n   * @returns {boolean}\n   */\n  public get stretched(): boolean {\n    return this.holder.classList.contains(Block.CSS.wrapperStretched);\n  }\n\n  /**\n   * Toggle drop target state\n   *\n   * @param {boolean} state - 'true' if block is drop target, false otherwise\n   */\n  public set dropTarget(state) {\n    this.holder.classList.toggle(Block.CSS.dropTarget, state);\n  }\n\n  /**\n   * Returns Plugins content\n   *\n   * @returns {HTMLElement}\n   */\n  public get pluginsContent(): HTMLElement {\n    return this.toolRenderedElement;\n  }\n\n  /**\n   * Calls Tool's method\n   *\n   * Method checks tool property {MethodName}. Fires method with passes params If it is instance of Function\n   *\n   * @param {string} methodName - method to call\n   * @param {object} params - method argument\n   */\n  public call(methodName: string, params?: object): void {\n    /**\n     * call Tool's method with the instance context\n     */\n    if (_.isFunction(this.toolInstance[methodName])) {\n      if (methodName === BlockToolAPI.APPEND_CALLBACK) {\n        _.log(\n          '`appendCallback` hook is deprecated and will be removed in the next major release. ' +\n          'Use `rendered` hook instead',\n          'warn'\n        );\n      }\n\n      try {\n        // eslint-disable-next-line no-useless-call\n        this.toolInstance[methodName].call(this.toolInstance, params);\n      } catch (e) {\n        _.log(`Error during '${methodName}' call: ${e.message}`, 'error');\n      }\n    }\n  }\n\n  /**\n   * Call plugins merge method\n   *\n   * @param {BlockToolData} data - data to merge\n   */\n  public async mergeWith(data: BlockToolData): Promise<void> {\n    await this.toolInstance.merge(data);\n  }\n\n  /**\n   * Extracts data from Block\n   * Groups Tool's save processing time\n   *\n   * @returns {object}\n   */\n  public async save(): Promise<void | SavedData> {\n    const extractedBlock = await this.toolInstance.save(this.pluginsContent as HTMLElement);\n    const tunesData: { [name: string]: BlockTuneData } = this.unavailableTunesData;\n\n    [\n      ...this.tunesInstances.entries(),\n      ...this.defaultTunesInstances.entries(),\n    ]\n      .forEach(([name, tune]) => {\n        if (_.isFunction(tune.save)) {\n          try {\n            tunesData[name] = tune.save();\n          } catch (e) {\n            _.log(`Tune ${tune.constructor.name} save method throws an Error %o`, 'warn', e);\n          }\n        }\n      });\n\n    /**\n     * Measuring execution time\n     */\n    const measuringStart = window.performance.now();\n    let measuringEnd;\n\n    return Promise.resolve(extractedBlock)\n      .then((finishedExtraction) => {\n        /** measure promise execution */\n        measuringEnd = window.performance.now();\n\n        return {\n          id: this.id,\n          tool: this.name,\n          data: finishedExtraction,\n          tunes: tunesData,\n          time: measuringEnd - measuringStart,\n        };\n      })\n      .catch((error) => {\n        _.log(`Saving process for ${this.name} tool failed due to the ${error}`, 'log', 'red');\n      });\n  }\n\n  /**\n   * Uses Tool's validation method to check the correctness of output data\n   * Tool's validation method is optional\n   *\n   * @description Method returns true|false whether data passed the validation or not\n   * @param {BlockToolData} data - data to validate\n   * @returns {Promise<boolean>} valid\n   */\n  public async validate(data: BlockToolData): Promise<boolean> {\n    let isValid = true;\n\n    if (this.toolInstance.validate instanceof Function) {\n      isValid = await this.toolInstance.validate(data);\n    }\n\n    return isValid;\n  }\n\n  /**\n   * Returns data to render in tunes menu.\n   * Splits block tunes settings into 2 groups: popover items and custom html.\n   */\n  public getTunes(): [PopoverItem[], HTMLElement] {\n    const customHtmlTunesContainer = document.createElement('div');\n    const tunesItems: TunesMenuConfigItem[] = [];\n\n    /** Tool's tunes: may be defined as return value of optional renderSettings method */\n    const tunesDefinedInTool = typeof this.toolInstance.renderSettings === 'function' ? this.toolInstance.renderSettings() : [];\n\n    /** Common tunes: combination of default tunes (move up, move down, delete) and third-party tunes connected via tunes api */\n    const commonTunes = [\n      ...this.tunesInstances.values(),\n      ...this.defaultTunesInstances.values(),\n    ].map(tuneInstance => tuneInstance.render());\n\n    [tunesDefinedInTool, commonTunes].flat().forEach(rendered => {\n      if ($.isElement(rendered)) {\n        customHtmlTunesContainer.appendChild(rendered);\n      } else if (Array.isArray(rendered)) {\n        tunesItems.push(...rendered);\n      } else {\n        tunesItems.push(rendered);\n      }\n    });\n\n    return [tunesItems, customHtmlTunesContainer];\n  }\n\n  /**\n   * Update current input index with selection anchor node\n   */\n  public updateCurrentInput(): void {\n    /**\n     * If activeElement is native input, anchorNode points to its parent.\n     * So if it is native input use it instead of anchorNode\n     *\n     * If anchorNode is undefined, also use activeElement\n     */\n    this.currentInput = $.isNativeInput(document.activeElement) || !SelectionUtils.anchorNode\n      ? document.activeElement\n      : SelectionUtils.anchorNode;\n  }\n\n  /**\n   * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback\n   * Can be useful for block changes invisible for editor core.\n   */\n  public dispatchChange(): void {\n    this.didMutated();\n  }\n\n  /**\n   * Call Tool instance destroy method\n   */\n  public destroy(): void {\n    this.unwatchBlockMutations();\n    this.removeInputEvents();\n\n    super.destroy();\n\n    if (_.isFunction(this.toolInstance.destroy)) {\n      this.toolInstance.destroy();\n    }\n  }\n\n  /**\n   * Tool could specify several entries to be displayed at the Toolbox (for example, \"Heading 1\", \"Heading 2\", \"Heading 3\")\n   * This method returns the entry that is related to the Block (depended on the Block data)\n   */\n  public async getActiveToolboxEntry(): Promise<ToolboxConfigEntry | undefined> {\n    const toolboxSettings = this.tool.toolbox;\n\n    /**\n     * If Tool specifies just the single entry, treat it like an active\n     */\n    if (toolboxSettings.length === 1) {\n      return Promise.resolve(this.tool.toolbox[0]);\n    }\n\n    /**\n     * If we have several entries with their own data overrides,\n     * find those who matches some current data property\n     *\n     * Example:\n     *  Tools' toolbox: [\n     *    {title: \"Heading 1\", data: {level: 1} },\n     *    {title: \"Heading 2\", data: {level: 2} }\n     *  ]\n     *\n     *  the Block data: {\n     *    text: \"Heading text\",\n     *    level: 2\n     *  }\n     *\n     *  that means that for the current block, the second toolbox item (matched by \"{level: 2}\") is active\n     */\n    const blockData = await this.data;\n    const toolboxItems = toolboxSettings;\n\n    return toolboxItems.find((item) => {\n      return Object.entries(item.data)\n        .some(([propName, propValue]) => {\n          return blockData[propName] && _.equals(blockData[propName], propValue);\n        });\n    });\n  }\n\n  /**\n   * Exports Block data as string using conversion config\n   */\n  public async exportDataAsString(): Promise<string> {\n    const blockData = await this.data;\n\n    return convertBlockDataToString(blockData, this.tool.conversionConfig);\n  }\n\n  /**\n   * Make default Block wrappers and put Tool`s content there\n   *\n   * @returns {HTMLDivElement}\n   */\n  private compose(): HTMLDivElement {\n    const wrapper = $.make('div', Block.CSS.wrapper) as HTMLDivElement,\n        contentNode = $.make('div', Block.CSS.content),\n        pluginsContent = this.toolInstance.render();\n\n    /**\n     * Export id to the DOM three\n     * Useful for standalone modules development. For example, allows to identify Block by some child node. Or scroll to a particular Block by id.\n     */\n    wrapper.dataset.id = this.id;\n\n    /**\n     * Saving a reference to plugin's content element for guaranteed accessing it later\n     */\n    this.toolRenderedElement = pluginsContent;\n\n    contentNode.appendChild(this.toolRenderedElement);\n\n    /**\n     * Block Tunes might wrap Block's content node to provide any UI changes\n     *\n     * <tune2wrapper>\n     *   <tune1wrapper>\n     *     <blockContent />\n     *   </tune1wrapper>\n     * </tune2wrapper>\n     */\n    let wrappedContentNode: HTMLElement = contentNode;\n\n    [...this.tunesInstances.values(), ...this.defaultTunesInstances.values()]\n      .forEach((tune) => {\n        if (_.isFunction(tune.wrap)) {\n          try {\n            wrappedContentNode = tune.wrap(wrappedContentNode);\n          } catch (e) {\n            _.log(`Tune ${tune.constructor.name} wrap method throws an Error %o`, 'warn', e);\n          }\n        }\n      });\n\n    wrapper.appendChild(wrappedContentNode);\n\n    return wrapper;\n  }\n\n  /**\n   * Instantiate Block Tunes\n   *\n   * @param tunesData - current Block tunes data\n   * @private\n   */\n  private composeTunes(tunesData: { [name: string]: BlockTuneData }): void {\n    Array.from(this.tunes.values()).forEach((tune) => {\n      const collection = tune.isInternal ? this.defaultTunesInstances : this.tunesInstances;\n\n      collection.set(tune.name, tune.create(tunesData[tune.name], this.blockAPI));\n    });\n\n    /**\n     * Check if there is some data for not available tunes\n     */\n    Object.entries(tunesData).forEach(([name, data]) => {\n      if (!this.tunesInstances.has(name)) {\n        this.unavailableTunesData[name] = data;\n      }\n    });\n  }\n\n  /**\n   * Is fired when text input or contentEditable is focused\n   */\n  private handleFocus = (): void => {\n    /**\n     * Drop inputs cache to query the new ones\n     */\n    this.dropInputsCache();\n\n    /**\n     * Update current input\n     */\n    this.updateCurrentInput();\n  };\n\n  /**\n   * Adds focus event listeners to all inputs and contenteditable\n   */\n  private addInputEvents(): void {\n    this.inputs.forEach(input => {\n      input.addEventListener('focus', this.handleFocus);\n\n      /**\n       * If input is native input add oninput listener to observe changes\n       */\n      if ($.isNativeInput(input)) {\n        input.addEventListener('input', this.didMutated as EventListener);\n      }\n    });\n  }\n\n  /**\n   * removes focus event listeners from all inputs and contenteditable\n   */\n  private removeInputEvents(): void {\n    this.inputs.forEach(input => {\n      input.removeEventListener('focus', this.handleFocus);\n\n      if ($.isNativeInput(input)) {\n        input.removeEventListener('input', this.didMutated as EventListener);\n      }\n    });\n  }\n\n  /**\n   * Is fired when DOM mutation has been happened\n   *\n   * @param mutationsOrInputEvent - actual changes\n   *   - MutationRecord[] - any DOM change\n   *   - InputEvent  <input> change\n   *   - undefined  manual triggering of block.dispatchChange()\n   */\n  private readonly didMutated = (mutationsOrInputEvent: MutationRecord[] | InputEvent = undefined): void => {\n    /**\n     * Block API have dispatchChange() method. In this case, mutations list will be undefined.\n     */\n    const isManuallyDispatched = mutationsOrInputEvent === undefined;\n\n    /**\n     * True if didMutated has been called as \"input\" event handler\n     */\n    const isInputEventHandler = mutationsOrInputEvent instanceof InputEvent;\n\n    /**\n     * If tool updates its own root element, we need to renew it in our memory\n     */\n    if (!isManuallyDispatched && !isInputEventHandler) {\n      this.detectToolRootChange(mutationsOrInputEvent);\n    }\n\n    /**\n     * We won't fire a Block mutation event if mutation contain only nodes marked with 'data-mutation-free' attributes\n     */\n    let shouldFireUpdate;\n\n    if (isManuallyDispatched) {\n      shouldFireUpdate = true;\n    } else if (isInputEventHandler) {\n      shouldFireUpdate = true;\n    } else {\n      /**\n       * Update from 2023, Feb 17:\n       *    Changed mutationsOrInputEvent.some() to mutationsOrInputEvent.every()\n       *    since there could be a real mutations same-time with mutation-free changes,\n       *    for example when Block Tune change: block is changing along with FakeCursor (mutation-free) removing\n       *     we should fire 'didMutated' event in that case\n       */\n      const everyRecordIsMutationFree = mutationsOrInputEvent.length > 0 && mutationsOrInputEvent.every((record) => {\n        const { addedNodes, removedNodes, target } = record;\n        const changedNodes = [\n          ...Array.from(addedNodes),\n          ...Array.from(removedNodes),\n          target,\n        ];\n\n        return changedNodes.some((node) => {\n          if (!$.isElement(node)) {\n            return false;\n          }\n\n          return (node as HTMLElement).dataset.mutationFree === 'true';\n        });\n      });\n\n      shouldFireUpdate = !everyRecordIsMutationFree;\n    }\n\n    /**\n     * In case some mutation free elements are added or removed, do not trigger didMutated event\n     */\n    if (!shouldFireUpdate) {\n      return;\n    }\n\n    this.dropInputsCache();\n\n    /**\n     * Update current input\n     */\n    this.updateCurrentInput();\n\n    this.call(BlockToolAPI.UPDATED);\n\n    /**\n     * Emit a Block Event with current Block instance.\n     * Block Manager subscribed to these events\n     */\n    this.emit('didMutated', this);\n  };\n\n  /**\n   * Listen common editor Dom Changed event and detect mutations related to the  Block\n   */\n  private watchBlockMutations(): void {\n    /**\n     * Save callback to a property to remove it on Block destroy\n     *\n     * @param payload - event payload\n     */\n    this.redactorDomChangedCallback = (payload) => {\n      const { mutations } = payload;\n\n      const mutationBelongsToBlock = mutations.some(record => isMutationBelongsToElement(record, this.toolRenderedElement));\n\n      if (mutationBelongsToBlock) {\n        this.didMutated(mutations);\n      }\n    };\n\n    this.editorEventBus?.on(RedactorDomChanged, this.redactorDomChangedCallback);\n  }\n\n  /**\n   * Remove redactor dom change event listener\n   */\n  private unwatchBlockMutations(): void {\n    this.editorEventBus?.off(RedactorDomChanged, this.redactorDomChangedCallback);\n  }\n\n  /**\n   * Sometimes Tool can replace own main element, for example H2 -> H4 or UL -> OL\n   * We need to detect such changes and update a link to tools main element with the new one\n   *\n   * @param mutations - records of block content mutations\n   */\n  private detectToolRootChange(mutations: MutationRecord[]): void {\n    mutations.forEach(record => {\n      const toolRootHasBeenUpdated = Array.from(record.removedNodes).includes(this.toolRenderedElement);\n\n      if (toolRootHasBeenUpdated) {\n        const newToolElement = record.addedNodes[record.addedNodes.length - 1];\n\n        this.toolRenderedElement = newToolElement as HTMLElement;\n      }\n    });\n  }\n\n  /**\n   * Clears inputs cached value\n   */\n  private dropInputsCache(): void {\n    this.cachedInputs = [];\n  }\n}\n","import * as _ from './utils';\nimport $ from './dom';\nimport Block, { BlockToolAPI } from './block';\nimport { MoveEvent } from '../../types/tools';\n\n/**\n * @class Blocks\n * @classdesc Class to work with Block instances array\n * @private\n * @property {HTMLElement} workingArea  editor`s working node\n */\nexport default class Blocks {\n  /**\n   * Array of Block instances in order of addition\n   */\n  public blocks: Block[];\n\n  /**\n   * Editor`s area where to add Block`s HTML\n   */\n  public workingArea: HTMLElement;\n\n  /**\n   * @class\n   * @param {HTMLElement} workingArea  editor`s working node\n   */\n  constructor(workingArea: HTMLElement) {\n    this.blocks = [];\n    this.workingArea = workingArea;\n  }\n\n  /**\n   * Get length of Block instances array\n   *\n   * @returns {number}\n   */\n  public get length(): number {\n    return this.blocks.length;\n  }\n\n  /**\n   * Get Block instances array\n   *\n   * @returns {Block[]}\n   */\n  public get array(): Block[] {\n    return this.blocks;\n  }\n\n  /**\n   * Get blocks html elements array\n   *\n   * @returns {HTMLElement[]}\n   */\n  public get nodes(): HTMLElement[] {\n    return _.array(this.workingArea.children);\n  }\n\n  /**\n   * Proxy trap to implement array-like setter\n   *\n   * @example\n   * blocks[0] = new Block(...)\n   * @param {Blocks} instance  Blocks instance\n   * @param {PropertyKey} property  block index or any Blocks class property key to set\n   * @param {Block} value  value to set\n   * @returns {boolean}\n   */\n  public static set(instance: Blocks, property: PropertyKey, value: Block | unknown): boolean {\n    /**\n     * If property name is not a number (method or other property, access it via reflect\n     */\n    if (isNaN(Number(property))) {\n      Reflect.set(instance, property, value);\n\n      return true;\n    }\n\n    /**\n     * If property is number, call insert method to emulate array behaviour\n     *\n     * @example\n     * blocks[0] = new Block();\n     */\n    instance.insert(+(property as number), value as Block);\n\n    return true;\n  }\n\n  /**\n   * Proxy trap to implement array-like getter\n   *\n   * @param {Blocks} instance  Blocks instance\n   * @param {PropertyKey} property  Blocks class property key\n   * @returns {Block|*}\n   */\n  public static get(instance: Blocks, property: PropertyKey): Block | unknown {\n    /**\n     * If property is not a number, get it via Reflect object\n     */\n    if (isNaN(Number(property))) {\n      return Reflect.get(instance, property);\n    }\n\n    /**\n     * If property is a number (Block index) return Block by passed index\n     */\n    return instance.get(+(property as number));\n  }\n\n  /**\n   * Push new Block to the blocks array and append it to working area\n   *\n   * @param {Block} block - Block to add\n   */\n  public push(block: Block): void {\n    this.blocks.push(block);\n    this.insertToDOM(block);\n  }\n\n  /**\n   * Swaps blocks with indexes first and second\n   *\n   * @param {number} first - first block index\n   * @param {number} second - second block index\n   * @deprecated  use 'move' instead\n   */\n  public swap(first: number, second: number): void {\n    const secondBlock = this.blocks[second];\n\n    /**\n     * Change in DOM\n     */\n    $.swap(this.blocks[first].holder, secondBlock.holder);\n\n    /**\n     * Change in array\n     */\n    this.blocks[second] = this.blocks[first];\n    this.blocks[first] = secondBlock;\n  }\n\n  /**\n   * Move a block from one to another index\n   *\n   * @param {number} toIndex - new index of the block\n   * @param {number} fromIndex - block to move\n   */\n  public move(toIndex: number, fromIndex: number): void {\n    /**\n     * cut out the block, move the DOM element and insert at the desired index\n     * again (the shifting within the blocks array will happen automatically).\n     *\n     * @see https://stackoverflow.com/a/44932690/1238150\n     */\n    const block = this.blocks.splice(fromIndex, 1)[0];\n\n    // manipulate DOM\n    const prevIndex = toIndex - 1;\n    const previousBlockIndex = Math.max(0, prevIndex);\n    const previousBlock = this.blocks[previousBlockIndex];\n\n    if (toIndex > 0) {\n      this.insertToDOM(block, 'afterend', previousBlock);\n    } else {\n      this.insertToDOM(block, 'beforebegin', previousBlock);\n    }\n\n    // move in array\n    this.blocks.splice(toIndex, 0, block);\n\n    // invoke hook\n    const event: MoveEvent = this.composeBlockEvent('move', {\n      fromIndex,\n      toIndex,\n    });\n\n    block.call(BlockToolAPI.MOVED, event);\n  }\n\n  /**\n   * Insert new Block at passed index\n   *\n   * @param {number} index  index to insert Block\n   * @param {Block} block  Block to insert\n   * @param {boolean} replace  it true, replace block on given index\n   */\n  public insert(index: number, block: Block, replace = false): void {\n    if (!this.length) {\n      this.push(block);\n\n      return;\n    }\n\n    if (index > this.length) {\n      index = this.length;\n    }\n\n    if (replace) {\n      this.blocks[index].holder.remove();\n      this.blocks[index].call(BlockToolAPI.REMOVED);\n    }\n\n    const deleteCount = replace ? 1 : 0;\n\n    this.blocks.splice(index, deleteCount, block);\n\n    if (index > 0) {\n      const previousBlock = this.blocks[index - 1];\n\n      this.insertToDOM(block, 'afterend', previousBlock);\n    } else {\n      const nextBlock = this.blocks[index + 1];\n\n      if (nextBlock) {\n        this.insertToDOM(block, 'beforebegin', nextBlock);\n      } else {\n        this.insertToDOM(block);\n      }\n    }\n  }\n\n  /**\n   * Replaces block under passed index with passed block\n   *\n   * @param index - index of existed block\n   * @param block - new block\n   */\n  public replace(index: number, block: Block): void {\n    if (this.blocks[index] === undefined) {\n      throw Error('Incorrect index');\n    }\n\n    const prevBlock = this.blocks[index];\n\n    prevBlock.holder.replaceWith(block.holder);\n\n    this.blocks[index] = block;\n  }\n\n  /**\n   * Inserts several blocks at once\n   *\n   * @param blocks - blocks to insert\n   * @param index - index to insert blocks at\n   */\n  public insertMany(blocks: Block[], index: number ): void {\n    const fragment = new DocumentFragment();\n\n    for (const block of blocks) {\n      fragment.appendChild(block.holder);\n    }\n\n    if (this.length > 0) {\n      if (index > 0) {\n        const previousBlockIndex = Math.min(index - 1, this.length - 1);\n        const previousBlock = this.blocks[previousBlockIndex];\n\n        previousBlock.holder.after(fragment);\n      } else if (index === 0) {\n        this.workingArea.prepend(fragment);\n      }\n\n      /**\n       * Insert blocks to the array at the specified index\n       */\n      this.blocks.splice(index, 0, ...blocks);\n    } else {\n      this.blocks.push(...blocks);\n      this.workingArea.appendChild(fragment);\n    }\n\n    /**\n     * Call Rendered event for each block\n     */\n    blocks.forEach((block) => block.call(BlockToolAPI.RENDERED));\n  }\n\n  /**\n   * Remove block\n   *\n   * @param {number} index - index of Block to remove\n   */\n  public remove(index: number): void {\n    if (isNaN(index)) {\n      index = this.length - 1;\n    }\n\n    this.blocks[index].holder.remove();\n\n    this.blocks[index].call(BlockToolAPI.REMOVED);\n\n    this.blocks.splice(index, 1);\n  }\n\n  /**\n   * Remove all blocks\n   */\n  public removeAll(): void {\n    this.workingArea.innerHTML = '';\n\n    this.blocks.forEach((block) => block.call(BlockToolAPI.REMOVED));\n\n    this.blocks.length = 0;\n  }\n\n  /**\n   * Insert Block after passed target\n   *\n   * @todo decide if this method is necessary\n   * @param {Block} targetBlock  target after which Block should be inserted\n   * @param {Block} newBlock  Block to insert\n   */\n  public insertAfter(targetBlock: Block, newBlock: Block): void {\n    const index = this.blocks.indexOf(targetBlock);\n\n    this.insert(index + 1, newBlock);\n  }\n\n  /**\n   * Get Block by index\n   *\n   * @param {number} index  Block index\n   * @returns {Block}\n   */\n  public get(index: number): Block {\n    return this.blocks[index];\n  }\n\n  /**\n   * Return index of passed Block\n   *\n   * @param {Block} block - Block to find\n   * @returns {number}\n   */\n  public indexOf(block: Block): number {\n    return this.blocks.indexOf(block);\n  }\n\n  /**\n   * Insert new Block into DOM\n   *\n   * @param {Block} block - Block to insert\n   * @param {InsertPosition} position  insert position (if set, will use insertAdjacentElement)\n   * @param {Block} target  Block related to position\n   */\n  private insertToDOM(block: Block, position?: InsertPosition, target?: Block): void {\n    if (position) {\n      target.holder.insertAdjacentElement(position, block.holder);\n    } else {\n      this.workingArea.appendChild(block.holder);\n    }\n\n    block.call(BlockToolAPI.RENDERED);\n  }\n\n  /**\n   * Composes Block event with passed type and details\n   *\n   * @param {string} type - event type\n   * @param {object} detail - event detail\n   */\n  private composeBlockEvent(type: string, detail: object): MoveEvent {\n    return new CustomEvent(type, {\n      detail,\n    }) as MoveEvent;\n  }\n}\n","import $ from './dom';\nimport * as _ from './utils';\nimport { EditorConfig, SanitizerConfig } from '../../types';\nimport { EditorModules } from '../types-internal/editor-modules';\nimport I18n from './i18n';\nimport { CriticalError } from './errors/critical';\nimport EventsDispatcher from './utils/events';\nimport Modules from './modules';\nimport { EditorEventMap } from './events';\n\n/**\n * Editor.js core class. Bootstraps modules.\n */\nexport default class Core {\n  /**\n   * Editor configuration passed by user to the constructor\n   */\n  public config: EditorConfig;\n\n  /**\n   * Object with core modules instances\n   */\n  public moduleInstances: EditorModules = {} as EditorModules;\n\n  /**\n   * Promise that resolves when all core modules are prepared and UI is rendered on the page\n   */\n  public isReady: Promise<void>;\n\n  /**\n   * Common Editor Event Bus\n   */\n  private eventsDispatcher: EventsDispatcher<EditorEventMap> = new EventsDispatcher();\n\n  /**\n   * @param {EditorConfig} config - user configuration\n   */\n  constructor(config?: EditorConfig|string) {\n    /**\n     * Ready promise. Resolved if Editor.js is ready to work, rejected otherwise\n     */\n    let onReady: (value?: void | PromiseLike<void>) => void;\n    let onFail: (reason?: unknown) => void;\n\n    this.isReady = new Promise((resolve, reject) => {\n      onReady = resolve;\n      onFail = reject;\n    });\n\n    Promise.resolve()\n      .then(async () => {\n        this.configuration = config;\n\n        this.validate();\n        this.init();\n        await this.start();\n        await this.render();\n\n        const { BlockManager, Caret, UI, ModificationsObserver } = this.moduleInstances;\n\n        UI.checkEmptiness();\n        ModificationsObserver.enable();\n\n        if ((this.configuration as EditorConfig).autofocus) {\n          Caret.setToBlock(BlockManager.blocks[0], Caret.positions.START);\n          BlockManager.highlightCurrentNode();\n        }\n\n        onReady();\n      })\n      .catch((error) => {\n        _.log(`Editor.js is not ready because of ${error}`, 'error');\n\n        /**\n         * Reject this.isReady promise\n         */\n        onFail(error);\n      });\n  }\n\n  /**\n   * Setting for configuration\n   *\n   * @param {EditorConfig|string} config - Editor's config to set\n   */\n  public set configuration(config: EditorConfig|string) {\n    /**\n     * Place config into the class property\n     *\n     * @type {EditorConfig}\n     */\n    if (_.isObject(config)) {\n      this.config = {\n        ...config,\n      };\n    } else {\n      /**\n       * Process zero-configuration or with only holderId\n       * Make config object\n       */\n      this.config = {\n        holder: config,\n      };\n    }\n\n    /**\n     * If holderId is preset, assign him to holder property and work next only with holder\n     */\n    _.deprecationAssert(!!this.config.holderId, 'config.holderId', 'config.holder');\n    if (this.config.holderId && !this.config.holder) {\n      this.config.holder = this.config.holderId;\n      this.config.holderId = null;\n    }\n\n    /**\n     * If holder is empty then set a default value\n     */\n    if (this.config.holder == null) {\n      this.config.holder = 'editorjs';\n    }\n\n    if (!this.config.logLevel) {\n      this.config.logLevel = _.LogLevels.VERBOSE;\n    }\n\n    _.setLogLevel(this.config.logLevel);\n\n    /**\n     * If default Block's Tool was not passed, use the Paragraph Tool\n     */\n    _.deprecationAssert(Boolean(this.config.initialBlock), 'config.initialBlock', 'config.defaultBlock');\n    this.config.defaultBlock = this.config.defaultBlock || this.config.initialBlock || 'paragraph';\n\n    /**\n     * Height of Editor's bottom area that allows to set focus on the last Block\n     *\n     * @type {number}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n    this.config.minHeight = this.config.minHeight !== undefined ? this.config.minHeight : 300;\n\n    /**\n     * Default block type\n     * Uses in case when there is no blocks passed\n     *\n     * @type {{type: (*), data: {text: null}}}\n     */\n    const defaultBlockData = {\n      type: this.config.defaultBlock,\n      data: {},\n    };\n\n    this.config.placeholder = this.config.placeholder || false;\n    this.config.sanitizer = this.config.sanitizer || {\n      p: true,\n      b: true,\n      a: true,\n    } as SanitizerConfig;\n\n    this.config.hideToolbar = this.config.hideToolbar ? this.config.hideToolbar : false;\n    this.config.tools = this.config.tools || {};\n    this.config.i18n = this.config.i18n || {};\n    this.config.data = this.config.data || { blocks: [] };\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this.config.onReady = this.config.onReady || ((): void => {});\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this.config.onChange = this.config.onChange || ((): void => {});\n    this.config.inlineToolbar = this.config.inlineToolbar !== undefined ? this.config.inlineToolbar : true;\n\n    /**\n     * Initialize default Block to pass data to the Renderer\n     */\n    if (_.isEmpty(this.config.data) || !this.config.data.blocks || this.config.data.blocks.length === 0) {\n      this.config.data = { blocks: [ defaultBlockData ] };\n    }\n\n    this.config.readOnly = this.config.readOnly as boolean || false;\n\n    /**\n     * Adjust i18n\n     */\n    if (this.config.i18n?.messages) {\n      I18n.setDictionary(this.config.i18n.messages);\n    }\n\n    /**\n     * Text direction. If not set, uses ltr\n     */\n    this.config.i18n.direction = this.config.i18n?.direction || 'ltr';\n  }\n\n  /**\n   * Returns private property\n   *\n   * @returns {EditorConfig}\n   */\n  public get configuration(): EditorConfig {\n    return this.config;\n  }\n\n  /**\n   * Checks for required fields in Editor's config\n   */\n  public validate(): void {\n    const { holderId, holder } = this.config;\n\n    if (holderId && holder) {\n      throw Error('holderId and holder param can\\'t assign at the same time.');\n    }\n\n    /**\n     * Check for a holder element's existence\n     */\n    if (_.isString(holder) && !$.get(holder)) {\n      throw Error(`element with ID ${holder} is missing. Pass correct holder's ID.`);\n    }\n\n    if (holder && _.isObject(holder) && !$.isElement(holder)) {\n      throw Error('holder value must be an Element node');\n    }\n  }\n\n  /**\n   * Initializes modules:\n   *  - make and save instances\n   *  - configure\n   */\n  public init(): void {\n    /**\n     * Make modules instances and save it to the @property this.moduleInstances\n     */\n    this.constructModules();\n\n    /**\n     * Modules configuration\n     */\n    this.configureModules();\n  }\n\n  /**\n   * Start Editor!\n   *\n   * Get list of modules that needs to be prepared and return a sequence (Promise)\n   *\n   * @returns {Promise<void>}\n   */\n  public async start(): Promise<void> {\n    const modulesToPrepare = [\n      'Tools',\n      'UI',\n      'BlockManager',\n      'Paste',\n      'BlockSelection',\n      'RectangleSelection',\n      'CrossBlockSelection',\n      'ReadOnly',\n    ];\n\n    await modulesToPrepare.reduce(\n      (promise, module) => promise.then(async () => {\n        // _.log(`Preparing ${module} module`, 'time');\n\n        try {\n          await this.moduleInstances[module].prepare();\n        } catch (e) {\n          /**\n           * CriticalError's will not be caught\n           * It is used when Editor is rendering in read-only mode with unsupported plugin\n           */\n          if (e instanceof CriticalError) {\n            throw new Error(e.message);\n          }\n          _.log(`Module ${module} was skipped because of %o`, 'warn', e);\n        }\n        // _.log(`Preparing ${module} module`, 'timeEnd');\n      }),\n      Promise.resolve()\n    );\n  }\n\n  /**\n   * Render initial data\n   */\n  private render(): Promise<void> {\n    return this.moduleInstances.Renderer.render(this.config.data.blocks);\n  }\n\n  /**\n   * Make modules instances and save it to the @property this.moduleInstances\n   */\n  private constructModules(): void {\n    Object.entries(Modules).forEach(([key, module]) => {\n      try {\n        this.moduleInstances[key] = new module({\n          config: this.configuration,\n          eventsDispatcher: this.eventsDispatcher,\n        });\n      } catch (e) {\n        _.log('[constructModules]', `Module ${key} skipped because`, 'error', e);\n      }\n    });\n  }\n\n  /**\n   * Modules instances configuration:\n   *  - pass other modules to the 'state' property\n   *  - ...\n   */\n  private configureModules(): void {\n    for (const name in this.moduleInstances) {\n      if (Object.prototype.hasOwnProperty.call(this.moduleInstances, name)) {\n        /**\n         * Module does not need self-instance\n         */\n        this.moduleInstances[name].state = this.getModulesDiff(name);\n      }\n    }\n  }\n\n  /**\n   * Return modules without passed name\n   *\n   * @param {string} name - module for witch modules difference should be calculated\n   */\n  private getModulesDiff(name: string): EditorModules {\n    const diff = {} as EditorModules;\n\n    for (const moduleName in this.moduleInstances) {\n      /**\n       * Skip module with passed name\n       */\n      if (moduleName === name) {\n        continue;\n      }\n      diff[moduleName] = this.moduleInstances[moduleName];\n    }\n\n    return diff;\n  }\n}\n","import * as _ from './utils';\n\n/**\n * DOM manipulations helper\n */\nexport default class Dom {\n  /**\n   * Check if passed tag has no closed tag\n   *\n   * @param {HTMLElement} tag - element to check\n   * @returns {boolean}\n   */\n  public static isSingleTag(tag: HTMLElement): boolean {\n    return tag.tagName && [\n      'AREA',\n      'BASE',\n      'BR',\n      'COL',\n      'COMMAND',\n      'EMBED',\n      'HR',\n      'IMG',\n      'INPUT',\n      'KEYGEN',\n      'LINK',\n      'META',\n      'PARAM',\n      'SOURCE',\n      'TRACK',\n      'WBR',\n    ].includes(tag.tagName);\n  }\n\n  /**\n   * Check if element is BR or WBR\n   *\n   * @param {HTMLElement} element - element to check\n   * @returns {boolean}\n   */\n  public static isLineBreakTag(element: HTMLElement): element is HTMLBRElement {\n    return element && element.tagName && [\n      'BR',\n      'WBR',\n    ].includes(element.tagName);\n  }\n\n  /**\n   * Helper for making Elements with class name and attributes\n   *\n   * @param  {string} tagName - new Element tag name\n   * @param  {string[]|string} [classNames] - list or name of CSS class name(s)\n   * @param  {object} [attributes] - any attributes\n   * @returns {HTMLElement}\n   */\n  public static make(tagName: string, classNames: string | string[] = null, attributes: object = {}): HTMLElement {\n    const el = document.createElement(tagName);\n\n    if (Array.isArray(classNames)) {\n      el.classList.add(...classNames);\n    } else if (classNames) {\n      el.classList.add(classNames);\n    }\n\n    for (const attrName in attributes) {\n      if (Object.prototype.hasOwnProperty.call(attributes, attrName)) {\n        el[attrName] = attributes[attrName];\n      }\n    }\n\n    return el;\n  }\n\n  /**\n   * Creates Text Node with the passed content\n   *\n   * @param {string} content - text content\n   * @returns {Text}\n   */\n  public static text(content: string): Text {\n    return document.createTextNode(content);\n  }\n\n  /**\n   * Append one or several elements to the parent\n   *\n   * @param  {Element|DocumentFragment} parent - where to append\n   * @param  {Element|Element[]|DocumentFragment|Text|Text[]} elements - element or elements list\n   */\n  public static append(\n    parent: Element | DocumentFragment,\n    elements: Element | Element[] | DocumentFragment | Text | Text[]\n  ): void {\n    if (Array.isArray(elements)) {\n      elements.forEach((el) => parent.appendChild(el));\n    } else {\n      parent.appendChild(elements);\n    }\n  }\n\n  /**\n   * Append element or a couple to the beginning of the parent elements\n   *\n   * @param {Element} parent - where to append\n   * @param {Element|Element[]} elements - element or elements list\n   */\n  public static prepend(parent: Element, elements: Element | Element[]): void {\n    if (Array.isArray(elements)) {\n      elements = elements.reverse();\n      elements.forEach((el) => parent.prepend(el));\n    } else {\n      parent.prepend(elements);\n    }\n  }\n\n  /**\n   * Swap two elements in parent\n   *\n   * @param {HTMLElement} el1 - from\n   * @param {HTMLElement} el2 - to\n   * @deprecated\n   */\n  public static swap(el1: HTMLElement, el2: HTMLElement): void {\n    // create marker element and insert it where el1 is\n    const temp = document.createElement('div'),\n        parent = el1.parentNode;\n\n    parent.insertBefore(temp, el1);\n\n    // move el1 to right before el2\n    parent.insertBefore(el1, el2);\n\n    // move el2 to right before where el1 used to be\n    parent.insertBefore(el2, temp);\n\n    // remove temporary marker node\n    parent.removeChild(temp);\n  }\n\n  /**\n   * Selector Decorator\n   *\n   * Returns first match\n   *\n   * @param {Element} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   * @returns {Element}\n   */\n  public static find(el: Element | Document = document, selector: string): Element | null {\n    return el.querySelector(selector);\n  }\n\n  /**\n   * Get Element by Id\n   *\n   * @param {string} id - id to find\n   * @returns {HTMLElement | null}\n   */\n  public static get(id: string): HTMLElement | null {\n    return document.getElementById(id);\n  }\n\n  /**\n   * Selector Decorator.\n   *\n   * Returns all matches\n   *\n   * @param {Element|Document} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   * @returns {NodeList}\n   */\n  public static findAll(el: Element | Document = document, selector: string): NodeList {\n    return el.querySelectorAll(selector);\n  }\n\n  /**\n   * Returns CSS selector for all text inputs\n   */\n  public static get allInputsSelector(): string {\n    const allowedInputTypes = ['text', 'password', 'email', 'number', 'search', 'tel', 'url'];\n\n    return '[contenteditable=true], textarea, input:not([type]), ' +\n      allowedInputTypes.map((type) => `input[type=\"${type}\"]`).join(', ');\n  }\n\n  /**\n   * Find all contenteditable, textarea and editable input elements passed holder contains\n   *\n   * @param holder - element where to find inputs\n   */\n  public static findAllInputs(holder: Element): HTMLElement[] {\n    return _.array(holder.querySelectorAll(Dom.allInputsSelector))\n      /**\n       * If contenteditable element contains block elements, treat them as inputs.\n       */\n      .reduce((result, input) => {\n        if (Dom.isNativeInput(input) || Dom.containsOnlyInlineElements(input)) {\n          return [...result, input];\n        }\n\n        return [...result, ...Dom.getDeepestBlockElements(input)];\n      }, []);\n  }\n\n  /**\n   * Search for deepest node which is Leaf.\n   * Leaf is the vertex that doesn't have any child nodes\n   *\n   * @description Method recursively goes throw the all Node until it finds the Leaf\n   * @param {Node} node - root Node. From this vertex we start Deep-first search\n   *                      {@link https://en.wikipedia.org/wiki/Depth-first_search}\n   * @param {boolean} [atLast] - find last text node\n   * @returns {Node} - it can be text Node or Element Node, so that caret will able to work with it\n   */\n  public static getDeepestNode(node: Node, atLast = false): Node {\n    /**\n     * Current function have two directions:\n     *  - starts from first child and every time gets first or nextSibling in special cases\n     *  - starts from last child and gets last or previousSibling\n     *\n     * @type {string}\n     */\n    const child = atLast ? 'lastChild' : 'firstChild',\n        sibling = atLast ? 'previousSibling' : 'nextSibling';\n\n    if (node && node.nodeType === Node.ELEMENT_NODE && node[child]) {\n      let nodeChild = node[child] as Node;\n\n      /**\n       * special case when child is single tag that can't contain any content\n       */\n      if (\n        Dom.isSingleTag(nodeChild as HTMLElement) &&\n        !Dom.isNativeInput(nodeChild) &&\n        !Dom.isLineBreakTag(nodeChild as HTMLElement)\n      ) {\n        /**\n         * 1) We need to check the next sibling. If it is Node Element then continue searching for deepest\n         * from sibling\n         *\n         * 2) If single tag's next sibling is null, then go back to parent and check his sibling\n         * In case of Node Element continue searching\n         *\n         * 3) If none of conditions above happened return parent Node Element\n         */\n        if (nodeChild[sibling]) {\n          nodeChild = nodeChild[sibling];\n        } else if (nodeChild.parentNode[sibling]) {\n          nodeChild = nodeChild.parentNode[sibling];\n        } else {\n          return nodeChild.parentNode;\n        }\n      }\n\n      return this.getDeepestNode(nodeChild, atLast);\n    }\n\n    return node;\n  }\n\n  /**\n   * Check if object is DOM node\n   *\n   * @param {*} node - object to check\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public static isElement(node: any): node is Element {\n    if (_.isNumber(node)) {\n      return false;\n    }\n\n    return node && node.nodeType && node.nodeType === Node.ELEMENT_NODE;\n  }\n\n  /**\n   * Check if object is DocumentFragment node\n   *\n   * @param {object} node - object to check\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public static isFragment(node: any): node is DocumentFragment {\n    if (_.isNumber(node)) {\n      return false;\n    }\n\n    return node && node.nodeType && node.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n  }\n\n  /**\n   * Check if passed element is contenteditable\n   *\n   * @param {HTMLElement} element - html element to check\n   * @returns {boolean}\n   */\n  public static isContentEditable(element: HTMLElement): boolean {\n    return element.contentEditable === 'true';\n  }\n\n  /**\n   * Checks target if it is native input\n   *\n   * @param {*} target - HTML element or string\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public static isNativeInput(target: any): target is HTMLInputElement | HTMLTextAreaElement {\n    const nativeInputs = [\n      'INPUT',\n      'TEXTAREA',\n    ];\n\n    return target && target.tagName ? nativeInputs.includes(target.tagName) : false;\n  }\n\n  /**\n   * Checks if we can set caret\n   *\n   * @param {HTMLElement} target - target to check\n   * @returns {boolean}\n   */\n  public static canSetCaret(target: HTMLElement): boolean {\n    let result = true;\n\n    if (Dom.isNativeInput(target)) {\n      switch (target.type) {\n        case 'file':\n        case 'checkbox':\n        case 'radio':\n        case 'hidden':\n        case 'submit':\n        case 'button':\n        case 'image':\n        case 'reset':\n          result = false;\n          break;\n      }\n    } else {\n      result = Dom.isContentEditable(target);\n    }\n\n    return result;\n  }\n\n  /**\n   * Checks node if it is empty\n   *\n   * @description Method checks simple Node without any childs for emptiness\n   * If you have Node with 2 or more children id depth, you better use {@link Dom#isEmpty} method\n   * @param {Node} node - node to check\n   * @returns {boolean} true if it is empty\n   */\n  public static isNodeEmpty(node: Node): boolean {\n    let nodeText;\n\n    if (this.isSingleTag(node as HTMLElement) && !this.isLineBreakTag(node as HTMLElement)) {\n      return false;\n    }\n\n    if (this.isElement(node) && this.isNativeInput(node)) {\n      nodeText = (node as HTMLInputElement).value;\n    } else {\n      nodeText = node.textContent.replace('\\u200B', '');\n    }\n\n    return nodeText.trim().length === 0;\n  }\n\n  /**\n   * checks node if it is doesn't have any child nodes\n   *\n   * @param {Node} node - node to check\n   * @returns {boolean}\n   */\n  public static isLeaf(node: Node): boolean {\n    if (!node) {\n      return false;\n    }\n\n    return node.childNodes.length === 0;\n  }\n\n  /**\n   * breadth-first search (BFS)\n   * {@link https://en.wikipedia.org/wiki/Breadth-first_search}\n   *\n   * @description Pushes to stack all DOM leafs and checks for emptiness\n   * @param {Node} node - node to check\n   * @returns {boolean}\n   */\n  public static isEmpty(node: Node): boolean {\n    /**\n     * Normalize node to merge several text nodes to one to reduce tree walker iterations\n     */\n    node.normalize();\n\n    const treeWalker = [ node ];\n\n    while (treeWalker.length > 0) {\n      node = treeWalker.shift();\n\n      if (!node) {\n        continue;\n      }\n\n      if (this.isLeaf(node) && !this.isNodeEmpty(node)) {\n        return false;\n      }\n\n      if (node.childNodes) {\n        treeWalker.push(...Array.from(node.childNodes));\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Check if string contains html elements\n   *\n   * @param {string} str - string to check\n   * @returns {boolean}\n   */\n  public static isHTMLString(str: string): boolean {\n    const wrapper = Dom.make('div');\n\n    wrapper.innerHTML = str;\n\n    return wrapper.childElementCount > 0;\n  }\n\n  /**\n   * Return length of node`s text content\n   *\n   * @param {Node} node - node with content\n   * @returns {number}\n   */\n  public static getContentLength(node: Node): number {\n    if (Dom.isNativeInput(node)) {\n      return (node as HTMLInputElement).value.length;\n    }\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      return (node as Text).length;\n    }\n\n    return node.textContent.length;\n  }\n\n  /**\n   * Return array of names of block html elements\n   *\n   * @returns {string[]}\n   */\n  public static get blockElements(): string[] {\n    return [\n      'address',\n      'article',\n      'aside',\n      'blockquote',\n      'canvas',\n      'div',\n      'dl',\n      'dt',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'header',\n      'hgroup',\n      'hr',\n      'li',\n      'main',\n      'nav',\n      'noscript',\n      'ol',\n      'output',\n      'p',\n      'pre',\n      'ruby',\n      'section',\n      'table',\n      'tbody',\n      'thead',\n      'tr',\n      'tfoot',\n      'ul',\n      'video',\n    ];\n  }\n\n  /**\n   * Check if passed content includes only inline elements\n   *\n   * @param {string|HTMLElement} data - element or html string\n   * @returns {boolean}\n   */\n  public static containsOnlyInlineElements(data: string | HTMLElement): boolean {\n    let wrapper: HTMLElement;\n\n    if (_.isString(data)) {\n      wrapper = document.createElement('div');\n      wrapper.innerHTML = data;\n    } else {\n      wrapper = data;\n    }\n\n    const check = (element: HTMLElement): boolean => {\n      return !Dom.blockElements.includes(element.tagName.toLowerCase()) &&\n        Array.from(element.children).every(check);\n    };\n\n    return Array.from(wrapper.children).every(check);\n  }\n\n  /**\n   * Find and return all block elements in the passed parent (including subtree)\n   *\n   * @param {HTMLElement} parent - root element\n   * @returns {HTMLElement[]}\n   */\n  public static getDeepestBlockElements(parent: HTMLElement): HTMLElement[] {\n    if (Dom.containsOnlyInlineElements(parent)) {\n      return [ parent ];\n    }\n\n    return Array.from(parent.children).reduce((result, element) => {\n      return [...result, ...Dom.getDeepestBlockElements(element as HTMLElement)];\n    }, []);\n  }\n\n  /**\n   * Helper for get holder from {string} or return HTMLElement\n   *\n   * @param {string | HTMLElement} element - holder's id or holder's HTML Element\n   * @returns {HTMLElement}\n   */\n  public static getHolder(element: string | HTMLElement): HTMLElement {\n    if (_.isString(element)) {\n      return document.getElementById(element);\n    }\n\n    return element;\n  }\n\n  /**\n   * Returns true if element is anchor (is A tag)\n   *\n   * @param {Element} element - element to check\n   * @returns {boolean}\n   */\n  public static isAnchor(element: Element): element is HTMLAnchorElement {\n    return element.tagName.toLowerCase() === 'a';\n  }\n\n  /**\n   * Return element's offset related to the document\n   *\n   * @todo handle case when editor initialized in scrollable popup\n   * @param el - element to compute offset\n   */\n  public static offset(el): { top: number; left: number; right: number; bottom: number } {\n    const rect = el.getBoundingClientRect();\n    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n    const top = rect.top + scrollTop;\n    const left = rect.left + scrollLeft;\n\n    return {\n      top,\n      left,\n      bottom: top + rect.height,\n      right: left + rect.width,\n    };\n  }\n}\n","import Dom from './dom';\nimport * as _ from './utils';\nimport SelectionUtils from './selection';\n\n/**\n * Iterator above passed Elements list.\n * Each next or previous action adds provides CSS-class and sets cursor to this item\n */\nexport default class DomIterator {\n  /**\n   * This is a static property that defines iteration directions\n   *\n   * @type {{RIGHT: string, LEFT: string}}\n   */\n  public static directions = {\n    RIGHT: 'right',\n    LEFT: 'left',\n  };\n\n  /**\n   * User-provided CSS-class name for focused button\n   */\n  private focusedCssClass: string;\n\n  /**\n   * Focused button index.\n   * Default is -1 which means nothing is active\n   *\n   * @type {number}\n   */\n  private cursor = -1;\n\n  /**\n   * Items to flip\n   */\n  private items: HTMLElement[] = [];\n\n  /**\n   * @param {HTMLElement[]} nodeList  the list of iterable HTML-items\n   * @param {string} focusedCssClass - user-provided CSS-class that will be set in flipping process\n   */\n  constructor(\n    nodeList: HTMLElement[],\n    focusedCssClass: string\n  ) {\n    this.items = nodeList || [];\n    this.focusedCssClass = focusedCssClass;\n  }\n\n  /**\n   * Returns Focused button Node\n   *\n   * @returns {HTMLElement}\n   */\n  public get currentItem(): HTMLElement {\n    if (this.cursor === -1) {\n      return null;\n    }\n\n    return this.items[this.cursor];\n  }\n\n  /**\n   * Sets cursor to specified position\n   *\n   * @param cursorPosition - new cursor position\n   */\n  public setCursor(cursorPosition: number): void {\n    if (cursorPosition < this.items.length && cursorPosition >= -1) {\n      this.dropCursor();\n      this.cursor = cursorPosition;\n      this.items[this.cursor].classList.add(this.focusedCssClass);\n    }\n  }\n\n  /**\n   * Sets items. Can be used when iterable items changed dynamically\n   *\n   * @param {HTMLElement[]} nodeList - nodes to iterate\n   */\n  public setItems(nodeList: HTMLElement[]): void {\n    this.items = nodeList;\n  }\n\n  /**\n   * Sets cursor next to the current\n   */\n  public next(): void {\n    this.cursor = this.leafNodesAndReturnIndex(DomIterator.directions.RIGHT);\n  }\n\n  /**\n   * Sets cursor before current\n   */\n  public previous(): void {\n    this.cursor = this.leafNodesAndReturnIndex(DomIterator.directions.LEFT);\n  }\n\n  /**\n   * Sets cursor to the default position and removes CSS-class from previously focused item\n   */\n  public dropCursor(): void {\n    if (this.cursor === -1) {\n      return;\n    }\n\n    this.items[this.cursor].classList.remove(this.focusedCssClass);\n    this.cursor = -1;\n  }\n\n  /**\n   * Leafs nodes inside the target list from active element\n   *\n   * @param {string} direction - leaf direction. Can be 'left' or 'right'\n   * @returns {number} index of focused node\n   */\n  private leafNodesAndReturnIndex(direction: string): number {\n    /**\n     * if items are empty then there is nothing to leaf\n     */\n    if (this.items.length === 0) {\n      return this.cursor;\n    }\n\n    let focusedButtonIndex = this.cursor;\n\n    /**\n     * If activeButtonIndex === -1 then we have no chosen Tool in Toolbox\n     */\n    if (focusedButtonIndex === -1) {\n      /**\n       * Normalize \"previous\" Tool index depending on direction.\n       * We need to do this to highlight \"first\" Tool correctly\n       *\n       * Order of Tools: [0] [1] ... [n - 1]\n       *   [0 = n] because of: n % n = 0 % n\n       *\n       * Direction 'right': for [0] the [n - 1] is a previous index\n       *   [n - 1] -> [0]\n       *\n       * Direction 'left': for [n - 1] the [0] is a previous index\n       *   [n - 1] <- [0]\n       *\n       * @type {number}\n       */\n      focusedButtonIndex = direction === DomIterator.directions.RIGHT ? -1 : 0;\n    } else {\n      /**\n       * If we have chosen Tool then remove highlighting\n       */\n      this.items[focusedButtonIndex].classList.remove(this.focusedCssClass);\n    }\n\n    /**\n     * Count index for next Tool\n     */\n    if (direction === DomIterator.directions.RIGHT) {\n      /**\n       * If we go right then choose next (+1) Tool\n       *\n       * @type {number}\n       */\n      focusedButtonIndex = (focusedButtonIndex + 1) % this.items.length;\n    } else {\n      /**\n       * If we go left then choose previous (-1) Tool\n       * Before counting module we need to add length before because of \"The JavaScript Modulo Bug\"\n       *\n       * @type {number}\n       */\n      focusedButtonIndex = (this.items.length + focusedButtonIndex - 1) % this.items.length;\n    }\n\n    if (Dom.canSetCaret(this.items[focusedButtonIndex])) {\n      /**\n       * Focus input with micro-delay to ensure DOM is updated\n       */\n      // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n      _.delay(() => SelectionUtils.setCursor(this.items[focusedButtonIndex]), 50)();\n    }\n\n    /**\n     * Highlight new chosen Tool\n     */\n    this.items[focusedButtonIndex].classList.add(this.focusedCssClass);\n\n    /**\n     * Return focused button's index\n     */\n    return focusedButtonIndex;\n  }\n}\n","/**\n * This type of exception will destroy the Editor! Be careful when using it\n */\nexport class CriticalError extends Error {\n}\n","import { BlockMutationEvent } from '../../../types/events/block';\n\n/**\n * Fired when some block state has changed\n */\nexport const BlockChanged = 'block changed';\n\n/**\n * Payload that will be passed with the event\n */\nexport interface BlockChangedPayload {\n  /**\n   * CustomEvent describing a block change\n   */\n  event: BlockMutationEvent;\n}\n","import type Block from '../block';\n\n/**\n * Fired when some block is hovered by user\n */\nexport const BlockHovered = 'block hovered';\n\n/**\n * Payload that will be passed with the event\n */\nexport interface BlockHoveredPayload {\n  /**\n   * Hovered block\n   */\n  block: Block;\n}\n","/**\n * Fired before we're adding/removing a fake cursor.\n *\n * Allows to disable mutation observer to skip this block change\n */\nexport const FakeCursorAboutToBeToggled = 'fake cursor is about to be toggled';\n\n/**\n * Payload that will be passed with the event\n */\nexport interface FakeCursorAboutToBeToggledPayload {\n  /**\n   * true - when added a cursor\n   * false - when removed\n   */\n  state: boolean;\n}\n","/**\n * Fired after we've added/removed a fake cursor.\n *\n * Allows to enable mutation observer which was disabled before setting\n */\nexport const FakeCursorHaveBeenSet = 'fake cursor have been set';\n\n/**\n * Payload that will be passed with the event\n */\nexport interface FakeCursorHaveBeenSetPayload {\n  /**\n   * true - when added a cursor\n   * false - when removed\n   */\n  state: boolean;\n}\n","/**\n * Fired when blocks wrapper (.codex-editor-redactor) dom changed\n */\nexport const RedactorDomChanged = 'redactor dom changed';\n\n/**\n * Payload that will be passed with the event\n */\nexport interface RedactorDomChangedPayload {\n  /**\n   * Mutations happened with blocks wrapper\n   */\n  mutations: MutationRecord[];\n}\n","import { RedactorDomChanged, RedactorDomChangedPayload } from './RedactorDomChanged';\nimport { BlockChanged, BlockChangedPayload } from './BlockChanged';\nimport { BlockHovered, BlockHoveredPayload } from './BlockHovered';\nimport { FakeCursorAboutToBeToggled, FakeCursorAboutToBeToggledPayload } from './FakeCursorAboutToBeToggled';\nimport { FakeCursorHaveBeenSet, FakeCursorHaveBeenSetPayload } from './FakeCursorHaveBeenSet';\n\n/**\n * Events fired by Editor Event Dispatcher\n */\nexport {\n  RedactorDomChanged,\n  BlockChanged,\n  FakeCursorAboutToBeToggled,\n  FakeCursorHaveBeenSet\n};\n\n/**\n * Event name -> Event payload\n */\nexport interface EditorEventMap {\n  [BlockHovered]: BlockHoveredPayload;\n  [RedactorDomChanged]: RedactorDomChangedPayload;\n  [BlockChanged]: BlockChangedPayload;\n  [FakeCursorAboutToBeToggled]: FakeCursorAboutToBeToggledPayload;\n  [FakeCursorHaveBeenSet]: FakeCursorHaveBeenSetPayload;\n}\n","import DomIterator from './domIterator';\nimport * as _ from './utils';\n\n/**\n * Flipper construction options\n *\n * @interface FlipperOptions\n */\nexport interface FlipperOptions {\n  /**\n   * CSS-modifier for focused item\n   */\n  focusedItemClass?: string;\n\n  /**\n   * If flipping items are the same for all Block (for ex. Toolbox), ypu can pass it on constructing\n   */\n  items?: HTMLElement[];\n\n  /**\n   * Optional callback for button click\n   */\n  activateCallback?: (item: HTMLElement) => void;\n\n  /**\n   * List of keys allowed for handling.\n   * Can include codes of the following keys:\n   *  - Tab\n   *  - Enter\n   *  - Arrow up\n   *  - Arrow down\n   *  - Arrow right\n   *  - Arrow left\n   * If not specified all keys are enabled\n   */\n  allowedKeys?: number[];\n}\n\n/**\n * Flipper is a component that iterates passed items array by TAB or Arrows and clicks it by ENTER\n */\nexport default class Flipper {\n  /**\n   * True if flipper is currently activated\n   */\n  public get isActivated(): boolean {\n    return this.activated;\n  }\n\n  /**\n   * Instance of flipper iterator\n   *\n   * @type {DomIterator|null}\n   */\n  private readonly iterator: DomIterator = null;\n\n  /**\n   * Flag that defines activation status\n   *\n   * @type {boolean}\n   */\n  private activated = false;\n\n  /**\n   * List codes of the keys allowed for handling\n   */\n  private readonly allowedKeys: number[];\n\n  /**\n   * Call back for button click/enter\n   */\n  private readonly activateCallback: (item: HTMLElement) => void;\n\n  /**\n   * Contains list of callbacks to be executed on each flip\n   */\n  private flipCallbacks: Array<() => void> = [];\n\n  /**\n   * @param {FlipperOptions} options - different constructing settings\n   */\n  constructor(options: FlipperOptions) {\n    this.iterator = new DomIterator(options.items, options.focusedItemClass);\n    this.activateCallback = options.activateCallback;\n    this.allowedKeys = options.allowedKeys || Flipper.usedKeys;\n  }\n\n  /**\n   * Array of keys (codes) that is handled by Flipper\n   * Used to:\n   *  - preventDefault only for this keys, not all keydowns (@see constructor)\n   *  - to skip external behaviours only for these keys, when filler is activated (@see BlockEvents@arrowRightAndDown)\n   */\n  public static get usedKeys(): number[] {\n    return [\n      _.keyCodes.TAB,\n      _.keyCodes.LEFT,\n      _.keyCodes.RIGHT,\n      _.keyCodes.ENTER,\n      _.keyCodes.UP,\n      _.keyCodes.DOWN,\n    ];\n  }\n\n  /**\n   * Active tab/arrows handling by flipper\n   *\n   * @param items - Some modules (like, InlineToolbar, BlockSettings) might refresh buttons dynamically\n   * @param cursorPosition - index of the item that should be focused once flipper is activated\n   */\n  public activate(items?: HTMLElement[], cursorPosition?: number): void {\n    this.activated = true;\n\n    if (items) {\n      this.iterator.setItems(items);\n    }\n\n    if (cursorPosition !== undefined) {\n      this.iterator.setCursor(cursorPosition);\n    }\n\n    /**\n     * Listening all keydowns on document and react on TAB/Enter press\n     * TAB will leaf iterator items\n     * ENTER will click the focused item\n     *\n     * Note: the event should be handled in capturing mode on following reasons:\n     * - prevents plugins inner keydown handlers from being called while keyboard navigation\n     * - otherwise this handler will be called at the moment it is attached which causes false flipper firing (see https://techread.me/js-addeventlistener-fires-for-past-events/)\n     */\n    document.addEventListener('keydown', this.onKeyDown, true);\n  }\n\n  /**\n   * Disable tab/arrows handling by flipper\n   */\n  public deactivate(): void {\n    this.activated = false;\n    this.dropCursor();\n\n    document.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  /**\n   * Focus first item\n   */\n  public focusFirst(): void {\n    this.dropCursor();\n    this.flipRight();\n  }\n\n  /**\n   * Focuses previous flipper iterator item\n   */\n  public flipLeft(): void {\n    this.iterator.previous();\n    this.flipCallback();\n  }\n\n  /**\n   * Focuses next flipper iterator item\n   */\n  public flipRight(): void {\n    this.iterator.next();\n    this.flipCallback();\n  }\n\n  /**\n   * Return true if some button is focused\n   */\n  public hasFocus(): boolean {\n    return !!this.iterator.currentItem;\n  }\n\n  /**\n   * Registeres function that should be executed on each navigation action\n   *\n   * @param cb - function to execute\n   */\n  public onFlip(cb: () => void): void {\n    this.flipCallbacks.push(cb);\n  }\n\n  /**\n   * Unregisteres function that is executed on each navigation action\n   *\n   * @param cb - function to stop executing\n   */\n  public removeOnFlip(cb: () => void): void {\n    this.flipCallbacks = this.flipCallbacks.filter(fn => fn !== cb);\n  }\n\n  /**\n   * Drops flipper's iterator cursor\n   *\n   * @see DomIterator#dropCursor\n   */\n  private dropCursor(): void {\n    this.iterator.dropCursor();\n  }\n\n  /**\n   * KeyDown event handler\n   *\n   * @param event - keydown event\n   */\n  private onKeyDown = (event): void => {\n    const isReady = this.isEventReadyForHandling(event);\n\n    if (!isReady) {\n      return;\n    }\n\n    /**\n     * Prevent only used keys default behaviour\n     * (allows to navigate by ARROW DOWN, for example)\n     */\n    if (Flipper.usedKeys.includes(event.keyCode)) {\n      event.preventDefault();\n    }\n\n    switch (event.keyCode) {\n      case _.keyCodes.TAB:\n        this.handleTabPress(event);\n        break;\n      case _.keyCodes.LEFT:\n      case _.keyCodes.UP:\n        this.flipLeft();\n        break;\n      case _.keyCodes.RIGHT:\n      case _.keyCodes.DOWN:\n        this.flipRight();\n        break;\n      case _.keyCodes.ENTER:\n        this.handleEnterPress(event);\n        break;\n    }\n  };\n\n  /**\n   * This function is fired before handling flipper keycodes\n   * The result of this function defines if it is need to be handled or not\n   *\n   * @param {KeyboardEvent} event - keydown keyboard event\n   * @returns {boolean}\n   */\n  private isEventReadyForHandling(event: KeyboardEvent): boolean {\n    return this.activated && this.allowedKeys.includes(event.keyCode);\n  }\n\n  /**\n   * When flipper is activated tab press will leaf the items\n   *\n   * @param {KeyboardEvent} event - tab keydown event\n   */\n  private handleTabPress(event: KeyboardEvent): void {\n    /** this property defines leaf direction */\n    const shiftKey = event.shiftKey,\n        direction = shiftKey ? DomIterator.directions.LEFT : DomIterator.directions.RIGHT;\n\n    switch (direction) {\n      case DomIterator.directions.RIGHT:\n        this.flipRight();\n        break;\n      case DomIterator.directions.LEFT:\n        this.flipLeft();\n        break;\n    }\n  }\n\n  /**\n   * Enter press will click current item if flipper is activated\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  private handleEnterPress(event: KeyboardEvent): void {\n    if (!this.activated) {\n      return;\n    }\n\n    if (this.iterator.currentItem) {\n      /**\n       * Stop Enter propagation only if flipper is ready to select focused item\n       */\n      event.stopPropagation();\n      event.preventDefault();\n      this.iterator.currentItem.click();\n    }\n\n    if (_.isFunction(this.activateCallback)) {\n      this.activateCallback(this.iterator.currentItem);\n    }\n  }\n\n  /**\n   * Fired after flipping in any direction\n   */\n  private flipCallback(): void {\n    if (this.iterator.currentItem) {\n      this.iterator.currentItem.scrollIntoViewIfNeeded();\n    }\n\n    this.flipCallbacks.forEach(cb => cb());\n  }\n}\n","import defaultDictionary from './locales/en/messages.json';\nimport { I18nDictionary, Dictionary } from '../../../types/configs';\nimport { LeavesDictKeys } from '../../types-internal/i18n-internal-namespace';\n\n/**\n * Type for all available internal dictionary strings\n */\ntype DictKeys = LeavesDictKeys<typeof defaultDictionary>;\n\n/**\n * This class will responsible for the translation through the language dictionary\n */\nexport default class I18n {\n  /**\n   * Property that stores messages dictionary\n   */\n  private static currentDictionary: I18nDictionary = defaultDictionary;\n\n  /**\n   * Type-safe translation for internal UI texts:\n   * Perform translation of the string by namespace and a key\n   *\n   * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune')\n   * @param internalNamespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  public static ui(internalNamespace: string, dictKey: DictKeys): string {\n    return I18n._t(internalNamespace, dictKey);\n  }\n\n  /**\n   * Translate for external strings that is not presented in default dictionary.\n   * For example, for user-specified tool names\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  public static t(namespace: string, dictKey: string): string {\n    return I18n._t(namespace, dictKey);\n  }\n\n  /**\n   * Adjust module for using external dictionary\n   *\n   * @param dictionary - new messages list to override default\n   */\n  public static setDictionary(dictionary: I18nDictionary): void {\n    I18n.currentDictionary = dictionary;\n  }\n\n  /**\n   * Perform translation both for internal and external namespaces\n   * If there is no translation found, returns passed key as a translated message\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  private static _t(namespace: string, dictKey: string): string {\n    const section = I18n.getNamespace(namespace);\n\n    /**\n     * For Console Message to Check Section is defined or not\n     * if (section === undefined) {\n     *  _.logLabeled('I18n: section %o was not found in current dictionary', 'log', namespace);\n     * }\n     */\n\n    if (!section || !section[dictKey]) {\n      return dictKey;\n    }\n\n    return section[dictKey] as string;\n  }\n\n  /**\n   * Find messages section by namespace path\n   *\n   * @param namespace - path to section\n   */\n  private static getNamespace(namespace: string): Dictionary {\n    const parts = namespace.split('.');\n\n    return parts.reduce((section, part) => {\n      if (!section || !Object.keys(section).length) {\n        return {};\n      }\n\n      return section[part];\n    }, I18n.currentDictionary);\n  }\n}\n","import defaultDictionary from './locales/en/messages.json';\nimport { DictNamespaces } from '../../types-internal/i18n-internal-namespace';\nimport { isObject, isString } from '../utils';\n\n/**\n * Evaluate messages dictionary and return object for namespace chaining\n *\n * @param dict - Messages dictionary\n * @param [keyPath] - subsection path (used in recursive call)\n */\nfunction getNamespaces(dict: object, keyPath?: string): DictNamespaces<typeof defaultDictionary> {\n  const result = {};\n\n  Object.entries(dict).forEach(([key, section]) => {\n    if (isObject(section)) {\n      const newPath = keyPath ? `${keyPath}.${key}` : key;\n\n      /**\n       * Check current section values, if all of them are strings, so there is the last section\n       */\n      const isLastSection = Object.values(section).every((sectionValue) => {\n        return isString(sectionValue);\n      });\n\n      /**\n       * In last section, we substitute namespace path instead of object with translates\n       *\n       * ui.toolbar.toolbox  \"ui.toolbar.toolbox\"\n       * instead of\n       * ui.toolbar.toolbox  {\"Add\": \"\"}\n       */\n      if (isLastSection) {\n        result[key] = newPath;\n      } else {\n        result[key] = getNamespaces(section, newPath);\n      }\n\n      return;\n    }\n\n    result[key] = section;\n  });\n\n  return result as DictNamespaces<typeof defaultDictionary>;\n}\n\n/**\n * Type safe access to the internal messages dictionary sections\n *\n * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune');\n */\nexport const I18nInternalNS = getNamespaces(defaultDictionary);\n","import { InlineTool, SanitizerConfig } from '../../../types';\n// import { IconBold } from '@codexteam/icons';\nconst IconBold = `<svg width=\"12\" height=\"14\" viewBox=\"0 0 12 14\"  xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 1C0 0.447715 0.447715 0 1 0H6.9375C7.95201 0 8.92286 0.407321 9.63704 1.12901C10.3508 1.85033 10.75 2.82645 10.75 3.84208C10.75 4.71323 10.4563 5.5553 9.92233 6.23245C10.2393 6.41511 10.5334 6.64083 10.7955 6.90571C11.5679 7.68626 12 8.7427 12 9.84208C12 10.9415 11.5679 11.9979 10.7955 12.7784C10.0228 13.5593 8.97243 14 7.875 14H1C0.447715 14 0 13.5523 0 13V1ZM2 7.68421V12H7.875C8.43517 12 8.97456 11.7752 9.37391 11.3717C9.7736 10.9678 10 10.4178 10 9.84208C10 9.26641 9.7736 8.7164 9.37391 8.31251C8.97459 7.90898 8.43521 7.68421 7.875 7.68421H2ZM6.9375 5.68421H2V2H6.9375C7.41483 2 7.87472 2.1915 8.21544 2.5358C8.55653 2.88048 8.75 3.35016 8.75 3.84208C8.75 4.33399 8.55652 4.80368 8.21544 5.14836C7.87469 5.49269 7.41478 5.68421 6.9375 5.68421Z\" />\n</svg>`;\n\n/**\n * Bold Tool\n *\n * Inline Toolbar Tool\n *\n * Makes selected text bolder\n */\nexport default class BoldInlineTool implements InlineTool {\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @returns {boolean}\n   */\n  public static isInline = true;\n\n  /**\n   * Title for hover-tooltip\n   */\n  public static title = 'Bold';\n\n  /**\n   * Sanitizer Rule\n   * Leave <b> tags\n   *\n   * @returns {object}\n   */\n  public static get sanitize(): SanitizerConfig {\n    return {\n      b: {},\n    } as SanitizerConfig;\n  }\n\n  /**\n   * Native Document's command that uses for Bold\n   */\n  private readonly commandName: string = 'bold';\n\n  /**\n   * Styles\n   */\n  private readonly CSS = {\n    button: 'ce-inline-tool',\n    buttonActive: 'ce-inline-tool--active',\n    buttonModifier: 'ce-inline-tool--bold',\n  };\n\n  /**\n   * Elements\n   */\n  private nodes: { button: HTMLButtonElement } = {\n    button: undefined,\n  };\n\n  /**\n   * Create button for Inline Toolbar\n   */\n  public render(): HTMLElement {\n    this.nodes.button = document.createElement('button') as HTMLButtonElement;\n    this.nodes.button.type = 'button';\n    this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n    this.nodes.button.innerHTML = IconBold;\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Wrap range with <b> tag\n   */\n  public surround(): void {\n    document.execCommand(this.commandName);\n  }\n\n  /**\n   * Check selection and set activated state to button if there are <b> tag\n   *\n   * @returns {boolean}\n   */\n  public checkState(): boolean {\n    const isActive = document.queryCommandState(this.commandName);\n\n    this.nodes.button.classList.toggle(this.CSS.buttonActive, isActive);\n\n    return isActive;\n  }\n\n  /**\n   * Set a shortcut\n   *\n   * @returns {boolean}\n   */\n  public get shortcut(): string {\n    return 'CMD+B';\n  }\n}\n","import { InlineTool, SanitizerConfig } from '../../../types';\n// import { IconItalic } from '@codexteam/icons';\nconst IconItalic = `<svg width=\"11\" height=\"14\" viewBox=\"0 0 11 14\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.3125 0.4375C4.03636 0.4375 3.8125 0.661358 3.8125 0.9375C3.8125 1.21364 4.03636 1.4375 4.3125 1.4375H6.4649L3.37115 12.4375H0.9375C0.661358 12.4375 0.4375 12.6614 0.4375 12.9375C0.4375 13.2136 0.661358 13.4375 0.9375 13.4375H3.73424C3.74488 13.4378 3.75549 13.4378 3.76606 13.4375H6.5625C6.83864 13.4375 7.0625 13.2136 7.0625 12.9375C7.0625 12.6614 6.83864 12.4375 6.5625 12.4375H4.40994L7.50369 1.4375H9.9375C10.2136 1.4375 10.4375 1.21364 10.4375 0.9375C10.4375 0.661358 10.2136 0.4375 9.9375 0.4375H7.12462H4.3125Z\" />\n</svg>`;\n\n/**\n * Italic Tool\n *\n * Inline Toolbar Tool\n *\n * Style selected text with italic\n */\nexport default class ItalicInlineTool implements InlineTool {\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @returns {boolean}\n   */\n  public static isInline = true;\n\n  /**\n   * Title for hover-tooltip\n   */\n  public static title = 'Italic';\n\n  /**\n   * Sanitizer Rule\n   * Leave <i> tags\n   *\n   * @returns {object}\n   */\n  public static get sanitize(): SanitizerConfig {\n    return {\n      i: {},\n    } as SanitizerConfig;\n  }\n\n  /**\n   * Native Document's command that uses for Italic\n   */\n  private readonly commandName: string = 'italic';\n\n  /**\n   * Styles\n   */\n  private readonly CSS = {\n    button: 'ce-inline-tool',\n    buttonActive: 'ce-inline-tool--active',\n    buttonModifier: 'ce-inline-tool--italic',\n  };\n\n  /**\n   * Elements\n   */\n  private nodes: { button: HTMLButtonElement } = {\n    button: null,\n  };\n\n  /**\n   * Create button for Inline Toolbar\n   */\n  public render(): HTMLElement {\n    this.nodes.button = document.createElement('button') as HTMLButtonElement;\n    this.nodes.button.type = 'button';\n    this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n    this.nodes.button.innerHTML = IconItalic;\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Wrap range with <i> tag\n   */\n  public surround(): void {\n    document.execCommand(this.commandName);\n  }\n\n  /**\n   * Check selection and set activated state to button if there are <i> tag\n   */\n  public checkState(): boolean {\n    const isActive = document.queryCommandState(this.commandName);\n\n    this.nodes.button.classList.toggle(this.CSS.buttonActive, isActive);\n\n    return isActive;\n  }\n\n  /**\n   * Set a shortcut\n   */\n  public get shortcut(): string {\n    return 'CMD+I';\n  }\n}\n","import SelectionUtils from '../selection';\nimport * as _ from '../utils';\nimport { InlineTool, SanitizerConfig, API } from '../../../types';\nimport { Notifier, Toolbar, I18n, InlineToolbar } from '../../../types/api';\n// import { IconLink, IconUnlink } from '@codexteam/icons';\nconst IconLink = `<svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.35302 3.30511L8.6548 1.95705C9.1144 1.52715 9.71219 1.29848 10.3249 1.31317C10.9412 1.32794 11.5319 1.58801 11.9731 2.04493C12.4149 2.50237 12.6722 3.12189 12.6868 3.77565C12.7014 4.42552 12.4748 5.0535 12.0583 5.5311L10.1943 7.45447L10.1931 7.45578C9.9688 7.6889 9.70323 7.8729 9.41209 7.99811C9.121 8.1233 8.80955 8.1875 8.49545 8.1875C8.18135 8.1875 7.8699 8.1233 7.57881 7.99811C7.28767 7.8729 7.0221 7.6889 6.79782 7.45578C6.60637 7.25678 6.28985 7.25066 6.09085 7.44211C5.89185 7.63356 5.88573 7.95009 6.07718 8.14909C6.39268 8.47703 6.76855 8.73821 7.18372 8.91676C7.59893 9.09533 8.04475 9.1875 8.49545 9.1875C8.94614 9.1875 9.39196 9.09533 9.80718 8.91676C10.2221 8.73833 10.5977 8.47737 10.9131 8.14974L10.9137 8.14909L12.7851 6.21802C12.7907 6.21228 12.7961 6.2064 12.8014 6.2004C13.3913 5.53016 13.7067 4.6536 13.6866 3.7533C13.6665 2.85297 13.3122 1.99203 12.6925 1.35027C12.0722 0.70799 11.2333 0.334658 10.3488 0.313455C9.46437 0.29225 8.60915 0.625022 7.96035 1.23739C7.95474 1.24269 7.94924 1.24812 7.94388 1.25368L6.63367 2.61045C6.44185 2.8091 6.44738 3.12563 6.64602 3.31745C6.84466 3.50928 7.16119 3.50375 7.35302 3.30511ZM4.58791 6.00189C4.879 5.8767 5.19045 5.8125 5.50455 5.8125C5.81865 5.8125 6.1301 5.8767 6.4212 6.00189C6.71233 6.1271 6.9779 6.3111 7.20218 6.54422C7.39363 6.74322 7.71015 6.74934 7.90915 6.55789C8.10815 6.36644 8.11427 6.04991 7.92282 5.85091C7.60732 5.52297 7.23145 5.26179 6.81628 5.08324C6.40107 4.90467 5.95525 4.8125 5.50455 4.8125C5.05386 4.8125 4.60804 4.90467 4.19282 5.08324C3.77794 5.26167 3.4023 5.52262 3.08693 5.85024L3.08628 5.85091L1.21488 7.78198C1.20932 7.78773 1.20389 7.7936 1.19861 7.7996C0.608683 8.46985 0.29328 9.3464 0.313407 10.2467C0.333536 11.147 0.687817 12.008 1.30754 12.6497C1.92778 13.292 2.76674 13.6653 3.65116 13.6865C4.53563 13.7078 5.39085 13.375 6.03965 12.7626C6.04526 12.7573 6.05076 12.7519 6.05612 12.7463L7.36633 11.3895C7.55815 11.1909 7.55262 10.8744 7.35398 10.6825C7.15534 10.4907 6.83881 10.4963 6.64698 10.6949L5.3452 12.0429C4.8856 12.4729 4.28781 12.7015 3.67513 12.6868C3.05881 12.6721 2.46812 12.412 2.02689 11.9551C1.58515 11.4976 1.32777 10.8781 1.31316 10.2244C1.29863 9.57448 1.52524 8.94649 1.94172 8.4689L3.80566 6.54553L3.80692 6.54422C4.0312 6.3111 4.29677 6.1271 4.58791 6.00189Z\"/>\n</svg>`;\nconst IconUnlink = `<svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.35302 3.30511L8.6548 1.95705C9.1144 1.52715 9.71219 1.29848 10.3249 1.31317C10.9412 1.32794 11.5319 1.58801 11.9731 2.04493C12.4149 2.50237 12.6722 3.12189 12.6868 3.77565C12.7014 4.42552 12.4748 5.0535 12.0583 5.5311L10.1943 7.45447L10.1931 7.45578C9.9688 7.6889 9.70323 7.8729 9.41209 7.99811C9.121 8.1233 8.80955 8.1875 8.49545 8.1875C8.18135 8.1875 7.8699 8.1233 7.57881 7.99811C7.28767 7.8729 7.0221 7.6889 6.79782 7.45578C6.60637 7.25678 6.28985 7.25066 6.09085 7.44211C5.89185 7.63356 5.88573 7.95009 6.07718 8.14909C6.39268 8.47703 6.76855 8.73821 7.18372 8.91676C7.59893 9.09533 8.04475 9.1875 8.49545 9.1875C8.94614 9.1875 9.39196 9.09533 9.80718 8.91676C10.2221 8.73833 10.5977 8.47737 10.9131 8.14974L10.9137 8.14909L12.7851 6.21802C12.7907 6.21228 12.7961 6.2064 12.8014 6.2004C13.3913 5.53016 13.7067 4.6536 13.6866 3.7533C13.6665 2.85297 13.3122 1.99203 12.6925 1.35027C12.0722 0.70799 11.2333 0.334658 10.3488 0.313455C9.46437 0.29225 8.60915 0.625022 7.96035 1.23739C7.95474 1.24269 7.94924 1.24812 7.94388 1.25368L6.63367 2.61045C6.44185 2.8091 6.44738 3.12563 6.64602 3.31745C6.84466 3.50928 7.16119 3.50375 7.35302 3.30511ZM4.58791 6.00189C4.879 5.8767 5.19045 5.8125 5.50455 5.8125C5.81865 5.8125 6.1301 5.8767 6.4212 6.00189C6.71233 6.1271 6.9779 6.3111 7.20218 6.54422C7.39363 6.74322 7.71015 6.74934 7.90915 6.55789C8.10815 6.36644 8.11427 6.04991 7.92282 5.85091C7.60732 5.52297 7.23145 5.26179 6.81628 5.08324C6.40107 4.90467 5.95525 4.8125 5.50455 4.8125C5.05386 4.8125 4.60804 4.90467 4.19282 5.08324C3.77794 5.26167 3.4023 5.52262 3.08693 5.85024L3.08628 5.85091L1.21488 7.78198C1.20932 7.78773 1.20389 7.7936 1.19861 7.7996C0.608683 8.46985 0.29328 9.3464 0.313407 10.2467C0.333536 11.147 0.687817 12.008 1.30754 12.6497C1.92778 13.292 2.76674 13.6653 3.65116 13.6865C4.53563 13.7078 5.39085 13.375 6.03965 12.7626C6.04526 12.7573 6.05076 12.7519 6.05612 12.7463L7.36633 11.3895C7.55815 11.1909 7.55262 10.8744 7.35398 10.6825C7.15534 10.4907 6.83881 10.4963 6.64698 10.6949L5.3452 12.0429C4.8856 12.4729 4.28781 12.7015 3.67513 12.6868C3.05881 12.6721 2.46812 12.412 2.02689 11.9551C1.58515 11.4976 1.32777 10.8781 1.31316 10.2244C1.29863 9.57448 1.52524 8.94649 1.94172 8.4689L3.80566 6.54553L3.80692 6.54422C4.0312 6.3111 4.29677 6.1271 4.58791 6.00189Z\"/>\n</svg>`;\n\n/**\n * Link Tool\n *\n * Inline Toolbar Tool\n *\n * Wrap selected text with <a> tag\n */\nexport default class LinkInlineTool implements InlineTool {\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @returns {boolean}\n   */\n  public static isInline = true;\n\n  /**\n   * Title for hover-tooltip\n   */\n  public static title = 'Link';\n\n  /**\n   * Sanitizer Rule\n   * Leave <a> tags\n   *\n   * @returns {object}\n   */\n  public static get sanitize(): SanitizerConfig {\n    return {\n      a: {\n        href: true,\n        target: '_blank',\n        rel: 'nofollow',\n      },\n    } as SanitizerConfig;\n  }\n\n  /**\n   * Native Document's commands for link/unlink\n   */\n  private readonly commandLink: string = 'createLink';\n  private readonly commandUnlink: string = 'unlink';\n\n  /**\n   * Enter key code\n   */\n  private readonly ENTER_KEY: number = 13;\n\n  /**\n   * Styles\n   */\n  private readonly CSS = {\n    button: 'ce-inline-tool',\n    buttonActive: 'ce-inline-tool--active',\n    buttonModifier: 'ce-inline-tool--link',\n    buttonUnlink: 'ce-inline-tool--unlink',\n    input: 'ce-inline-tool-input',\n    inputShowed: 'ce-inline-tool-input--showed',\n  };\n\n  /**\n   * Elements\n   */\n  private nodes: {\n    button: HTMLButtonElement;\n    input: HTMLInputElement;\n  } = {\n      button: null,\n      input: null,\n    };\n\n  /**\n   * SelectionUtils instance\n   */\n  private selection: SelectionUtils;\n\n  /**\n   * Input opening state\n   */\n  private inputOpened = false;\n\n  /**\n   * Available Toolbar methods (open/close)\n   */\n  private toolbar: Toolbar;\n\n  /**\n   * Available inline toolbar methods (open/close)\n   */\n  private inlineToolbar: InlineToolbar;\n\n  /**\n   * Notifier API methods\n   */\n  private notifier: Notifier;\n\n  /**\n   * I18n API\n   */\n  private i18n: I18n;\n\n  /**\n   * @param api - Editor.js API\n   */\n  constructor({ api }: { api: API }) {\n    this.toolbar = api.toolbar;\n    this.inlineToolbar = api.inlineToolbar;\n    this.notifier = api.notifier;\n    this.i18n = api.i18n;\n    this.selection = new SelectionUtils();\n  }\n\n  /**\n   * Create button for Inline Toolbar\n   */\n  public render(): HTMLElement {\n    this.nodes.button = document.createElement('button') as HTMLButtonElement;\n    this.nodes.button.type = 'button';\n    this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n\n    this.nodes.button.innerHTML = IconLink;\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Input for the link\n   */\n  public renderActions(): HTMLElement {\n    this.nodes.input = document.createElement('input') as HTMLInputElement;\n    this.nodes.input.placeholder = this.i18n.t('Add a link');\n    this.nodes.input.classList.add(this.CSS.input);\n    this.nodes.input.addEventListener('keydown', (event: KeyboardEvent) => {\n      if (event.keyCode === this.ENTER_KEY) {\n        this.enterPressed(event);\n      }\n    });\n\n    return this.nodes.input;\n  }\n\n  /**\n   * Handle clicks on the Inline Toolbar icon\n   *\n   * @param {Range} range - range to wrap with link\n   */\n  public surround(range: Range): void {\n    /**\n     * Range will be null when user makes second click on the 'link icon' to close opened input\n     */\n    if (range) {\n      /**\n       * Save selection before change focus to the input\n       */\n      if (!this.inputOpened) {\n        /** Create blue background instead of selection */\n        this.selection.setFakeBackground();\n        this.selection.save();\n      } else {\n        this.selection.restore();\n        this.selection.removeFakeBackground();\n      }\n      const parentAnchor = this.selection.findParentTag('A');\n\n      /**\n       * Unlink icon pressed\n       */\n      if (parentAnchor) {\n        const unlinkButton =\n          document.getElementsByClassName('unlink-button')[0];\n\n        this.selection.expandToTag(parentAnchor);\n        this.unlink();\n        this.nodes.input.value = '';\n        this.nodes.button.classList.remove(this.CSS.buttonUnlink);\n        this.nodes.button.classList.remove(this.CSS.buttonActive);\n        unlinkButton.remove();\n        this.inlineToolbar.close();\n\n        return;\n      }\n    }\n\n    this.toggleActions();\n  }\n\n  /**\n   * Check selection and set activated state to button if there are <a> tag\n   */\n  public checkState(): boolean {\n    const anchorTag = this.selection.findParentTag('A');\n    const unlinkButton = document.createElement('button');\n\n    if (anchorTag) {\n      this.nodes.button.innerHTML = IconUnlink;\n      this.nodes.button.classList.add(this.CSS.buttonUnlink);\n      this.nodes.button.classList.add(this.CSS.buttonActive);\n      this.openActions();\n\n      unlinkButton.classList.add('unlink-button');\n      unlinkButton.textContent = this.i18n.t('Remove');\n      unlinkButton.addEventListener('click', () => {\n        this.selection.expandToTag(anchorTag);\n        this.unlink();\n        this.nodes.input.value = '';\n        this.nodes.button.classList.remove(this.CSS.buttonUnlink);\n        this.nodes.button.classList.remove(this.CSS.buttonActive);\n        unlinkButton.remove();\n        this.inlineToolbar.close();\n      });\n\n      /**\n       * Fill input value with link href\n       */\n      const hrefAttr = anchorTag.getAttribute('href');\n\n      this.nodes.input.value = hrefAttr !== 'null' ? hrefAttr : '';\n      if (\n        this.nodes.input.value !== '' &&\n        !document.querySelector('.unlink-button')\n      ) {\n        document\n          .querySelector('.ce-inline-toolbar__actions')\n          .appendChild(unlinkButton);\n      }\n\n      this.selection.save();\n    } else {\n      this.nodes.button.innerHTML = IconLink;\n      this.nodes.button.classList.remove(this.CSS.buttonUnlink);\n      this.nodes.button.classList.remove(this.CSS.buttonActive);\n    }\n\n    return !!anchorTag;\n  }\n\n  /**\n   * Function called with Inline Toolbar closing\n   */\n  public clear(): void {\n    this.closeActions();\n  }\n\n  /**\n   * Set a shortcut\n   */\n  public get shortcut(): string {\n    return 'CMD+K';\n  }\n\n  /**\n   * Show/close link input\n   */\n  private toggleActions(): void {\n    if (!this.inputOpened) {\n      this.openActions(true);\n    } else {\n      this.closeActions(false);\n    }\n  }\n\n  /**\n   * @param {boolean} needFocus - on link creation we need to focus input. On editing - nope.\n   */\n  private openActions(needFocus = false): void {\n    const inlineToolbarElement = document.getElementsByClassName(\n      'ce-inline-toolbar'\n    )[0] as HTMLDivElement;\n\n    this.nodes.input.classList.add(this.CSS.inputShowed);\n    inlineToolbarElement.style.transform = 'translate(-50%, -33px)';\n    if (needFocus) {\n      this.nodes.input.focus();\n    }\n    this.inputOpened = true;\n  }\n\n  /**\n   * Close input\n   *\n   * @param {boolean} clearSavedSelection  we don't need to clear saved selection\n   *                                        on toggle-clicks on the icon of opened Toolbar\n   */\n  private closeActions(clearSavedSelection = true): void {\n    const inlineToolbarElement = document.getElementsByClassName(\n      'ce-inline-toolbar'\n    )[0] as HTMLDivElement;\n\n    if (this.selection.isFakeBackgroundEnabled) {\n      // if actions is broken by other selection We need to save new selection\n      const currentSelection = new SelectionUtils();\n\n      currentSelection.save();\n\n      this.selection.restore();\n      this.selection.removeFakeBackground();\n\n      // and recover new selection after removing fake background\n      currentSelection.restore();\n    }\n\n    this.nodes.input.classList.remove(this.CSS.inputShowed);\n    inlineToolbarElement.style.transform = '';\n    this.nodes.input.value = '';\n    if (clearSavedSelection) {\n      this.selection.clearSaved();\n    }\n    this.inputOpened = false;\n  }\n\n  /**\n   * Enter pressed on input\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  private enterPressed(event: KeyboardEvent): void {\n    let value = this.nodes.input.value || '';\n\n    if (!value.trim()) {\n      this.selection.restore();\n      this.unlink();\n      event.preventDefault();\n      this.closeActions();\n\n      return;\n    }\n\n    if (!this.validateURL(value)) {\n      this.notifier.show({\n        message: 'Pasted link is not valid.',\n        style: 'error',\n      });\n\n      _.log('Incorrect Link pasted', 'warn', value);\n\n      return;\n    }\n\n    value = this.prepareLink(value);\n\n    this.selection.restore();\n    this.selection.removeFakeBackground();\n\n    this.insertLink(value);\n\n    /**\n     * Preventing events that will be able to happen\n     */\n    event.preventDefault();\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n    this.selection.collapseToEnd();\n    this.inlineToolbar.close();\n  }\n\n  /**\n   * Detects if passed string is URL\n   *\n   * @param {string} str - string to validate\n   * @returns {boolean}\n   */\n  private validateURL(str: string): boolean {\n    /**\n     * Don't allow spaces\n     */\n    return !/\\s/.test(str);\n  }\n\n  /**\n   * Process link before injection\n   * - sanitize\n   * - add protocol for links like 'google.com'\n   *\n   * @param {string} link - raw user input\n   */\n  private prepareLink(link: string): string {\n    link = link.trim();\n    link = this.addProtocol(link);\n\n    return link;\n  }\n\n  /**\n   * Add 'http' protocol to the links like 'vc.ru', 'google.com'\n   *\n   * @param {string} link - string to process\n   */\n  private addProtocol(link: string): string {\n    /**\n     * If protocol already exists, do nothing\n     */\n    if (/^(\\w+):(\\/\\/)?/.test(link)) {\n      return link;\n    }\n\n    /**\n     * We need to add missed HTTP protocol to the link, but skip 2 cases:\n     *     1) Internal links like \"/general\"\n     *     2) Anchors looks like \"#results\"\n     *     3) Protocol-relative URLs like \"//google.com\"\n     */\n    const isInternal = /^\\/[^/\\s]/.test(link),\n        isAnchor = link.substring(0, 1) === '#',\n        isProtocolRelative = /^\\/\\/[^/\\s]/.test(link);\n\n    if (!isInternal && !isAnchor && !isProtocolRelative) {\n      link = 'http://' + link;\n    }\n\n    return link;\n  }\n\n  /**\n   * Inserts <a> tag with \"href\"\n   *\n   * @param {string} link - \"href\" value\n   */\n  private insertLink(link: string): void {\n    /**\n     * Edit all link, not selected part\n     */\n    const anchorTag = this.selection.findParentTag('A');\n\n    if (anchorTag) {\n      this.selection.expandToTag(anchorTag);\n    }\n\n    document.execCommand(this.commandLink, false, link);\n    this.selection.findParentTag('A').setAttribute('target', '_blank');\n  }\n\n  /**\n   * Removes <a> tag\n   */\n  private unlink(): void {\n    document.execCommand(this.commandUnlink);\n  }\n}\n","import { BlockAPI as BlockAPIInterface, Blocks } from '../../../../types/api';\nimport { BlockToolData, OutputBlockData, OutputData, ToolConfig } from '../../../../types';\nimport * as _ from './../../utils';\nimport BlockAPI from '../../block/api';\nimport Module from '../../__module';\nimport Block from '../../block';\nimport { capitalize } from './../../utils';\n\n/**\n * @class BlocksAPI\n * provides with methods working with Block\n */\nexport default class BlocksAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Blocks}\n   */\n  public get methods(): Blocks {\n    return {\n      clear: (): void => this.clear(),\n      render: (data: OutputData): Promise<void> => this.render(data),\n      renderFromHTML: (data: string): Promise<void> => this.renderFromHTML(data),\n      delete: (index?: number): void => this.delete(index),\n      swap: (fromIndex: number, toIndex: number): void => this.swap(fromIndex, toIndex),\n      move: (toIndex: number, fromIndex?: number): void => this.move(toIndex, fromIndex),\n      getBlockByIndex: (index: number): BlockAPIInterface | undefined => this.getBlockByIndex(index),\n      getById: (id: string): BlockAPIInterface | null => this.getById(id),\n      getCurrentBlockIndex: (): number => this.getCurrentBlockIndex(),\n      getBlockIndex: (id: string): number => this.getBlockIndex(id),\n      getBlocksCount: (): number => this.getBlocksCount(),\n      stretchBlock: (index: number, status = true): void => this.stretchBlock(index, status),\n      insertNewBlock: (): void => this.insertNewBlock(),\n      insert: this.insert,\n      insertMany: this.insertMany,\n      update: this.update,\n      composeBlockData: this.composeBlockData,\n      convert: this.convert,\n    };\n  }\n\n  /**\n   * Returns Blocks count\n   *\n   * @returns {number}\n   */\n  public getBlocksCount(): number {\n    return this.Editor.BlockManager.blocks.length;\n  }\n\n  /**\n   * Returns current block index\n   *\n   * @returns {number}\n   */\n  public getCurrentBlockIndex(): number {\n    return this.Editor.BlockManager.currentBlockIndex;\n  }\n\n  /**\n   * Returns the index of Block by id;\n   *\n   * @param id - block id\n   */\n  public getBlockIndex(id: string): number | undefined {\n    const block = this.Editor.BlockManager.getBlockById(id);\n\n    if (!block) {\n      _.logLabeled('There is no block with id `' + id + '`', 'warn');\n\n      return;\n    }\n\n    return this.Editor.BlockManager.getBlockIndex(block);\n  }\n\n  /**\n   * Returns BlockAPI object by Block index\n   *\n   * @param {number} index - index to get\n   */\n  public getBlockByIndex(index: number): BlockAPIInterface | undefined {\n    const block = this.Editor.BlockManager.getBlockByIndex(index);\n\n    if (block === undefined) {\n      _.logLabeled('There is no block at index `' + index + '`', 'warn');\n\n      return;\n    }\n\n    return new BlockAPI(block);\n  }\n\n  /**\n   * Returns BlockAPI object by Block id\n   *\n   * @param id - id of block to get\n   */\n  public getById(id: string): BlockAPIInterface | null {\n    const block = this.Editor.BlockManager.getBlockById(id);\n\n    if (block === undefined) {\n      _.logLabeled('There is no block with id `' + id + '`', 'warn');\n\n      return null;\n    }\n\n    return new BlockAPI(block);\n  }\n\n  /**\n   * Call Block Manager method that swap Blocks\n   *\n   * @param {number} fromIndex - position of first Block\n   * @param {number} toIndex - position of second Block\n   * @deprecated  use 'move' instead\n   */\n  public swap(fromIndex: number, toIndex: number): void {\n    _.log(\n      '`blocks.swap()` method is deprecated and will be removed in the next major release. ' +\n      'Use `block.move()` method instead',\n      'info'\n    );\n\n    this.Editor.BlockManager.swap(fromIndex, toIndex);\n  }\n\n  /**\n   * Move block from one index to another\n   *\n   * @param {number} toIndex - index to move to\n   * @param {number} fromIndex - index to move from\n   */\n  public move(toIndex: number, fromIndex?: number): void {\n    this.Editor.BlockManager.move(toIndex, fromIndex);\n  }\n\n  /**\n   * Deletes Block\n   *\n   * @param {number} blockIndex - index of Block to delete\n   */\n  public delete(blockIndex: number = this.Editor.BlockManager.currentBlockIndex): void {\n    try {\n      const block = this.Editor.BlockManager.getBlockByIndex(blockIndex);\n\n      this.Editor.BlockManager.removeBlock(block);\n    } catch (e) {\n      _.logLabeled(e, 'warn');\n\n      return;\n    }\n\n    /**\n     * in case of last block deletion\n     * Insert the new default empty block\n     */\n    if (this.Editor.BlockManager.blocks.length === 0) {\n      this.Editor.BlockManager.insert();\n    }\n\n    /**\n     * After Block deletion currentBlock is updated\n     */\n    if (this.Editor.BlockManager.currentBlock) {\n      this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END);\n    }\n\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * Clear Editor's area\n   */\n  public clear(): void {\n    this.Editor.BlockManager.clear(true);\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * Fills Editor with Blocks data\n   *\n   * @param {OutputData} data  Saved Editor data\n   */\n  public async render(data: OutputData): Promise<void> {\n    if (data === undefined || data.blocks === undefined) {\n      throw new Error('Incorrect data passed to the render() method');\n    }\n\n    await this.Editor.BlockManager.clear();\n\n    return this.Editor.Renderer.render(data.blocks);\n  }\n\n  /**\n   * Render passed HTML string\n   *\n   * @param {string} data - HTML string to render\n   * @returns {Promise<void>}\n   */\n  public renderFromHTML(data: string): Promise<void> {\n    this.Editor.BlockManager.clear();\n\n    return this.Editor.Paste.processText(data, true);\n  }\n\n  /**\n   * Stretch Block's content\n   *\n   * @param {number} index - index of Block to stretch\n   * @param {boolean} status - true to enable, false to disable\n   * @deprecated Use BlockAPI interface to stretch Blocks\n   */\n  public stretchBlock(index: number, status = true): void {\n    _.deprecationAssert(\n      true,\n      'blocks.stretchBlock()',\n      'BlockAPI'\n    );\n\n    const block = this.Editor.BlockManager.getBlockByIndex(index);\n\n    if (!block) {\n      return;\n    }\n\n    block.stretched = status;\n  }\n\n  /**\n   * Insert new Block and returns it's API\n   *\n   * @param {string} type  Tool name\n   * @param {BlockToolData} data  Tool data to insert\n   * @param {ToolConfig} config  Tool config\n   * @param {number?} index  index where to insert new Block\n   * @param {boolean?} needToFocus - flag to focus inserted Block\n   * @param replace - pass true to replace the Block existed under passed index\n   * @param {string} id  An optional id for the new block. If omitted then the new id will be generated\n   */\n  public insert = (\n    type: string = this.config.defaultBlock,\n    data: BlockToolData = {},\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\n    config: ToolConfig = {},\n    index?: number,\n    needToFocus?: boolean,\n    replace?: boolean,\n    id?: string\n  ): BlockAPIInterface => {\n    const insertedBlock = this.Editor.BlockManager.insert({\n      id,\n      tool: type,\n      data,\n      index,\n      needToFocus,\n      replace,\n    });\n\n    return new BlockAPI(insertedBlock);\n  };\n\n  /**\n   * Creates data of an empty block with a passed type.\n   *\n   * @param toolName - block tool name\n   */\n  public composeBlockData = async (toolName: string): Promise<BlockToolData> => {\n    const tool = this.Editor.Tools.blockTools.get(toolName);\n    const block = new Block({\n      tool,\n      api: this.Editor.API,\n      readOnly: true,\n      data: {},\n      tunesData: {},\n    });\n\n    return block.data;\n  };\n\n  /**\n   * Insert new Block\n   * After set caret to this Block\n   *\n   * @todo remove in 3.0.0\n   * @deprecated with insert() method\n   */\n  public insertNewBlock(): void {\n    _.log('Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. ' +\n      'Use blocks.insert() instead.', 'warn');\n    this.insert();\n  }\n\n  /**\n   * Updates block data by id\n   *\n   * @param id - id of the block to update\n   * @param data - the new data\n   */\n  public update = async (id: string, data: Partial<BlockToolData>): Promise<BlockAPIInterface> => {\n    const { BlockManager } = this.Editor;\n    const block = BlockManager.getBlockById(id);\n\n    if (block === undefined) {\n      throw new Error(`Block with id \"${id}\" not found`);\n    }\n\n    const updatedBlock = await BlockManager.update(block, data);\n\n    // we cast to any because our BlockAPI has no \"new\" signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return new (BlockAPI as any)(updatedBlock);\n  };\n\n  /**\n   * Converts block to another type. Both blocks should provide the conversionConfig.\n   *\n   * @param id - id of the existing block to convert. Should provide 'conversionConfig.export' method\n   * @param newType - new block type. Should provide 'conversionConfig.import' method\n   * @param dataOverrides - optional data overrides for the new block\n   * @throws Error if conversion is not possible\n   */\n  private convert = (id: string, newType: string, dataOverrides?: BlockToolData): void => {\n    const { BlockManager, Tools } = this.Editor;\n    const blockToConvert = BlockManager.getBlockById(id);\n\n    if (!blockToConvert) {\n      throw new Error(`Block with id \"${id}\" not found`);\n    }\n\n    const originalBlockTool = Tools.blockTools.get(blockToConvert.name);\n    const targetBlockTool = Tools.blockTools.get(newType);\n\n    if (!targetBlockTool) {\n      throw new Error(`Block Tool with type \"${newType}\" not found`);\n    }\n\n    const originalBlockConvertable = originalBlockTool?.conversionConfig?.export !== undefined;\n    const targetBlockConvertable = targetBlockTool.conversionConfig?.import !== undefined;\n\n    if (originalBlockConvertable && targetBlockConvertable) {\n      BlockManager.convert(blockToConvert, newType, dataOverrides);\n    } else {\n      const unsupportedBlockTypes = [\n        !originalBlockConvertable ? capitalize(blockToConvert.name) : false,\n        !targetBlockConvertable ? capitalize(newType) : false,\n      ].filter(Boolean).join(' and ');\n\n      throw new Error(`Conversion from \"${blockToConvert.name}\" to \"${newType}\" is not possible. ${unsupportedBlockTypes} tool(s) should provide a \"conversionConfig\"`);\n    }\n  };\n\n\n  /**\n   * Inserts several Blocks to a specified index\n   *\n   * @param blocks - blocks data to insert\n   * @param index - index to insert the blocks at\n   */\n  private insertMany = (\n    blocks: OutputBlockData[],\n    index: number = this.Editor.BlockManager.blocks.length - 1\n  ): BlockAPIInterface[] => {\n    this.validateIndex(index);\n\n    const blocksToInsert = blocks.map(({ id, type, data }) => {\n      return this.Editor.BlockManager.composeBlock({\n        id,\n        tool: type || (this.config.defaultBlock as string),\n        data,\n      });\n    });\n\n    this.Editor.BlockManager.insertMany(blocksToInsert, index);\n\n    // we cast to any because our BlockAPI has no \"new\" signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return blocksToInsert.map((block) => new (BlockAPI as any)(block));\n  };\n\n  /**\n   * Validated block index and throws an error if it's invalid\n   *\n   * @param index - index to validate\n   */\n  private validateIndex(index: unknown): void {\n    if (typeof index !== 'number') {\n      throw new Error('Index should be a number');\n    }\n\n    if (index < 0) {\n      throw new Error(`Index should be greater than or equal to 0`);\n    }\n\n    if (index === null) {\n      throw new Error(`Index should be greater than or equal to 0`);\n    }\n  }\n}\n","import { Caret } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class CaretAPI\n * provides with methods to work with caret\n */\nexport default class CaretAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Caret}\n   */\n  public get methods(): Caret {\n    return {\n      setToFirstBlock: this.setToFirstBlock,\n      setToLastBlock: this.setToLastBlock,\n      setToPreviousBlock: this.setToPreviousBlock,\n      setToNextBlock: this.setToNextBlock,\n      setToBlock: this.setToBlock,\n      focus: this.focus,\n    };\n  }\n\n  /**\n   * Sets caret to the first Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   * @returns {boolean}\n   */\n  private setToFirstBlock = (position: string = this.Editor.Caret.positions.DEFAULT, offset = 0): boolean => {\n    if (!this.Editor.BlockManager.firstBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock, position, offset);\n\n    return true;\n  };\n\n  /**\n   * Sets caret to the last Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   * @returns {boolean}\n   */\n  private setToLastBlock = (position: string = this.Editor.Caret.positions.DEFAULT, offset = 0): boolean => {\n    if (!this.Editor.BlockManager.lastBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock, position, offset);\n\n    return true;\n  };\n\n  /**\n   * Sets caret to the previous Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   * @returns {boolean}\n   */\n  private setToPreviousBlock = (\n    position: string = this.Editor.Caret.positions.DEFAULT,\n    offset = 0\n  ): boolean => {\n    if (!this.Editor.BlockManager.previousBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock, position, offset);\n\n    return true;\n  };\n\n  /**\n   * Sets caret to the next Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   * @returns {boolean}\n   */\n  private setToNextBlock = (position: string = this.Editor.Caret.positions.DEFAULT, offset = 0): boolean => {\n    if (!this.Editor.BlockManager.nextBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock, position, offset);\n\n    return true;\n  };\n\n  /**\n   * Sets caret to the Block by passed index\n   *\n   * @param {number} index - index of Block where to set caret\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   * @returns {boolean}\n   */\n  private setToBlock = (\n    index: number,\n    position: string = this.Editor.Caret.positions.DEFAULT,\n    offset = 0\n  ): boolean => {\n    if (!this.Editor.BlockManager.blocks[index]) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[index], position, offset);\n\n    return true;\n  };\n\n  /**\n   * Sets caret to the Editor\n   *\n   * @param {boolean} atEnd - if true, set Caret to the end of the Editor\n   * @returns {boolean}\n   */\n  private focus = (atEnd = false): boolean => {\n    if (atEnd) {\n      return this.setToLastBlock(this.Editor.Caret.positions.END);\n    }\n\n    return this.setToFirstBlock(this.Editor.Caret.positions.START);\n  };\n}\n","import Module from '../../__module';\nimport { Events } from '../../../../types/api';\n\n/**\n * @class EventsAPI\n * provides with methods working with Toolbar\n */\nexport default class EventsAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Events}\n   */\n  public get methods(): Events {\n    return {\n      emit: (eventName: string, data: object): void => this.emit(eventName, data),\n      off: (eventName: string, callback: () => void): void => this.off(eventName, callback),\n      on: (eventName: string, callback: () => void): void => this.on(eventName, callback),\n    };\n  }\n\n  /**\n   * Subscribe on Events\n   *\n   * @param {string} eventName - event name to subscribe\n   * @param {Function} callback - event handler\n   */\n  public on(eventName, callback): void {\n    this.eventsDispatcher.on(eventName, callback);\n  }\n\n  /**\n   * Emit event with data\n   *\n   * @param {string} eventName - event to emit\n   * @param {object} data - event's data\n   */\n  public emit(eventName, data): void {\n    this.eventsDispatcher.emit(eventName, data);\n  }\n\n  /**\n   * Unsubscribe from Event\n   *\n   * @param {string} eventName - event to unsubscribe\n   * @param {Function} callback - event handler\n   */\n  public off(eventName, callback): void {\n    this.eventsDispatcher.off(eventName, callback);\n  }\n}\n","import { I18n } from '../../../../types/api';\nimport I18nInternal from '../../i18n';\nimport { logLabeled } from '../../utils';\nimport Module from '../../__module';\nimport { ToolClass } from '../../tools/collection';\n\n/**\n * Provides methods for working with i18n\n */\nexport default class I18nAPI extends Module {\n  /**\n   * Return namespace section for tool or block tune\n   *\n   * @param tool - tool object\n   */\n  private static getNamespace(tool: ToolClass): string {\n    if (tool.isTune()) {\n      return `blockTunes.${tool.name}`;\n    }\n\n    return `tools.${tool.name}`;\n  }\n\n  /**\n   * Return I18n API methods with global dictionary access\n   */\n  public get methods(): I18n {\n    return {\n      t: (): string | undefined => {\n        logLabeled('I18n.t() method can be accessed only from Tools', 'warn');\n\n        return undefined;\n      },\n    };\n  }\n\n  /**\n   * Return I18n API methods with tool namespaced dictionary\n   *\n   * @param tool - Tool object\n   */\n  public getMethodsForTool(tool: ToolClass): I18n {\n    return Object.assign(\n      this.methods,\n      {\n        t: (dictKey: string): string => {\n          return I18nInternal.t(I18nAPI.getNamespace(tool), dictKey);\n        },\n      });\n  }\n}\n","/**\n * @module API\n * @copyright <CodeX> 2018\n *\n * Each block has an Editor API instance to use provided public methods\n * if you cant to read more about how API works, please see docs\n */\nimport Module from '../../__module';\nimport { API as APIInterfaces } from '../../../../types';\nimport { ToolClass } from '../../tools/collection';\n\n/**\n * @class API\n */\nexport default class API extends Module {\n  /**\n   * Editor.js Core API modules\n   */\n  public get methods(): APIInterfaces {\n    return {\n      blocks: this.Editor.BlocksAPI.methods,\n      caret: this.Editor.CaretAPI.methods,\n      events: this.Editor.EventsAPI.methods,\n      listeners: this.Editor.ListenersAPI.methods,\n      notifier: this.Editor.NotifierAPI.methods,\n      sanitizer: this.Editor.SanitizerAPI.methods,\n      saver: this.Editor.SaverAPI.methods,\n      selection: this.Editor.SelectionAPI.methods,\n      styles: this.Editor.StylesAPI.classes,\n      toolbar: this.Editor.ToolbarAPI.methods,\n      inlineToolbar: this.Editor.InlineToolbarAPI.methods,\n      tooltip: this.Editor.TooltipAPI.methods,\n      i18n: this.Editor.I18nAPI.methods,\n      readOnly: this.Editor.ReadOnlyAPI.methods,\n      ui: this.Editor.UiAPI.methods,\n    };\n  }\n\n  /**\n   * Returns Editor.js Core API methods for passed tool\n   *\n   * @param tool - tool object\n   */\n  public getMethodsForTool(tool: ToolClass): APIInterfaces {\n    return Object.assign(\n      this.methods,\n      {\n        i18n: this.Editor.I18nAPI.getMethodsForTool(tool),\n      }\n    ) as APIInterfaces;\n  }\n}\n","import { InlineToolbar } from '../../../../types/api/inline-toolbar';\nimport Module from '../../__module';\n\n/**\n * @class InlineToolbarAPI\n * Provides methods for working with the Inline Toolbar\n */\nexport default class InlineToolbarAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {InlineToolbar}\n   */\n  public get methods(): InlineToolbar {\n    return {\n      close: (): void => this.close(),\n      open: (): void => this.open(),\n    };\n  }\n\n  /**\n   * Open Inline Toolbar\n   */\n  public open(): void {\n    this.Editor.InlineToolbar.tryToShow();\n  }\n\n  /**\n   * Close Inline Toolbar\n   */\n  public close(): void {\n    this.Editor.InlineToolbar.close();\n  }\n}\n","import { Listeners } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class ListenersAPI\n * Provides with methods working with DOM Listener\n */\nexport default class ListenersAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Listeners}\n   */\n  public get methods(): Listeners {\n    return {\n      on: (element: HTMLElement, eventType, handler, useCapture): string => this.on(element, eventType, handler, useCapture),\n      off: (element, eventType, handler, useCapture): void => this.off(element, eventType, handler, useCapture),\n      offById: (id): void => this.offById(id),\n    };\n  }\n\n  /**\n   * Ads a DOM event listener. Return it's id.\n   *\n   * @param {HTMLElement} element - Element to set handler to\n   * @param {string} eventType - event type\n   * @param {() => void} handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  public on(element: HTMLElement, eventType: string, handler: () => void, useCapture?: boolean): string {\n    return this.listeners.on(element, eventType, handler, useCapture);\n  }\n\n  /**\n   * Removes DOM listener from element\n   *\n   * @param {Element} element - Element to remove handler from\n   * @param eventType - event type\n   * @param handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  public off(element: Element, eventType: string, handler: () => void, useCapture?: boolean): void {\n    this.listeners.off(element, eventType, handler, useCapture);\n  }\n\n  /**\n   * Removes DOM listener by the listener id\n   *\n   * @param id - id of the listener to remove\n   */\n  public offById(id: string): void {\n    this.listeners.offById(id);\n  }\n}\n","import { Notifier as INotifier } from '../../../../types/api';\nimport Notifier from '../../utils/notifier';\nimport { ConfirmNotifierOptions, NotifierOptions, PromptNotifierOptions } from 'codex-notifier';\nimport Module from '../../__module';\nimport { ModuleConfig } from '../../../types-internal/module-config';\n\n/**\n *\n */\nexport default class NotifierAPI extends Module {\n  /**\n   * Notifier utility Instance\n   */\n  private notifier: Notifier;\n\n  /**\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    super({\n      config,\n      eventsDispatcher,\n    });\n\n    this.notifier = new Notifier();\n  }\n\n  /**\n   * Available methods\n   */\n  public get methods(): INotifier {\n    return {\n      show: (options: NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions): void => this.show(options),\n    };\n  }\n\n  /**\n   * Show notification\n   *\n   * @param {NotifierOptions} options - message option\n   */\n  public show(options: NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions): void {\n    return this.notifier.show(options);\n  }\n}\n","import { ReadOnly } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class ReadOnlyAPI\n * @classdesc ReadOnly API\n */\nexport default class ReadOnlyAPI extends Module {\n  /**\n   * Available methods\n   */\n  public get methods(): ReadOnly {\n    const getIsEnabled = (): boolean => this.isEnabled;\n\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    return {\n      toggle: (state): Promise<boolean> => this.toggle(state),\n      get isEnabled(): boolean {\n        return getIsEnabled();\n      },\n    };\n  }\n\n  /**\n   * Set or toggle read-only state\n   *\n   * @param {boolean|undefined} state - set or toggle state\n   * @returns {boolean} current value\n   */\n  public toggle(state?: boolean): Promise<boolean> {\n    return this.Editor.ReadOnly.toggle(state);\n  }\n\n  /**\n   * Returns current read-only state\n   */\n  public get isEnabled(): boolean {\n    return this.Editor.ReadOnly.isEnabled;\n  }\n}\n","import { Sanitizer as ISanitizer } from '../../../../types/api';\nimport { SanitizerConfig } from '../../../../types/configs';\nimport Module from '../../__module';\nimport { clean } from '../../utils/sanitizer';\n\n/**\n * @class SanitizerAPI\n * Provides Editor.js Sanitizer that allows developers to clean their HTML\n */\nexport default class SanitizerAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {SanitizerConfig}\n   */\n  public get methods(): ISanitizer {\n    return {\n      clean: (taintString, config): string => this.clean(taintString, config),\n    };\n  }\n\n  /**\n   * Perform sanitizing of a string\n   *\n   * @param {string} taintString - what to sanitize\n   * @param {SanitizerConfig} config - sanitizer config\n   * @returns {string}\n   */\n  public clean(taintString: string, config: SanitizerConfig): string {\n    return clean(taintString, config);\n  }\n}\n","import { Saver } from '../../../../types/api';\nimport { OutputData } from '../../../../types';\nimport * as _ from '../../utils';\nimport Module from '../../__module';\n\n/**\n * @class SaverAPI\n * provides with methods to save data\n */\nexport default class SaverAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Saver}\n   */\n  public get methods(): Saver {\n    return {\n      save: (): Promise<OutputData> => this.save(),\n    };\n  }\n\n  /**\n   * Return Editor's data\n   *\n   * @returns {OutputData}\n   */\n  public save(): Promise<OutputData> {\n    const errorText = 'Editor\\'s content can not be saved in read-only mode';\n\n    if (this.Editor.ReadOnly.isEnabled) {\n      _.logLabeled(errorText, 'warn');\n\n      return Promise.reject(new Error(errorText));\n    }\n\n    return this.Editor.Saver.save();\n  }\n}\n","import SelectionUtils from '../../selection';\nimport { Selection as SelectionAPIInterface } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class SelectionAPI\n * Provides with methods working with SelectionUtils\n */\nexport default class SelectionAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {SelectionAPIInterface}\n   */\n  public get methods(): SelectionAPIInterface {\n    return {\n      findParentTag: (tagName: string, className?: string): HTMLElement | null => this.findParentTag(tagName, className),\n      expandToTag: (node: HTMLElement): void => this.expandToTag(node),\n    };\n  }\n\n  /**\n   * Looks ahead from selection and find passed tag with class name\n   *\n   * @param {string} tagName - tag to find\n   * @param {string} className - tag's class name\n   * @returns {HTMLElement|null}\n   */\n  public findParentTag(tagName: string, className?: string): HTMLElement | null {\n    return new SelectionUtils().findParentTag(tagName, className);\n  }\n\n  /**\n   * Expand selection to passed tag\n   *\n   * @param {HTMLElement} node - tag that should contain selection\n   */\n  public expandToTag(node: HTMLElement): void {\n    new SelectionUtils().expandToTag(node);\n  }\n}\n","import { Styles } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n *\n */\nexport default class StylesAPI extends Module {\n  /**\n   * Exported classes\n   */\n  public get classes(): Styles {\n    return {\n      /**\n       * Base Block styles\n       */\n      block: 'cdx-block',\n\n      /**\n       * Inline Tools styles\n       */\n      inlineToolButton: 'ce-inline-tool',\n      inlineToolButtonActive: 'ce-inline-tool--active',\n\n      /**\n       * UI elements\n       */\n      input: 'cdx-input',\n      loader: 'cdx-loader',\n      button: 'cdx-button',\n\n      /**\n       * Settings styles\n       */\n      settingsButton: 'cdx-settings-button',\n      settingsButtonActive: 'cdx-settings-button--active',\n    };\n  }\n}\n","import { Toolbar } from '../../../../types/api';\nimport Module from '../../__module';\nimport * as _ from './../../utils';\n/**\n * @class ToolbarAPI\n * Provides methods for working with the Toolbar\n */\nexport default class ToolbarAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Toolbar}\n   */\n  public get methods(): Toolbar {\n    return {\n      close: (): void => this.close(),\n      open: (): void => this.open(),\n      toggleBlockSettings: (openingState?: boolean): void => this.toggleBlockSettings(openingState),\n      toggleToolbox: (openingState?: boolean): void => this.toggleToolbox(openingState),\n    };\n  }\n\n  /**\n   * Open toolbar\n   */\n  public open(): void {\n    this.Editor.Toolbar.moveAndOpen();\n  }\n\n  /**\n   * Close toolbar and all included elements\n   */\n  public close(): void {\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * Toggles Block Setting of the current block\n   *\n   * @param {boolean} openingState   opening state of Block Setting\n   */\n  public toggleBlockSettings(openingState?: boolean): void {\n    if (this.Editor.BlockManager.currentBlockIndex === -1) {\n      _.logLabeled('Could\\'t toggle the Toolbar because there is no block selected ', 'warn');\n\n      return;\n    }\n\n    /** Check that opening state is set or not */\n    const canOpenBlockSettings = openingState ?? !this.Editor.BlockSettings.opened;\n\n    if (canOpenBlockSettings) {\n      this.Editor.Toolbar.moveAndOpen();\n      this.Editor.BlockSettings.open();\n    } else {\n      this.Editor.BlockSettings.close();\n    }\n  }\n\n\n  /**\n   * Open toolbox\n   *\n   * @param {boolean} openingState - Opening state of toolbox\n   */\n  public toggleToolbox(openingState: boolean): void {\n    if (this.Editor.BlockManager.currentBlockIndex === -1) {\n      _.logLabeled('Could\\'t toggle the Toolbox because there is no block selected ', 'warn');\n\n      return;\n    }\n\n    const canOpenToolbox = openingState ?? !this.Editor.Toolbar.toolbox.opened;\n\n    if (canOpenToolbox) {\n      this.Editor.Toolbar.moveAndOpen();\n      this.Editor.Toolbar.toolbox.open();\n    } else {\n      this.Editor.Toolbar.toolbox.close();\n    }\n  }\n}\n","import { Tooltip as ITooltip } from '../../../../types/api';\nimport type { TooltipOptions, TooltipContent } from 'codex-tooltip/types';\nimport Module from '../../__module';\nimport { ModuleConfig } from '../../../types-internal/module-config';\nimport Tooltip from '../../utils/tooltip';\n/**\n * @class TooltipAPI\n * @classdesc Tooltip API\n */\nexport default class TooltipAPI extends Module {\n  /**\n   * Tooltip utility Instance\n   */\n  private tooltip: Tooltip;\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    super({\n      config,\n      eventsDispatcher,\n    });\n\n    this.tooltip = new Tooltip();\n  }\n\n  /**\n   * Destroy Module\n   */\n  public destroy(): void {\n    this.tooltip.destroy();\n  }\n\n  /**\n   * Available methods\n   */\n  public get methods(): ITooltip {\n    return {\n      show: (element: HTMLElement,\n        content: TooltipContent,\n        options?: TooltipOptions\n      ): void => this.show(element, content, options),\n      hide: (): void => this.hide(),\n      onHover: (element: HTMLElement,\n        content: TooltipContent,\n        options?: TooltipOptions\n      ): void => this.onHover(element, content, options),\n    };\n  }\n\n  /**\n   * Method show tooltip on element with passed HTML content\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  public show(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.tooltip.show(element, content, options);\n  }\n\n  /**\n   * Method hides tooltip on HTML page\n   */\n  public hide(): void {\n    this.tooltip.hide();\n  }\n\n  /**\n   * Decorator for showing Tooltip by mouseenter/mouseleave\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  public onHover(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.tooltip.onHover(element, content, options);\n  }\n}\n","import Module from '../../__module';\nimport { Ui, UiNodes } from '../../../../types/api';\n\n/**\n * API module allowing to access some Editor UI elements\n */\nexport default class UiAPI extends Module {\n  /**\n   * Available methods / getters\n   */\n  public get methods(): Ui {\n    return {\n      nodes: this.editorNodes,\n      /**\n       * There can be added some UI methods, like toggleThinMode() etc\n       */\n    };\n  }\n\n  /**\n   * Exported classes\n   */\n  private get editorNodes(): UiNodes {\n    return {\n      /**\n       * Top-level editor instance wrapper\n       */\n      wrapper: this.Editor.UI.nodes.wrapper,\n\n      /**\n       * Element that holds all the Blocks\n       */\n      redactor: this.Editor.UI.nodes.redactor,\n    };\n  }\n}\n","/**\n * Contains keyboard and mouse events bound on each Block by Block Manager\n */\nimport Module from '../__module';\nimport * as _ from '../utils';\nimport SelectionUtils from '../selection';\nimport Flipper from '../flipper';\nimport type Block from '../block';\nimport { areBlocksMergeable } from '../utils/blocks';\n\n/**\n *\n */\nexport default class BlockEvents extends Module {\n  /**\n   * All keydowns on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  public keydown(event: KeyboardEvent): void {\n    /**\n     * Run common method for all keydown events\n     */\n    this.beforeKeydownProcessing(event);\n\n    /**\n     * Fire keydown processor by event.keyCode\n     */\n    switch (event.keyCode) {\n      case _.keyCodes.BACKSPACE:\n        this.backspace(event);\n        break;\n\n      case _.keyCodes.DELETE:\n        this.delete(event);\n        break;\n\n      case _.keyCodes.ENTER:\n        this.enter(event);\n        break;\n\n      case _.keyCodes.DOWN:\n      case _.keyCodes.RIGHT:\n        this.arrowRightAndDown(event);\n        break;\n\n      case _.keyCodes.UP:\n      case _.keyCodes.LEFT:\n        this.arrowLeftAndUp(event);\n        break;\n\n      case _.keyCodes.TAB:\n        this.tabPressed(event);\n        break;\n    }\n  }\n\n  /**\n   * Fires on keydown before event processing\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  public beforeKeydownProcessing(event: KeyboardEvent): void {\n    /**\n     * Do not close Toolbox on Tabs or on Enter with opened Toolbox\n     */\n    if (!this.needToolbarClosing(event)) {\n      return;\n    }\n\n    /**\n     * When user type something:\n     *  - close Toolbar\n     *  - close Conversion Toolbar\n     *  - clear block highlighting\n     */\n    if (_.isPrintableKey(event.keyCode)) {\n      this.Editor.Toolbar.close();\n      this.Editor.ConversionToolbar.close();\n\n      /**\n       * Allow to use shortcuts with selected blocks\n       *\n       * @type {boolean}\n       */\n      const isShortcut = event.ctrlKey || event.metaKey || event.altKey || event.shiftKey;\n\n      if (!isShortcut) {\n        this.Editor.BlockManager.clearFocused();\n        this.Editor.BlockSelection.clearSelection(event);\n      }\n    }\n  }\n\n  /**\n   * Key up on Block:\n   * - shows Inline Toolbar if something selected\n   * - shows conversion toolbar with 85% of block selection\n   *\n   * @param {KeyboardEvent} event - keyup event\n   */\n  public keyup(event: KeyboardEvent): void {\n    /**\n     * If shift key was pressed some special shortcut is used (eg. cross block selection via shift + arrows)\n     */\n    if (event.shiftKey) {\n      return;\n    }\n\n    /**\n     * Check if editor is empty on each keyup and add special css class to wrapper\n     */\n    this.Editor.UI.checkEmptiness();\n  }\n\n  /**\n   * Open Toolbox to leaf Tools\n   *\n   * @param {KeyboardEvent} event - tab keydown event\n   */\n  public tabPressed(event: KeyboardEvent): void {\n    /**\n     * Clear blocks selection by tab\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n\n    const { BlockManager, InlineToolbar, ConversionToolbar } = this.Editor;\n    const currentBlock = BlockManager.currentBlock;\n\n    if (!currentBlock) {\n      return;\n    }\n\n    const isEmptyBlock = currentBlock.isEmpty;\n    const canOpenToolbox = currentBlock.tool.isDefault && isEmptyBlock;\n    const conversionToolbarOpened = !isEmptyBlock && ConversionToolbar.opened;\n    const inlineToolbarOpened = !isEmptyBlock && !SelectionUtils.isCollapsed && InlineToolbar.opened;\n    const canOpenBlockTunes = !conversionToolbarOpened && !inlineToolbarOpened;\n\n    /**\n     * For empty Blocks we show Plus button via Toolbox only for default Blocks\n     */\n    if (canOpenToolbox) {\n      this.activateToolbox();\n    } else if (canOpenBlockTunes) {\n      this.activateBlockSettings();\n    }\n  }\n\n  /**\n   * Add drop target styles\n   *\n   * @param {DragEvent} event - drag over event\n   */\n  public dragOver(event: DragEvent): void {\n    const block = this.Editor.BlockManager.getBlockByChildNode(event.target as Node);\n\n    block.dropTarget = true;\n  }\n\n  /**\n   * Remove drop target style\n   *\n   * @param {DragEvent} event - drag leave event\n   */\n  public dragLeave(event: DragEvent): void {\n    const block = this.Editor.BlockManager.getBlockByChildNode(event.target as Node);\n\n    block.dropTarget = false;\n  }\n\n  /**\n   * Copying selected blocks\n   * Before putting to the clipboard we sanitize all blocks and then copy to the clipboard\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  public handleCommandC(event: ClipboardEvent): void {\n    const { BlockSelection } = this.Editor;\n\n    if (!BlockSelection.anyBlockSelected) {\n      return;\n    }\n\n    // Copy Selected Blocks\n    BlockSelection.copySelectedBlocks(event);\n  }\n\n  /**\n   * Copy and Delete selected Blocks\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  public handleCommandX(event: ClipboardEvent): void {\n    const { BlockSelection, BlockManager, Caret } = this.Editor;\n\n    if (!BlockSelection.anyBlockSelected) {\n      return;\n    }\n\n    BlockSelection.copySelectedBlocks(event).then(() => {\n      const selectionPositionIndex = BlockManager.removeSelectedBlocks();\n\n      /**\n       * Insert default block in place of removed ones\n       */\n      const insertedBlock = BlockManager.insertDefaultBlockAtIndex(selectionPositionIndex, true);\n\n      Caret.setToBlock(insertedBlock, Caret.positions.START);\n\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n    });\n  }\n\n  /**\n   * ENTER pressed on block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  private enter(event: KeyboardEvent): void {\n    const { BlockManager, UI } = this.Editor;\n    const currentBlock = BlockManager.currentBlock;\n\n    /**\n     * Don't handle Enter keydowns when Tool sets enableLineBreaks to true.\n     * Uses for Tools like <code> where line breaks should be handled by default behaviour.\n     */\n    if (currentBlock.tool.isLineBreaksEnabled) {\n      return;\n    }\n\n    /**\n     * Opened Toolbars uses Flipper with own Enter handling\n     * Allow split block when no one button in Flipper is focused\n     */\n    if (UI.someToolbarOpened && UI.someFlipperButtonFocused) {\n      return;\n    }\n\n    /**\n     * Allow to create line breaks by Shift+Enter\n     */\n    if (event.shiftKey) {\n      return;\n    }\n\n    let newCurrent = this.Editor.BlockManager.currentBlock;\n\n    /**\n     * If enter has been pressed at the start of the text, just insert paragraph Block above\n     */\n    if (this.Editor.Caret.isAtStart && !this.Editor.BlockManager.currentBlock.hasMedia) {\n      this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex);\n\n    /**\n     * If caret is at very end of the block, just append the new block without splitting\n     * to prevent unnecessary dom mutation observing\n     */\n    } else if (this.Editor.Caret.isAtEnd) {\n      newCurrent = this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex + 1);\n    } else {\n      /**\n       * Split the Current Block into two blocks\n       * Renew local current node after split\n       */\n      newCurrent = this.Editor.BlockManager.split();\n    }\n\n    this.Editor.Caret.setToBlock(newCurrent);\n\n    /**\n     * Show Toolbar\n     */\n    this.Editor.Toolbar.moveAndOpen(newCurrent);\n\n    event.preventDefault();\n  }\n\n  /**\n   * Handle backspace keydown on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  private backspace(event: KeyboardEvent): void {\n    const { BlockManager, Caret } = this.Editor;\n    const { currentBlock, previousBlock } = BlockManager;\n\n    /**\n     * If some fragment is selected, leave native behaviour\n     */\n    if (!SelectionUtils.isCollapsed) {\n      return;\n    }\n\n    /**\n     * If caret is not at the start, leave native behaviour\n     */\n    if (!Caret.isAtStart) {\n      return;\n    }\n    /**\n     * All the cases below have custom behaviour, so we don't need a native one\n     */\n    event.preventDefault();\n    this.Editor.Toolbar.close();\n\n    const isFirstInputFocused = currentBlock.currentInput === currentBlock.firstInput;\n\n    /**\n     * For example, caret at the start of the Quote second input (caption)  just navigate previous input\n     */\n    if (!isFirstInputFocused) {\n      Caret.navigatePrevious();\n\n      return;\n    }\n\n    /**\n     * Backspace at the start of the first Block should do nothing\n     */\n    if (previousBlock === null) {\n      return;\n    }\n\n    /**\n     * If prev Block is empty, it should be removed just like a character\n     */\n    if (previousBlock.isEmpty) {\n      BlockManager.removeBlock(previousBlock);\n\n      return;\n    }\n\n    /**\n     * If current Block is empty, just remove it and set cursor to the previous Block (like we're removing line break char)\n     */\n    if (currentBlock.isEmpty) {\n      BlockManager.removeBlock(currentBlock);\n\n      const newCurrentBlock = BlockManager.currentBlock;\n\n      Caret.setToBlock(newCurrentBlock, Caret.positions.END);\n\n      return;\n    }\n\n    const bothBlocksMergeable = areBlocksMergeable(currentBlock, previousBlock);\n\n    /**\n     * If Blocks could be merged, do it\n     * Otherwise, just navigate previous block\n     */\n    if (bothBlocksMergeable) {\n      this.mergeBlocks(previousBlock, currentBlock);\n    } else {\n      Caret.setToBlock(previousBlock, Caret.positions.END);\n    }\n  }\n\n  /**\n   * Handles delete keydown on Block\n   * Removes char after the caret.\n   * If caret is at the end of the block, merge next block with current\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  private delete(event: KeyboardEvent): void {\n    const { BlockManager, Caret } = this.Editor;\n    const { currentBlock, nextBlock } = BlockManager;\n\n    /**\n     * If some fragment is selected, leave native behaviour\n     */\n    if (!SelectionUtils.isCollapsed) {\n      return;\n    }\n\n    /**\n     * If caret is not at the end, leave native behaviour\n     */\n    if (!Caret.isAtEnd) {\n      return;\n    }\n\n    /**\n     * All the cases below have custom behaviour, so we don't need a native one\n     */\n    event.preventDefault();\n    this.Editor.Toolbar.close();\n\n    const isLastInputFocused = currentBlock.currentInput === currentBlock.lastInput;\n\n    /**\n     * For example, caret at the end of the Quote first input (quote text)  just navigate next input (caption)\n     */\n    if (!isLastInputFocused) {\n      Caret.navigateNext();\n\n      return;\n    }\n\n    /**\n     * Delete at the end of the last Block should do nothing\n     */\n    if (nextBlock === null) {\n      return;\n    }\n\n    /**\n     * If next Block is empty, it should be removed just like a character\n     */\n    if (nextBlock.isEmpty) {\n      BlockManager.removeBlock(nextBlock);\n\n      return;\n    }\n\n    /**\n     * If current Block is empty, just remove it and set cursor to the next Block (like we're removing line break char)\n     */\n    if (currentBlock.isEmpty) {\n      BlockManager.removeBlock(currentBlock);\n\n      Caret.setToBlock(nextBlock, Caret.positions.START);\n\n      return;\n    }\n\n    const bothBlocksMergeable = areBlocksMergeable(currentBlock, nextBlock);\n\n    /**\n     * If Blocks could be merged, do it\n     * Otherwise, just navigate to the next block\n     */\n    if (bothBlocksMergeable) {\n      this.mergeBlocks(currentBlock, nextBlock);\n    } else {\n      Caret.setToBlock(nextBlock, Caret.positions.START);\n    }\n  }\n\n  /**\n   * Merge passed Blocks\n   *\n   * @param targetBlock - to which Block we want to merge\n   * @param blockToMerge - what Block we want to merge\n   */\n  private mergeBlocks(targetBlock: Block, blockToMerge: Block): void {\n    const { BlockManager, Caret, Toolbar } = this.Editor;\n\n    Caret.createShadow(targetBlock.pluginsContent);\n\n    BlockManager\n      .mergeBlocks(targetBlock, blockToMerge)\n      .then(() => {\n        window.requestAnimationFrame(() => {\n          /** Restore caret position after merge */\n          Caret.restoreCaret(targetBlock.pluginsContent as HTMLElement);\n          targetBlock.pluginsContent.normalize();\n          Toolbar.close();\n        });\n      });\n  }\n\n  /**\n   * Handle right and down keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private arrowRightAndDown(event: KeyboardEvent): void {\n    const isFlipperCombination = Flipper.usedKeys.includes(event.keyCode) &&\n      (!event.shiftKey || event.keyCode === _.keyCodes.TAB);\n\n    /**\n     * Arrows might be handled on toolbars by flipper\n     * Check for Flipper.usedKeys to allow navigate by DOWN and disallow by RIGHT\n     */\n    if (this.Editor.UI.someToolbarOpened && isFlipperCombination) {\n      return;\n    }\n\n    /**\n     * Close Toolbar and highlighting when user moves cursor\n     */\n    this.Editor.BlockManager.clearFocused();\n    this.Editor.Toolbar.close();\n\n    const shouldEnableCBS = this.Editor.Caret.isAtEnd || this.Editor.BlockSelection.anyBlockSelected;\n\n    if (event.shiftKey && event.keyCode === _.keyCodes.DOWN && shouldEnableCBS) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState();\n\n      return;\n    }\n\n    const navigateNext = event.keyCode === _.keyCodes.DOWN || (event.keyCode === _.keyCodes.RIGHT && !this.isRtl);\n    const isNavigated = navigateNext ? this.Editor.Caret.navigateNext() : this.Editor.Caret.navigatePrevious();\n\n    if (isNavigated) {\n      /**\n       * Default behaviour moves cursor by 1 character, we need to prevent it\n       */\n      event.preventDefault();\n    } else {\n      /**\n       * After caret is set, update Block input index\n       */\n      _.delay(() => {\n        /** Check currentBlock for case when user moves selection out of Editor */\n        if (this.Editor.BlockManager.currentBlock) {\n          this.Editor.BlockManager.currentBlock.updateCurrentInput();\n        }\n      // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n      }, 20)();\n    }\n\n    /**\n     * Clear blocks selection by arrows\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * Handle left and up keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private arrowLeftAndUp(event: KeyboardEvent): void {\n    /**\n     * Arrows might be handled on toolbars by flipper\n     * Check for Flipper.usedKeys to allow navigate by UP and disallow by LEFT\n     */\n    if (this.Editor.UI.someToolbarOpened) {\n      if (Flipper.usedKeys.includes(event.keyCode) && (!event.shiftKey || event.keyCode === _.keyCodes.TAB)) {\n        return;\n      }\n\n      this.Editor.UI.closeAllToolbars();\n    }\n\n    /**\n     * Close Toolbar and highlighting when user moves cursor\n     */\n    this.Editor.BlockManager.clearFocused();\n    this.Editor.Toolbar.close();\n\n    const shouldEnableCBS = this.Editor.Caret.isAtStart || this.Editor.BlockSelection.anyBlockSelected;\n\n    if (event.shiftKey && event.keyCode === _.keyCodes.UP && shouldEnableCBS) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState(false);\n\n      return;\n    }\n\n    const navigatePrevious = event.keyCode === _.keyCodes.UP || (event.keyCode === _.keyCodes.LEFT && !this.isRtl);\n    const isNavigated = navigatePrevious ? this.Editor.Caret.navigatePrevious() : this.Editor.Caret.navigateNext();\n\n    if (isNavigated) {\n      /**\n       * Default behaviour moves cursor by 1 character, we need to prevent it\n       */\n      event.preventDefault();\n    } else {\n      /**\n       * After caret is set, update Block input index\n       */\n      _.delay(() => {\n        /** Check currentBlock for case when user ends selection out of Editor and then press arrow-key */\n        if (this.Editor.BlockManager.currentBlock) {\n          this.Editor.BlockManager.currentBlock.updateCurrentInput();\n        }\n      // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n      }, 20)();\n    }\n\n    /**\n     * Clear blocks selection by arrows\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * Cases when we need to close Toolbar\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private needToolbarClosing(event: KeyboardEvent): boolean {\n    const toolboxItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.Toolbar.toolbox.opened),\n        blockSettingsItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.BlockSettings.opened),\n        inlineToolbarItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.InlineToolbar.opened),\n        conversionToolbarItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.ConversionToolbar.opened),\n        flippingToolbarItems = event.keyCode === _.keyCodes.TAB;\n\n    /**\n     * Do not close Toolbar in cases:\n     * 1. ShiftKey pressed (or combination with shiftKey)\n     * 2. When Toolbar is opened and Tab leafs its Tools\n     * 3. When Toolbar's component is opened and some its item selected\n     */\n    return !(event.shiftKey ||\n      flippingToolbarItems ||\n      toolboxItemSelected ||\n      blockSettingsItemSelected ||\n      inlineToolbarItemSelected ||\n      conversionToolbarItemSelected\n    );\n  }\n\n  /**\n   * If Toolbox is not open, then just open it and show plus button\n   */\n  private activateToolbox(): void {\n    if (!this.Editor.Toolbar.opened) {\n      this.Editor.Toolbar.moveAndOpen();\n    } // else Flipper will leaf through it\n\n    this.Editor.Toolbar.toolbox.open();\n  }\n\n  /**\n   * Open Toolbar and show BlockSettings before flipping Tools\n   */\n  private activateBlockSettings(): void {\n    if (!this.Editor.Toolbar.opened) {\n      this.Editor.BlockManager.currentBlock.focused = true;\n      this.Editor.Toolbar.moveAndOpen();\n    }\n\n    /**\n     * If BlockSettings is not open, then open BlockSettings\n     * Next Tab press will leaf Settings Buttons\n     */\n    if (!this.Editor.BlockSettings.opened) {\n      /**\n       * @todo Debug the case when we set caret to some block, hovering another block\n       *        wrong settings will be opened.\n       *       To fix it, we should refactor the Block Settings module  make it a standalone class, like the Toolbox\n       */\n      this.Editor.BlockSettings.open();\n    }\n  }\n}\n","/**\n * @class BlockManager\n * @classdesc Manage editor`s blocks storage and appearance\n * @module BlockManager\n * @version 2.0.0\n */\nimport Block, { BlockToolAPI } from \"../block\";\nimport Module from \"../__module\";\nimport $ from \"../dom\";\nimport * as _ from \"../utils\";\nimport Blocks from \"../blocks\";\nimport { BlockToolData, PasteEvent } from \"../../../types\";\nimport { BlockTuneData } from \"../../../types/block-tunes/block-tune-data\";\nimport BlockAPI from \"../block/api\";\nimport {\n  BlockMutationEventMap,\n  BlockMutationType,\n} from \"../../../types/events/block\";\nimport { BlockRemovedMutationType } from \"../../../types/events/block/BlockRemoved\";\nimport { BlockAddedMutationType } from \"../../../types/events/block/BlockAdded\";\nimport { BlockMovedMutationType } from \"../../../types/events/block/BlockMoved\";\nimport { BlockChangedMutationType } from \"../../../types/events/block/BlockChanged\";\nimport { BlockChanged } from \"../events\";\nimport { clean } from \"../utils/sanitizer\";\nimport { convertStringToBlockData } from \"../utils/blocks\";\nimport PromiseQueue from \"../utils/promise-queue\";\n\n/**\n * @typedef {BlockManager} BlockManager\n * @property {number} currentBlockIndex - Index of current working block\n * @property {Proxy} _blocks - Proxy for Blocks instance {@link Blocks}\n */\nexport default class BlockManager extends Module {\n  /**\n   * Returns current Block index\n   *\n   * @returns {number}\n   */\n  public get currentBlockIndex(): number {\n    return this._currentBlockIndex;\n  }\n\n  /**\n   * Set current Block index and fire Block lifecycle callbacks\n   *\n   * @param {number} newIndex - index of Block to set as current\n   */\n  public set currentBlockIndex(newIndex: number) {\n    this._currentBlockIndex = newIndex;\n  }\n\n  /**\n   * returns first Block\n   *\n   * @returns {Block}\n   */\n  public get firstBlock(): Block {\n    return this._blocks[0];\n  }\n\n  /**\n   * returns last Block\n   *\n   * @returns {Block}\n   */\n  public get lastBlock(): Block {\n    return this._blocks[this._blocks.length - 1];\n  }\n\n  /**\n   * Get current Block instance\n   *\n   * @returns {Block}\n   */\n  public get currentBlock(): Block {\n    return this._blocks[this.currentBlockIndex];\n  }\n\n  /**\n   * Set passed Block as a current\n   *\n   * @param block - block to set as a current\n   */\n  public set currentBlock(block: Block) {\n    this.currentBlockIndex = this.getBlockIndex(block);\n  }\n\n  /**\n   * Returns next Block instance\n   *\n   * @returns {Block|null}\n   */\n  public get nextBlock(): Block | null {\n    const isLastBlock = this.currentBlockIndex === this._blocks.length - 1;\n\n    if (isLastBlock) {\n      return null;\n    }\n\n    return this._blocks[this.currentBlockIndex + 1];\n  }\n\n  /**\n   * Return first Block with inputs after current Block\n   *\n   * @returns {Block | undefined}\n   */\n  public get nextContentfulBlock(): Block {\n    const nextBlocks = this.blocks.slice(this.currentBlockIndex + 1);\n\n    return nextBlocks.find((block) => !!block.inputs.length);\n  }\n\n  /**\n   * Return first Block with inputs before current Block\n   *\n   * @returns {Block | undefined}\n   */\n  public get previousContentfulBlock(): Block {\n    const previousBlocks = this.blocks\n      .slice(0, this.currentBlockIndex)\n      .reverse();\n\n    return previousBlocks.find((block) => !!block.inputs.length);\n  }\n\n  /**\n   * Returns previous Block instance\n   *\n   * @returns {Block|null}\n   */\n  public get previousBlock(): Block | null {\n    const isFirstBlock = this.currentBlockIndex === 0;\n\n    if (isFirstBlock) {\n      return null;\n    }\n\n    return this._blocks[this.currentBlockIndex - 1];\n  }\n\n  /**\n   * Get array of Block instances\n   *\n   * @returns {Block[]} {@link Blocks#array}\n   */\n  public get blocks(): Block[] {\n    return this._blocks.array;\n  }\n\n  /**\n   * Check if each Block is empty\n   *\n   * @returns {boolean}\n   */\n  public get isEditorEmpty(): boolean {\n    return this.blocks.every((block) => block.isEmpty);\n  }\n\n  /**\n   * Index of current working block\n   *\n   * @type {number}\n   */\n  private _currentBlockIndex = -1;\n\n  /**\n   * Proxy for Blocks instance {@link Blocks}\n   *\n   * @type {Proxy}\n   * @private\n   */\n  private _blocks: Blocks = null;\n\n  /**\n   * Should be called after Editor.UI preparation\n   * Define this._blocks property\n   */\n  public prepare(): void {\n    const blocks = new Blocks(this.Editor.UI.nodes.redactor);\n\n    /**\n     * We need to use Proxy to overload set/get [] operator.\n     * So we can use array-like syntax to access blocks\n     *\n     * @example\n     * this._blocks[0] = new Block(...);\n     *\n     * block = this._blocks[0];\n     * @todo proxy the enumerate method\n     * @type {Proxy}\n     * @private\n     */\n    this._blocks = new Proxy(blocks, {\n      set: Blocks.set,\n      get: Blocks.get,\n    });\n\n    /** Copy event */\n    this.listeners.on(document, \"copy\", (e: ClipboardEvent) =>\n      this.Editor.BlockEvents.handleCommandC(e)\n    );\n  }\n\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - Unbind event handlers from created Blocks\n   *\n   * if readOnly is false:\n   *  - Bind event handlers to all existing Blocks\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.enableModuleBindings();\n    } else {\n      this.disableModuleBindings();\n    }\n  }\n\n  /**\n   * Creates Block instance by tool name\n   *\n   * @param {object} options - block creation options\n   * @param {string} options.tool - tools passed in editor config {@link EditorConfig#tools}\n   * @param {string} [options.id] - unique id for this block\n   * @param {BlockToolData} [options.data] - constructor params\n   * @returns {Block}\n   */\n  public composeBlock({\n    tool: name,\n    data = {},\n    id = undefined,\n    tunes: tunesData = {},\n  }: {\n    tool: string;\n    id?: string;\n    data?: BlockToolData;\n    tunes?: { [name: string]: BlockTuneData };\n  }): Block {\n    const readOnly = this.Editor.ReadOnly.isEnabled;\n    const tool = this.Editor.Tools.blockTools.get(name);\n    const block = new Block(\n      {\n        id,\n        data,\n        tool,\n        api: this.Editor.API,\n        readOnly,\n        tunesData,\n      },\n      this.eventsDispatcher\n    );\n\n    if (!readOnly) {\n      window.requestIdleCallback(\n        () => {\n          this.bindBlockEvents(block);\n        },\n        { timeout: 2000 }\n      );\n    }\n\n    return block;\n  }\n\n  /**\n   * Insert new block into _blocks\n   *\n   * @param {object} options - insert options\n   * @param {string} [options.id] - block's unique id\n   * @param {string} [options.tool] - plugin name, by default method inserts the default block type\n   * @param {object} [options.data] - plugin data\n   * @param {number} [options.index] - index where to insert new Block\n   * @param {boolean} [options.needToFocus] - flag shows if needed to update current Block index\n   * @param {boolean} [options.replace] - flag shows if block by passed index should be replaced with inserted one\n   * @returns {Block}\n   */\n  public insert({\n    id = undefined,\n    tool = this.config.defaultBlock,\n    data = {},\n    index,\n    needToFocus = true,\n    replace = false,\n    tunes = {},\n  }: {\n    id?: string;\n    tool?: string;\n    data?: BlockToolData;\n    index?: number;\n    needToFocus?: boolean;\n    replace?: boolean;\n    tunes?: { [name: string]: BlockTuneData };\n  } = {}): Block {\n    let newIndex = index;\n\n    if (newIndex === undefined) {\n      newIndex = this.currentBlockIndex + (replace ? 0 : 1);\n    }\n\n    const block = this.composeBlock({\n      id,\n      tool,\n      data,\n      tunes,\n    });\n\n    /**\n     * In case of block replacing (Converting OR from Toolbox or Shortcut on empty block OR on-paste to empty block)\n     * we need to dispatch the 'block-removing' event for the replacing block\n     */\n    if (replace) {\n      this.blockDidMutated(\n        BlockRemovedMutationType,\n        this.getBlockByIndex(newIndex),\n        {\n          index: newIndex,\n        }\n      );\n    }\n\n    this._blocks.insert(newIndex, block, replace);\n\n    /**\n     * Force call of didMutated event on Block insertion\n     */\n    this.blockDidMutated(BlockAddedMutationType, block, {\n      index: newIndex,\n    });\n\n    if (needToFocus) {\n      this.currentBlockIndex = newIndex;\n    } else if (newIndex <= this.currentBlockIndex) {\n      this.currentBlockIndex++;\n    }\n\n    return block;\n  }\n\n  /**\n   * Inserts several blocks at once\n   *\n   * @param blocks - blocks to insert\n   * @param index - index where to insert\n   */\n  public insertMany(blocks: Block[], index = 0): void {\n    this._blocks.insertMany(blocks, index);\n  }\n\n  /**\n   * Update Block data.\n   *\n   * Currently we don't have an 'update' method in the Tools API, so we just create a new block with the same id and type\n   * Should not trigger 'block-removed' or 'block-added' events\n   *\n   * @param block - block to update\n   * @param data - new data\n   */\n  public async update(\n    block: Block,\n    data: Partial<BlockToolData>\n  ): Promise<Block> {\n    const existingData = await block.data;\n\n    const newBlock = this.composeBlock({\n      id: block.id,\n      tool: block.name,\n      data: Object.assign({}, existingData, data),\n      tunes: block.tunes,\n    });\n\n    const blockIndex = this.getBlockIndex(block);\n\n    this._blocks.replace(blockIndex, newBlock);\n\n    this.blockDidMutated(BlockChangedMutationType, newBlock, {\n      index: blockIndex,\n    });\n\n    return newBlock;\n  }\n\n  /**\n   * Replace passed Block with the new one with specified Tool and data\n   *\n   * @param block - block to replace\n   * @param newTool - new Tool name\n   * @param data - new Tool data\n   */\n  public replace(block: Block, newTool: string, data: BlockToolData): void {\n    const blockIndex = this.getBlockIndex(block);\n\n    this.insert({\n      tool: newTool,\n      data,\n      index: blockIndex,\n      replace: true,\n    });\n  }\n\n  /**\n   * Insert pasted content. Call onPaste callback after insert.\n   *\n   * @param {string} toolName - name of Tool to insert\n   * @param {PasteEvent} pasteEvent - pasted data\n   * @param {boolean} replace - should replace current block\n   */\n  public paste(\n    toolName: string,\n    pasteEvent: PasteEvent,\n    replace = false\n  ): Block {\n    const block = this.insert({\n      tool: toolName,\n      replace,\n    });\n\n    try {\n      block.call(BlockToolAPI.ON_PASTE, pasteEvent);\n    } catch (e) {\n      _.log(`${toolName}: onPaste callback call is failed`, \"error\", e);\n    }\n\n    return block;\n  }\n\n  /**\n   * Insert new default block at passed index\n   *\n   * @param {number} index - index where Block should be inserted\n   * @param {boolean} needToFocus - if true, updates current Block index\n   *\n   * TODO: Remove method and use insert() with index instead (?)\n   * @returns {Block} inserted Block\n   */\n  public insertDefaultBlockAtIndex(index: number, needToFocus = false): Block {\n    const block = this.composeBlock({ tool: this.config.defaultBlock });\n\n    this._blocks[index] = block;\n\n    /**\n     * Force call of didMutated event on Block insertion\n     */\n    this.blockDidMutated(BlockAddedMutationType, block, {\n      index,\n    });\n\n    if (needToFocus) {\n      this.currentBlockIndex = index;\n    } else if (index <= this.currentBlockIndex) {\n      this.currentBlockIndex++;\n    }\n\n    return block;\n  }\n\n  /**\n   * Always inserts at the end\n   *\n   * @returns {Block}\n   */\n  public insertAtEnd(): Block {\n    /**\n     * Define new value for current block index\n     */\n    this.currentBlockIndex = this.blocks.length - 1;\n\n    /**\n     * Insert the default typed block\n     */\n    return this.insert();\n  }\n\n  /**\n   * Merge two blocks\n   *\n   * @param {Block} targetBlock - previous block will be append to this block\n   * @param {Block} blockToMerge - block that will be merged with target block\n   * @returns {Promise} - the sequence that can be continued\n   */\n  public async mergeBlocks(\n    targetBlock: Block,\n    blockToMerge: Block\n  ): Promise<void> {\n    const blockToMergeData = await blockToMerge.data;\n\n    if (!_.isEmpty(blockToMergeData)) {\n      await targetBlock.mergeWith(blockToMergeData);\n    }\n\n    this.removeBlock(blockToMerge);\n    this.currentBlockIndex = this._blocks.indexOf(targetBlock);\n  }\n\n  /**\n   * Remove passed Block\n   *\n   * @param block - Block to remove\n   * @param addLastBlock - if true, adds new default block at the end. @todo remove this logic and use event-bus instead\n   */\n  public removeBlock(block: Block, addLastBlock = true): Promise<void> {\n    return new Promise((resolve) => {\n      const index = this._blocks.indexOf(block);\n\n      /**\n       * If index is not passed and there is no block selected, show a warning\n       */\n      if (!this.validateIndex(index)) {\n        throw new Error(\"Can't find a Block to remove\");\n      }\n\n      block.destroy();\n      this._blocks.remove(index);\n\n      /**\n       * Force call of didMutated event on Block removal\n       */\n      this.blockDidMutated(BlockRemovedMutationType, block, {\n        index,\n      });\n\n      if (this.currentBlockIndex >= index) {\n        this.currentBlockIndex--;\n      }\n\n      /**\n       * If first Block was removed, insert new Initial Block and set focus on it`s first input\n       */\n      if (!this.blocks.length) {\n        this.currentBlockIndex = -1;\n\n        if (addLastBlock) {\n          this.insert();\n        }\n      } else if (index === 0) {\n        this.currentBlockIndex = 0;\n      }\n\n      resolve();\n    });\n  }\n\n  /**\n   * Remove only selected Blocks\n   * and returns first Block index where started removing...\n   *\n   * @returns {number|undefined}\n   */\n  public removeSelectedBlocks(): number | undefined {\n    let firstSelectedBlockIndex;\n\n    /**\n     * Remove selected Blocks from the end\n     */\n    for (let index = this.blocks.length - 1; index >= 0; index--) {\n      if (!this.blocks[index].selected) {\n        continue;\n      }\n\n      this.removeBlock(this.blocks[index]);\n      firstSelectedBlockIndex = index;\n    }\n\n    return firstSelectedBlockIndex;\n  }\n\n  /**\n   * Attention!\n   * After removing insert the new default typed Block and focus on it\n   * Removes all blocks\n   */\n  public removeAllBlocks(): void {\n    for (let index = this.blocks.length - 1; index >= 0; index--) {\n      this._blocks.remove(index);\n    }\n\n    this.currentBlockIndex = -1;\n    this.insert();\n    this.currentBlock.firstInput.focus();\n  }\n\n  /**\n   * Split current Block\n   * 1. Extract content from Caret position to the Block`s end\n   * 2. Insert a new Block below current one with extracted content\n   *\n   * @returns {Block}\n   */\n  public split(): Block {\n    const extractedFragment =\n      this.Editor.Caret.extractFragmentFromCaretPosition();\n    const wrapper = $.make(\"div\");\n\n    if (extractedFragment) {\n      wrapper.appendChild(extractedFragment as DocumentFragment);\n    }\n\n    /**\n     * @todo make object in accordance with Tool\n     */\n    const data = {\n      text: $.isEmpty(wrapper) ? \"\" : wrapper.innerHTML,\n    };\n\n    /**\n     * Renew current Block\n     *\n     * @type {Block}\n     */\n    return this.insert({ data });\n  }\n\n  /**\n   * Returns Block by passed index\n   *\n   * @param {number} index - index to get. -1 to get last\n   * @returns {Block}\n   */\n  public getBlockByIndex(index): Block {\n    if (index === -1) {\n      index = this._blocks.length - 1;\n    }\n\n    return this._blocks[index];\n  }\n\n  /**\n   * Returns an index for passed Block\n   *\n   * @param block - block to find index\n   */\n  public getBlockIndex(block: Block): number {\n    return this._blocks.indexOf(block);\n  }\n\n  /**\n   * Returns the Block by passed id\n   *\n   * @param id - id of block to get\n   * @returns {Block}\n   */\n  public getBlockById(id): Block | undefined {\n    return this._blocks.array.find((block) => block.id === id);\n  }\n\n  /**\n   * Get Block instance by html element\n   *\n   * @param {Node} element - html element to get Block by\n   */\n  public getBlock(element: HTMLElement): Block {\n    if (!$.isElement(element) as boolean) {\n      element = element.parentNode as HTMLElement;\n    }\n\n    const nodes = this._blocks.nodes,\n      firstLevelBlock = element.closest(`.${Block.CSS.wrapper}`),\n      index = nodes.indexOf(firstLevelBlock as HTMLElement);\n\n    if (index >= 0) {\n      return this._blocks[index];\n    }\n  }\n\n  /**\n   * Remove selection from all Blocks then highlight only Current Block\n   */\n  public highlightCurrentNode(): void {\n    /**\n     * Remove previous selected Block's state\n     */\n    this.clearFocused();\n\n    /**\n     * Mark current Block as selected\n     *\n     * @type {boolean}\n     */\n    this.currentBlock.focused = true;\n  }\n\n  /**\n   * Remove selection from all Blocks\n   */\n  public clearFocused(): void {\n    this.blocks.forEach((block) => {\n      block.focused = false;\n    });\n  }\n\n  /**\n   * 1) Find first-level Block from passed child Node\n   * 2) Mark it as current\n   *\n   * @param {Node} childNode - look ahead from this node.\n   * @returns {Block | undefined} can return undefined in case when the passed child note is not a part of the current editor instance\n   */\n  public setCurrentBlockByChildNode(childNode: Node): Block | undefined {\n    /**\n     * If node is Text TextNode\n     */\n    if (!$.isElement(childNode)) {\n      childNode = childNode.parentNode;\n    }\n\n    const parentFirstLevelBlock = (childNode as HTMLElement).closest(\n      `.${Block.CSS.wrapper}`\n    );\n\n    if (!parentFirstLevelBlock) {\n      return;\n    }\n\n    /**\n     * Support multiple Editor.js instances,\n     * by checking whether the found block belongs to the current instance\n     *\n     * @see {@link Ui#documentTouched}\n     */\n    const editorWrapper = parentFirstLevelBlock.closest(\n      `.${this.Editor.UI.CSS.editorWrapper}`\n    );\n    const isBlockBelongsToCurrentInstance = editorWrapper?.isEqualNode(\n      this.Editor.UI.nodes.wrapper\n    );\n\n    if (!isBlockBelongsToCurrentInstance) {\n      return;\n    }\n\n    /**\n     * Update current Block's index\n     *\n     * @type {number}\n     */\n    this.currentBlockIndex = this._blocks.nodes.indexOf(\n      parentFirstLevelBlock as HTMLElement\n    );\n\n    /**\n     * Update current block active input\n     */\n    this.currentBlock.updateCurrentInput();\n\n    return this.currentBlock;\n  }\n\n  /**\n   * Return block which contents passed node\n   *\n   * @param {Node} childNode - node to get Block by\n   * @returns {Block}\n   */\n  public getBlockByChildNode(childNode: Node): Block {\n    /**\n     * If node is Text TextNode\n     */\n    if (!$.isElement(childNode)) {\n      childNode = childNode.parentNode;\n    }\n\n    const firstLevelBlock = (childNode as HTMLElement).closest(\n      `.${Block.CSS.wrapper}`\n    );\n\n    return this.blocks.find((block) => block.holder === firstLevelBlock);\n  }\n\n  /**\n   * Swap Blocks Position\n   *\n   * @param {number} fromIndex - index of first block\n   * @param {number} toIndex - index of second block\n   * @deprecated  use 'move' instead\n   */\n  public swap(fromIndex, toIndex): void {\n    /** Move up current Block */\n    this._blocks.swap(fromIndex, toIndex);\n\n    /** Now actual block moved up so that current block index decreased */\n    this.currentBlockIndex = toIndex;\n  }\n\n  /**\n   * Move a block to a new index\n   *\n   * @param {number} toIndex - index where to move Block\n   * @param {number} fromIndex - index of Block to move\n   */\n  public move(toIndex, fromIndex = this.currentBlockIndex): void {\n    // make sure indexes are valid and within a valid range\n    if (isNaN(toIndex) || isNaN(fromIndex)) {\n      _.log(`Warning during 'move' call: incorrect indices provided.`, \"warn\");\n\n      return;\n    }\n\n    if (!this.validateIndex(toIndex) || !this.validateIndex(fromIndex)) {\n      _.log(\n        `Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.`,\n        \"warn\"\n      );\n\n      return;\n    }\n\n    /** Move up current Block */\n    this._blocks.move(toIndex, fromIndex);\n\n    /** Now actual block moved so that current block index changed */\n    this.currentBlockIndex = toIndex;\n\n    /**\n     * Force call of didMutated event on Block movement\n     */\n    this.blockDidMutated(BlockMovedMutationType, this.currentBlock, {\n      fromIndex,\n      toIndex,\n    });\n  }\n\n  /**\n   * Converts passed Block to the new Tool\n   * Uses Conversion Config\n   *\n   * @param blockToConvert - Block that should be converted\n   * @param targetToolName - name of the Tool to convert to\n   * @param blockDataOverrides - optional new Block data overrides\n   */\n  public async convert(\n    blockToConvert: Block,\n    targetToolName: string,\n    blockDataOverrides?: BlockToolData\n  ): Promise<void> {\n    /**\n     * At first, we get current Block data\n     */\n    const savedBlock = await blockToConvert.save();\n\n    if (!savedBlock) {\n      throw new Error(\n        \"Could not convert Block. Failed to extract original Block data.\"\n      );\n    }\n\n    /**\n     * Getting a class of the replacing Tool\n     */\n    const replacingTool = this.Editor.Tools.blockTools.get(targetToolName);\n\n    if (!replacingTool) {\n      throw new Error(\n        `Could not convert Block. Tool ${targetToolName} not found.`\n      );\n    }\n\n    /**\n     * Using Conversion Config \"export\" we get a stringified version of the Block data\n     */\n    const exportedData = await blockToConvert.exportDataAsString();\n\n    /**\n     * Clean exported data with replacing sanitizer config\n     */\n    const cleanData: string = clean(exportedData, replacingTool.sanitizeConfig);\n\n    /**\n     * Now using Conversion Config \"import\" we compose a new Block data\n     */\n    let newBlockData = convertStringToBlockData(\n      cleanData,\n      replacingTool.conversionConfig\n    );\n\n    /**\n     * Optional data overrides.\n     * Used for example, by the Multiple Toolbox Items feature, where a single Tool provides several Toolbox items with \"data\" overrides\n     */\n    if (blockDataOverrides) {\n      newBlockData = Object.assign(newBlockData, blockDataOverrides);\n    }\n\n    this.replace(blockToConvert, replacingTool.name, newBlockData);\n  }\n\n  /**\n   * Sets current Block Index -1 which means unknown\n   * and clear highlights\n   */\n  public dropPointer(): void {\n    this.currentBlockIndex = -1;\n    this.clearFocused();\n  }\n\n  /**\n   * Clears Editor\n   *\n   * @param {boolean} needToAddDefaultBlock - 1) in internal calls (for example, in api.blocks.render)\n   *                                             we don't need to add an empty default block\n   *                                        2) in api.blocks.clear we should add empty block\n   */\n  public async clear(needToAddDefaultBlock = false): Promise<void> {\n    const queue = new PromiseQueue();\n\n    this.blocks.forEach((block) => {\n      queue.add(async () => {\n        await this.removeBlock(block, false);\n      });\n    });\n\n    await queue.completed;\n\n    this.dropPointer();\n\n    if (needToAddDefaultBlock) {\n      this.insert();\n    }\n\n    /**\n     * Add empty modifier\n     */\n    this.Editor.UI.checkEmptiness();\n  }\n\n  /**\n   * Cleans up all the block tools' resources\n   * This is called when editor is destroyed\n   */\n  public async destroy(): Promise<void> {\n    await Promise.all(\n      this.blocks.map((block) => {\n        return block.destroy();\n      })\n    );\n  }\n\n  /**\n   * Bind Block events\n   *\n   * @param {Block} block - Block to which event should be bound\n   */\n  private bindBlockEvents(block: Block): void {\n    const { BlockEvents } = this.Editor;\n\n    this.readOnlyMutableListeners.on(\n      block.holder,\n      \"keydown\",\n      (event: KeyboardEvent) => {\n        BlockEvents.keydown(event);\n      }\n    );\n\n    this.readOnlyMutableListeners.on(\n      block.holder,\n      \"keyup\",\n      (event: KeyboardEvent) => {\n        BlockEvents.keyup(event);\n      }\n    );\n\n    this.readOnlyMutableListeners.on(\n      block.holder,\n      \"dragover\",\n      (event: DragEvent) => {\n        BlockEvents.dragOver(event);\n      }\n    );\n\n    this.readOnlyMutableListeners.on(\n      block.holder,\n      \"dragleave\",\n      (event: DragEvent) => {\n        BlockEvents.dragLeave(event);\n      }\n    );\n\n    block.on(\"didMutated\", (affectedBlock: Block) => {\n      return this.blockDidMutated(BlockChangedMutationType, affectedBlock, {\n        index: this.getBlockIndex(affectedBlock),\n      });\n    });\n  }\n\n  /**\n   * Disable mutable handlers and bindings\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Enables all module handlers and bindings for all Blocks\n   */\n  private enableModuleBindings(): void {\n    /** Cut event */\n    this.readOnlyMutableListeners.on(document, \"cut\", (e: ClipboardEvent) =>\n      this.Editor.BlockEvents.handleCommandX(e)\n    );\n\n    this.blocks.forEach((block: Block) => {\n      this.bindBlockEvents(block);\n    });\n  }\n\n  /**\n   * Validates that the given index is not lower than 0 or higher than the amount of blocks\n   *\n   * @param {number} index - index of blocks array to validate\n   * @returns {boolean}\n   */\n  private validateIndex(index: number): boolean {\n    return !(index < 0 || index >= this._blocks.length);\n  }\n\n  /**\n   * Block mutation callback\n   *\n   * @param mutationType - what happened with block\n   * @param block - mutated block\n   * @param detailData - additional data to pass with change event\n   */\n  private blockDidMutated<Type extends BlockMutationType>(\n    mutationType: Type,\n    block: Block,\n    detailData: BlockMutationEventDetailWithoutTarget<Type>\n  ): Block {\n    const event = new CustomEvent(mutationType, {\n      detail: {\n        target: new BlockAPI(block),\n        ...(detailData as BlockMutationEventDetailWithoutTarget<Type>),\n      },\n    });\n\n    this.eventsDispatcher.emit(BlockChanged, {\n      event: event as BlockMutationEventMap[Type],\n    });\n\n    return block;\n  }\n}\n\n/**\n * Type alias for Block Mutation event without 'target' field, used in 'blockDidMutated' method\n */\ntype BlockMutationEventDetailWithoutTarget<Type extends BlockMutationType> =\n  Omit<BlockMutationEventMap[Type][\"detail\"], \"target\">;\n","/**\n * @class BlockSelection\n * @classdesc Manages Block selection with shortcut CMD+A\n * @module BlockSelection\n * @version 1.0.0\n */\nimport Module from '../__module';\nimport Block from '../block';\nimport * as _ from '../utils';\nimport $ from '../dom';\nimport Shortcuts from '../utils/shortcuts';\n\nimport SelectionUtils from '../selection';\nimport { SanitizerConfig } from '../../../types/configs';\nimport { clean } from '../utils/sanitizer';\n\n/**\n *\n */\nexport default class BlockSelection extends Module {\n  /**\n   * Sometimes .anyBlockSelected can be called frequently,\n   * for example at ui@selectionChange (to clear native browser selection in CBS)\n   * We use cache to prevent multiple iterations through all the blocks\n   *\n   * @private\n   */\n  private anyBlockSelectedCache: boolean | null = null;\n\n  /**\n   * Sanitizer Config\n   *\n   * @returns {SanitizerConfig}\n   */\n  private get sanitizerConfig(): SanitizerConfig {\n    return {\n      p: {},\n      h1: {},\n      h2: {},\n      h3: {},\n      h4: {},\n      h5: {},\n      h6: {},\n      ol: {},\n      ul: {},\n      li: {},\n      br: true,\n      img: {\n        src: true,\n        width: true,\n        height: true,\n      },\n      a: {\n        href: true,\n      },\n      b: {},\n      i: {},\n      u: {},\n    };\n  }\n\n  /**\n   * Flag that identifies all Blocks selection\n   *\n   * @returns {boolean}\n   */\n  public get allBlocksSelected(): boolean {\n    const { BlockManager } = this.Editor;\n\n    return BlockManager.blocks.every((block) => block.selected === true);\n  }\n\n  /**\n   * Set selected all blocks\n   *\n   * @param {boolean} state - state to set\n   */\n  public set allBlocksSelected(state: boolean) {\n    const { BlockManager } = this.Editor;\n\n    BlockManager.blocks.forEach((block) => {\n      block.selected = state;\n    });\n\n    this.clearCache();\n  }\n\n  /**\n   * Flag that identifies any Block selection\n   *\n   * @returns {boolean}\n   */\n  public get anyBlockSelected(): boolean {\n    const { BlockManager } = this.Editor;\n\n    if (this.anyBlockSelectedCache === null) {\n      this.anyBlockSelectedCache = BlockManager.blocks.some((block) => block.selected === true);\n    }\n\n    return this.anyBlockSelectedCache;\n  }\n\n  /**\n   * Return selected Blocks array\n   *\n   * @returns {Block[]}\n   */\n  public get selectedBlocks(): Block[] {\n    return this.Editor.BlockManager.blocks.filter((block: Block) => block.selected);\n  }\n\n  /**\n   * Flag used to define block selection\n   * First CMD+A defines it as true and then second CMD+A selects all Blocks\n   *\n   * @type {boolean}\n   */\n  private needToSelectAll = false;\n\n  /**\n   * Flag used to define native input selection\n   * In this case we allow double CMD+A to select Block\n   *\n   * @type {boolean}\n   */\n  private nativeInputSelected = false;\n\n  /**\n   * Flag identifies any input selection\n   * That means we can select whole Block\n   *\n   * @type {boolean}\n   */\n  private readyToBlockSelection = false;\n\n  /**\n   * SelectionUtils instance\n   *\n   * @type {SelectionUtils}\n   */\n  private selection: SelectionUtils;\n\n  /**\n   * Module Preparation\n   * Registers Shortcuts CMD+A and CMD+C\n   * to select all and copy them\n   */\n  public prepare(): void {\n    this.selection = new SelectionUtils();\n\n    /**\n     * CMD/CTRL+A selection shortcut\n     */\n    Shortcuts.add({\n      name: 'CMD+A',\n      handler: (event) => {\n        const { BlockManager, ReadOnly } = this.Editor;\n\n        /**\n         * We use Editor's Block selection on CMD+A ShortCut instead of Browsers\n         */\n        if (ReadOnly.isEnabled) {\n          event.preventDefault();\n          this.selectAllBlocks();\n\n          return;\n        }\n\n        /**\n         * When one page consist of two or more EditorJS instances\n         * Shortcut module tries to handle all events.\n         * Thats why Editor's selection works inside the target Editor, but\n         * for others error occurs because nothing to select.\n         *\n         * Prevent such actions if focus is not inside the Editor\n         */\n        if (!BlockManager.currentBlock) {\n          return;\n        }\n\n        this.handleCommandA(event);\n      },\n      on: this.Editor.UI.nodes.redactor,\n    });\n  }\n\n  /**\n   * Toggle read-only state\n   *\n   *  - Remove all ranges\n   *  - Unselect all Blocks\n   */\n  public toggleReadOnly(): void {\n    SelectionUtils.get()\n      .removeAllRanges();\n\n    this.allBlocksSelected = false;\n  }\n\n  /**\n   * Remove selection of Block\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  public unSelectBlockByIndex(index?): void {\n    const { BlockManager } = this.Editor;\n\n    let block;\n\n    if (isNaN(index)) {\n      block = BlockManager.currentBlock;\n    } else {\n      block = BlockManager.getBlockByIndex(index);\n    }\n\n    block.selected = false;\n\n    this.clearCache();\n  }\n\n  /**\n   * Clear selection from Blocks\n   *\n   * @param {Event} reason - event caused clear of selection\n   * @param {boolean} restoreSelection - if true, restore saved selection\n   */\n  public clearSelection(reason?: Event, restoreSelection = false): void {\n    const { BlockManager, Caret, RectangleSelection } = this.Editor;\n\n    this.needToSelectAll = false;\n    this.nativeInputSelected = false;\n    this.readyToBlockSelection = false;\n\n    const isKeyboard = reason && (reason instanceof KeyboardEvent);\n    const isPrintableKey = isKeyboard && _.isPrintableKey((reason as KeyboardEvent).keyCode);\n\n    /**\n     * If reason caused clear of the selection was printable key and any block is selected,\n     * remove selected blocks and insert pressed key\n     */\n    if (this.anyBlockSelected && isKeyboard && isPrintableKey && !SelectionUtils.isSelectionExists) {\n      const indexToInsert = BlockManager.removeSelectedBlocks();\n\n      BlockManager.insertDefaultBlockAtIndex(indexToInsert, true);\n      Caret.setToBlock(BlockManager.currentBlock);\n      _.delay(() => {\n        const eventKey = (reason as KeyboardEvent).key;\n\n        /**\n         * If event.key length >1 that means key is special (e.g. Enter or Dead or Unidentified).\n         * So we use empty string\n         *\n         * @see https://developer.mozilla.org/ru/docs/Web/API/KeyboardEvent/key\n         */\n        Caret.insertContentAtCaretPosition(eventKey.length > 1 ? '' : eventKey);\n      // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n      }, 20)();\n    }\n\n    this.Editor.CrossBlockSelection.clear(reason);\n\n    if (!this.anyBlockSelected || RectangleSelection.isRectActivated()) {\n      this.Editor.RectangleSelection.clearSelection();\n\n      return;\n    }\n\n    /**\n     * Restore selection when Block is already selected\n     * but someone tries to write something.\n     */\n    if (restoreSelection) {\n      this.selection.restore();\n    }\n\n    /** Now all blocks cleared */\n    this.allBlocksSelected = false;\n  }\n\n  /**\n   * Reduce each Block and copy its content\n   *\n   * @param {ClipboardEvent} e - copy/cut event\n   * @returns {Promise<void>}\n   */\n  public copySelectedBlocks(e: ClipboardEvent): Promise<void> {\n    /**\n     * Prevent default copy\n     */\n    e.preventDefault();\n\n    const fakeClipboard = $.make('div');\n\n    this.selectedBlocks.forEach((block) => {\n      /**\n       * Make <p> tag that holds clean HTML\n       */\n      const cleanHTML = clean(block.holder.innerHTML, this.sanitizerConfig);\n      const fragment = $.make('p');\n\n      fragment.innerHTML = cleanHTML;\n      fakeClipboard.appendChild(fragment);\n    });\n\n    const textPlain = Array.from(fakeClipboard.childNodes).map((node) => node.textContent)\n      .join('\\n\\n');\n    const textHTML = fakeClipboard.innerHTML;\n\n    e.clipboardData.setData('text/plain', textPlain);\n    e.clipboardData.setData('text/html', textHTML);\n\n    return Promise\n      .all(this.selectedBlocks.map((block) => block.save()))\n      .then(savedData => {\n        try {\n          e.clipboardData.setData(this.Editor.Paste.MIME_TYPE, JSON.stringify(savedData));\n        } catch (err) {\n          // In Firefox we can't set data in async function\n        }\n      });\n  }\n\n  /**\n   * select Block\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  public selectBlockByIndex(index?): void {\n    const { BlockManager } = this.Editor;\n\n    /**\n     * Remove previous focused Block's state\n     */\n    BlockManager.clearFocused();\n\n    let block;\n\n    if (isNaN(index)) {\n      block = BlockManager.currentBlock;\n    } else {\n      block = BlockManager.getBlockByIndex(index);\n    }\n\n    /** Save selection */\n    this.selection.save();\n    SelectionUtils.get()\n      .removeAllRanges();\n\n    block.selected = true;\n\n    this.clearCache();\n\n    /** close InlineToolbar when we selected any Block */\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * Clear anyBlockSelected cache\n   */\n  public clearCache(): void {\n    this.anyBlockSelectedCache = null;\n  }\n\n  /**\n   * Module destruction\n   * De-registers Shortcut CMD+A\n   */\n  public destroy(): void {\n    /** Selection shortcut */\n    Shortcuts.remove(this.Editor.UI.nodes.redactor, 'CMD+A');\n  }\n\n  /**\n   * First CMD+A selects all input content by native behaviour,\n   * next CMD+A keypress selects all blocks\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private handleCommandA(event: KeyboardEvent): void {\n    this.Editor.RectangleSelection.clearSelection();\n\n    /** allow default selection on native inputs */\n    if ($.isNativeInput(event.target) && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = true;\n\n      return;\n    }\n\n    const workingBlock = this.Editor.BlockManager.getBlock(event.target as HTMLElement);\n    const inputs = workingBlock.inputs;\n\n    /**\n     * If Block has more than one editable element allow native selection\n     * Second cmd+a will select whole Block\n     */\n    if (inputs.length > 1 && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = true;\n\n      return;\n    }\n\n    if (inputs.length === 1 && !this.needToSelectAll) {\n      this.needToSelectAll = true;\n\n      return;\n    }\n\n    if (this.needToSelectAll) {\n      /**\n       * Prevent default selection\n       */\n      event.preventDefault();\n\n      this.selectAllBlocks();\n\n      /**\n       * Disable any selection after all Blocks selected\n       */\n      this.needToSelectAll = false;\n      this.readyToBlockSelection = false;\n\n      /**\n       * Close ConversionToolbar when all Blocks selected\n       */\n      this.Editor.ConversionToolbar.close();\n    } else if (this.readyToBlockSelection) {\n      /**\n       * prevent default selection when we use custom selection\n       */\n      event.preventDefault();\n\n      /**\n       * select working Block\n       */\n      this.selectBlockByIndex();\n\n      /**\n       * Enable all Blocks selection if current Block is selected\n       */\n      this.needToSelectAll = true;\n    }\n  }\n\n  /**\n   * Select All Blocks\n   * Each Block has selected setter that makes Block copyable\n   */\n  private selectAllBlocks(): void {\n    /**\n     * Save selection\n     * Will be restored when closeSelection fired\n     */\n    this.selection.save();\n\n    /**\n     * Remove Ranges from Selection\n     */\n    SelectionUtils.get()\n      .removeAllRanges();\n\n    this.allBlocksSelected = true;\n\n    /** close InlineToolbar if we selected all Blocks */\n    this.Editor.InlineToolbar.close();\n  }\n}\n","/**\n * @class Caret\n * @classdesc Contains methods for working Caret\n *\n * Uses Range methods to manipulate with caret\n * @module Caret\n * @version 2.0.0\n */\n\nimport Selection from '../selection';\nimport Module from '../__module';\nimport Block from '../block';\nimport $ from '../dom';\nimport * as _ from '../utils';\n\n/**\n * @typedef {Caret} Caret\n */\nexport default class Caret extends Module {\n  /**\n   * Allowed caret positions in input\n   *\n   * @static\n   * @returns {{START: string, END: string, DEFAULT: string}}\n   */\n  public get positions(): {START: string; END: string; DEFAULT: string} {\n    return {\n      START: 'start',\n      END: 'end',\n      DEFAULT: 'default',\n    };\n  }\n\n  /**\n   * Elements styles that can be useful for Caret Module\n   */\n  private static get CSS(): {shadowCaret: string} {\n    return {\n      shadowCaret: 'cdx-shadow-caret',\n    };\n  }\n\n  /**\n   * Get's deepest first node and checks if offset is zero\n   *\n   * @returns {boolean}\n   */\n  public get isAtStart(): boolean {\n    const selection = Selection.get();\n    const firstNode = $.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);\n    let focusNode = selection.focusNode;\n\n    /** In case lastNode is native input */\n    if ($.isNativeInput(firstNode)) {\n      return (firstNode as HTMLInputElement).selectionEnd === 0;\n    }\n\n    /** Case when selection have been cleared programmatically, for example after CBS */\n    if (!selection.anchorNode) {\n      return false;\n    }\n\n    /**\n     * Workaround case when caret in the text like \" |Hello!\"\n     * selection.anchorOffset is 1, but real caret visible position is 0\n     *\n     * @type {number}\n     */\n\n    let firstLetterPosition = focusNode.textContent.search(/\\S/);\n\n    if (firstLetterPosition === -1) { // empty text\n      firstLetterPosition = 0;\n    }\n\n    /**\n     * If caret was set by external code, it might be set to text node wrapper.\n     * <div>|hello</div> <---- Selection references to <div> instead of text node\n     *\n     * In this case, anchor node has ELEMENT_NODE node type.\n     * Anchor offset shows amount of children between start of the element and caret position.\n     *\n     * So we use child with focusOffset index as new anchorNode.\n     */\n    let focusOffset = selection.focusOffset;\n\n    if (focusNode.nodeType !== Node.TEXT_NODE && focusNode.childNodes.length) {\n      if (focusNode.childNodes[focusOffset]) {\n        focusNode = focusNode.childNodes[focusOffset];\n        focusOffset = 0;\n      } else {\n        focusNode = focusNode.childNodes[focusOffset - 1];\n        focusOffset = focusNode.textContent.length;\n      }\n    }\n\n    /**\n     * In case of\n     * <div contenteditable>\n     *     <p><b></b></p>   <-- first (and deepest) node is <b></b>\n     *     |adaddad         <-- focus node\n     * </div>\n     */\n    if ($.isLineBreakTag(firstNode as HTMLElement) || $.isEmpty(firstNode)) {\n      const leftSiblings = this.getHigherLevelSiblings(focusNode as HTMLElement, 'left');\n      const nothingAtLeft = leftSiblings.every((node) => {\n        /**\n         * Workaround case when block starts with several <br>'s (created by SHIFT+ENTER)\n         *\n         * @see https://github.com/codex-team/editor.js/issues/726\n         * We need to allow to delete such line breaks, so in this case caret IS NOT AT START\n         */\n        const regularLineBreak = $.isLineBreakTag(node);\n        /**\n         * Workaround SHIFT+ENTER in Safari, that creates <div><br></div> instead of <br>\n         */\n        const lineBreakInSafari = node.children.length === 1 && $.isLineBreakTag(node.children[0] as HTMLElement);\n        const isLineBreak = regularLineBreak || lineBreakInSafari;\n\n        return $.isEmpty(node) && !isLineBreak;\n      });\n\n      if (nothingAtLeft && focusOffset === firstLetterPosition) {\n        return true;\n      }\n    }\n\n    /**\n     * We use <= comparison for case:\n     * \"| Hello\"  <--- selection.anchorOffset is 0, but firstLetterPosition is 1\n     */\n    return firstNode === null || (focusNode === firstNode && focusOffset <= firstLetterPosition);\n  }\n\n  /**\n   * Get's deepest last node and checks if offset is last node text length\n   *\n   * @returns {boolean}\n   */\n  public get isAtEnd(): boolean {\n    const selection = Selection.get();\n    let focusNode = selection.focusNode;\n\n    const lastNode = $.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput, true);\n\n    /** In case lastNode is native input */\n    if ($.isNativeInput(lastNode)) {\n      return (lastNode as HTMLInputElement).selectionEnd === (lastNode as HTMLInputElement).value.length;\n    }\n\n    /** Case when selection have been cleared programmatically, for example after CBS */\n    if (!selection.focusNode) {\n      return false;\n    }\n\n    /**\n     * If caret was set by external code, it might be set to text node wrapper.\n     * <div>hello|</div> <---- Selection references to <div> instead of text node\n     *\n     * In this case, anchor node has ELEMENT_NODE node type.\n     * Anchor offset shows amount of children between start of the element and caret position.\n     *\n     * So we use child with focusOffset - 1 as new focusNode.\n     */\n    let focusOffset = selection.focusOffset;\n\n    if (focusNode.nodeType !== Node.TEXT_NODE && focusNode.childNodes.length) {\n      if (focusNode.childNodes[focusOffset - 1]) {\n        focusNode = focusNode.childNodes[focusOffset - 1];\n        focusOffset = focusNode.textContent.length;\n      } else {\n        focusNode = focusNode.childNodes[0];\n        focusOffset = 0;\n      }\n    }\n\n    /**\n     * In case of\n     * <div contenteditable>\n     *     adaddad|         <-- anchor node\n     *     <p><b></b></p>   <-- first (and deepest) node is <b></b>\n     * </div>\n     */\n    if ($.isLineBreakTag(lastNode as HTMLElement) || $.isEmpty(lastNode)) {\n      const rightSiblings = this.getHigherLevelSiblings(focusNode as HTMLElement, 'right');\n      const nothingAtRight = rightSiblings.every((node, i) => {\n        /**\n         * If last right sibling is BR isEmpty returns false, but there actually nothing at right\n         */\n        const isLastBR = i === rightSiblings.length - 1 && $.isLineBreakTag(node as HTMLElement);\n\n        return isLastBR || ($.isEmpty(node) && !$.isLineBreakTag(node));\n      });\n\n      if (nothingAtRight && focusOffset === focusNode.textContent.length) {\n        return true;\n      }\n    }\n\n    /**\n     * Workaround case:\n     * hello |     <--- anchorOffset will be 5, but textContent.length will be 6.\n     * Why not regular .trim():\n     *  in case of ' hello |' trim() will also remove space at the beginning, so length will be lower than anchorOffset\n     */\n    const rightTrimmedText = lastNode.textContent.replace(/\\s+$/, '');\n\n    /**\n     * We use >= comparison for case:\n     * \"Hello |\"  <--- selection.anchorOffset is 7, but rightTrimmedText is 6\n     */\n    return focusNode === lastNode && focusOffset >= rightTrimmedText.length;\n  }\n\n  /**\n   * Method gets Block instance and puts caret to the text node with offset\n   * There two ways that method applies caret position:\n   *   - first found text node: sets at the beginning, but you can pass an offset\n   *   - last found text node: sets at the end of the node. Also, you can customize the behaviour\n   *\n   * @param {Block} block - Block class\n   * @param {string} position - position where to set caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  public setToBlock(block: Block, position: string = this.positions.DEFAULT, offset = 0): void {\n    const { BlockManager } = this.Editor;\n    let element;\n\n    switch (position) {\n      case this.positions.START:\n        element = block.firstInput;\n        break;\n      case this.positions.END:\n        element = block.lastInput;\n        break;\n      default:\n        element = block.currentInput;\n    }\n\n    if (!element) {\n      return;\n    }\n\n    const nodeToSet = $.getDeepestNode(element, position === this.positions.END);\n    const contentLength = $.getContentLength(nodeToSet);\n\n    switch (true) {\n      case position === this.positions.START:\n        offset = 0;\n        break;\n      case position === this.positions.END:\n      case offset > contentLength:\n        offset = contentLength;\n        break;\n    }\n\n    /**\n     * @todo try to fix via Promises or use querySelectorAll to not to use timeout\n     */\n    _.delay(() => {\n      this.set(nodeToSet as HTMLElement, offset);\n    // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n    }, 20)();\n\n    BlockManager.setCurrentBlockByChildNode(block.holder);\n    BlockManager.currentBlock.currentInput = element;\n  }\n\n  /**\n   * Set caret to the current input of current Block.\n   *\n   * @param {HTMLElement} input - input where caret should be set\n   * @param {string} position - position of the caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  public setToInput(input: HTMLElement, position: string = this.positions.DEFAULT, offset = 0): void {\n    const { currentBlock } = this.Editor.BlockManager;\n    const nodeToSet = $.getDeepestNode(input);\n\n    switch (position) {\n      case this.positions.START:\n        this.set(nodeToSet as HTMLElement, 0);\n        break;\n\n      case this.positions.END:\n        this.set(nodeToSet as HTMLElement, $.getContentLength(nodeToSet));\n        break;\n\n      default:\n        if (offset) {\n          this.set(nodeToSet as HTMLElement, offset);\n        }\n    }\n\n    currentBlock.currentInput = input;\n  }\n\n  /**\n   * Creates Document Range and sets caret to the element with offset\n   *\n   * @param {HTMLElement} element - target node.\n   * @param {number} offset - offset\n   */\n  public set(element: HTMLElement, offset = 0): void {\n    const { top, bottom } = Selection.setCursor(element, offset);\n\n    /** If new cursor position is not visible, scroll to it */\n    const { innerHeight } = window;\n\n    if (top < 0) {\n      window.scrollBy(0, top);\n    }\n    if (bottom > innerHeight) {\n      window.scrollBy(0, bottom - innerHeight);\n    }\n  }\n\n  /**\n   * Set Caret to the last Block\n   * If last block is not empty, append another empty block\n   */\n  public setToTheLastBlock(): void {\n    const lastBlock = this.Editor.BlockManager.lastBlock;\n\n    if (!lastBlock) {\n      return;\n    }\n\n    /**\n     * If last block is empty and it is an defaultBlock, set to that.\n     * Otherwise, append new empty block and set to that\n     */\n    if (lastBlock.tool.isDefault && lastBlock.isEmpty) {\n      this.setToBlock(lastBlock);\n    } else {\n      const newBlock = this.Editor.BlockManager.insertAtEnd();\n\n      this.setToBlock(newBlock);\n    }\n  }\n\n  /**\n   * Extract content fragment of current Block from Caret position to the end of the Block\n   */\n  public extractFragmentFromCaretPosition(): void|DocumentFragment {\n    const selection = Selection.get();\n\n    if (selection.rangeCount) {\n      const selectRange = selection.getRangeAt(0);\n      const currentBlockInput = this.Editor.BlockManager.currentBlock.currentInput;\n\n      selectRange.deleteContents();\n\n      if (currentBlockInput) {\n        if ($.isNativeInput(currentBlockInput)) {\n          /**\n           * If input is native text input we need to use it's value\n           * Text before the caret stays in the input,\n           * while text after the caret is returned as a fragment to be inserted after the block.\n           */\n          const input = currentBlockInput as HTMLInputElement | HTMLTextAreaElement;\n          const newFragment = document.createDocumentFragment();\n\n          const inputRemainingText = input.value.substring(0, input.selectionStart);\n          const fragmentText = input.value.substring(input.selectionStart);\n\n          newFragment.textContent = fragmentText;\n          input.value = inputRemainingText;\n\n          return newFragment;\n        } else {\n          const range = selectRange.cloneRange();\n\n          range.selectNodeContents(currentBlockInput);\n          range.setStart(selectRange.endContainer, selectRange.endOffset);\n\n          return range.extractContents();\n        }\n      }\n    }\n  }\n\n  /**\n   * Set's caret to the next Block or Tool`s input\n   * Before moving caret, we should check if caret position is at the end of Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @returns {boolean}\n   */\n  public navigateNext(): boolean {\n    const { BlockManager } = this.Editor;\n    const { currentBlock, nextContentfulBlock } = BlockManager;\n    const { nextInput } = currentBlock;\n    const isAtEnd = this.isAtEnd;\n\n    let nextBlock = nextContentfulBlock;\n\n    if (!nextBlock && !nextInput) {\n      /**\n       * This code allows to exit from the last non-initial tool:\n       * https://github.com/codex-team/editor.js/issues/1103\n       */\n\n      /**\n       * 1. If there is a last block and it is default, do nothing\n       * 2. If there is a last block and it is non-default --> and caret not at the end <--, do nothing\n       *    (https://github.com/codex-team/editor.js/issues/1414)\n       */\n      if (currentBlock.tool.isDefault || !isAtEnd) {\n        return false;\n      }\n\n      /**\n       * If there is no nextBlock, but currentBlock is not default,\n       * insert new default block at the end and navigate to it\n       */\n      nextBlock = BlockManager.insertAtEnd();\n    }\n\n    if (isAtEnd) {\n      /** If next Tool`s input exists, focus on it. Otherwise set caret to the next Block */\n      if (!nextInput) {\n        this.setToBlock(nextBlock, this.positions.START);\n      } else {\n        this.setToInput(nextInput, this.positions.START);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Set's caret to the previous Tool`s input or Block\n   * Before moving caret, we should check if caret position is start of the Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @returns {boolean}\n   */\n  public navigatePrevious(): boolean {\n    const { currentBlock, previousContentfulBlock } = this.Editor.BlockManager;\n\n    if (!currentBlock) {\n      return false;\n    }\n\n    const { previousInput } = currentBlock;\n\n    if (!previousContentfulBlock && !previousInput) {\n      return false;\n    }\n\n    if (this.isAtStart) {\n      /** If previous Tool`s input exists, focus on it. Otherwise set caret to the previous Block */\n      if (!previousInput) {\n        this.setToBlock(previousContentfulBlock, this.positions.END);\n      } else {\n        this.setToInput(previousInput, this.positions.END);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Inserts shadow element after passed element where caret can be placed\n   *\n   * @param {Element} element - element after which shadow caret should be inserted\n   */\n  public createShadow(element: Element): void {\n    const shadowCaret = document.createElement('span');\n\n    shadowCaret.classList.add(Caret.CSS.shadowCaret);\n    element.insertAdjacentElement('beforeend', shadowCaret);\n  }\n\n  /**\n   * Restores caret position\n   *\n   * @param {HTMLElement} element - element where caret should be restored\n   */\n  public restoreCaret(element: HTMLElement): void {\n    const shadowCaret = element.querySelector(`.${Caret.CSS.shadowCaret}`);\n\n    if (!shadowCaret) {\n      return;\n    }\n\n    /**\n     * After we set the caret to the required place\n     * we need to clear shadow caret\n     *\n     * - make new range\n     * - select shadowed span\n     * - use extractContent to remove it from DOM\n     */\n    const sel = new Selection();\n\n    sel.expandToTag(shadowCaret as HTMLElement);\n\n    const newRange = document.createRange();\n\n    newRange.selectNode(shadowCaret);\n    newRange.extractContents();\n  }\n\n  /**\n   * Inserts passed content at caret position\n   *\n   * @param {string} content - content to insert\n   */\n  public insertContentAtCaretPosition(content: string): void {\n    const fragment = document.createDocumentFragment();\n    const wrapper = document.createElement('div');\n    const selection = Selection.get();\n    const range = Selection.range;\n\n    wrapper.innerHTML = content;\n\n    Array.from(wrapper.childNodes).forEach((child: Node) => fragment.appendChild(child));\n\n    /**\n     * If there is no child node, append empty one\n     */\n    if (fragment.childNodes.length === 0) {\n      fragment.appendChild(new Text());\n    }\n\n    const lastChild = fragment.lastChild as ChildNode;\n\n    range.deleteContents();\n    range.insertNode(fragment);\n\n    /** Cross-browser caret insertion */\n    const newRange = document.createRange();\n\n    const nodeToSetCaret = lastChild.nodeType === Node.TEXT_NODE ? lastChild : lastChild.firstChild;\n\n    if (nodeToSetCaret !== null && nodeToSetCaret.textContent !== null) {\n      newRange.setStart(nodeToSetCaret, nodeToSetCaret.textContent.length);\n    }\n\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n\n  /**\n   * Get all first-level (first child of [contenteditable]) siblings from passed node\n   * Then you can check it for emptiness\n   *\n   * @example\n   * <div contenteditable>\n   * <p></p>                            |\n   * <p></p>                            | left first-level siblings\n   * <p></p>                            |\n   * <blockquote><a><b>adaddad</b><a><blockquote>       <-- passed node for example <b>\n   * <p></p>                            |\n   * <p></p>                            | right first-level siblings\n   * <p></p>                            |\n   * </div>\n   * @param {HTMLElement} from - element from which siblings should be searched\n   * @param {'left' | 'right'} direction - direction of search\n   * @returns {HTMLElement[]}\n   */\n  private getHigherLevelSiblings(from: HTMLElement, direction?: 'left' | 'right'): HTMLElement[] {\n    let current = from;\n    const siblings = [];\n\n    /**\n     * Find passed node's firs-level parent (in example - blockquote)\n     */\n    while (current.parentNode && (current.parentNode as HTMLElement).contentEditable !== 'true') {\n      current = current.parentNode as HTMLElement;\n    }\n\n    const sibling = direction === 'left' ? 'previousSibling' : 'nextSibling';\n\n    /**\n     * Find all left/right siblings\n     */\n    while (current[sibling]) {\n      current = current[sibling] as HTMLElement;\n      siblings.push(current);\n    }\n\n    return siblings;\n  }\n}\n","import Module from '../__module';\nimport Block from '../block';\nimport SelectionUtils from '../selection';\nimport * as _ from '../utils';\n\n/**\n *\n */\nexport default class CrossBlockSelection extends Module {\n  /**\n   * Block where selection is started\n   */\n  private firstSelectedBlock: Block;\n\n  /**\n   * Last selected Block\n   */\n  private lastSelectedBlock: Block;\n\n  /**\n   * Module preparation\n   *\n   * @returns {Promise}\n   */\n  public async prepare(): Promise<void> {\n    this.listeners.on(document, 'mousedown', (event: MouseEvent) => {\n      this.enableCrossBlockSelection(event);\n    });\n  }\n\n  /**\n   * Sets up listeners\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  public watchSelection(event: MouseEvent): void {\n    if (event.button !== _.mouseButtons.LEFT) {\n      return;\n    }\n\n    const { BlockManager } = this.Editor;\n\n    this.firstSelectedBlock = BlockManager.getBlock(event.target as HTMLElement);\n    this.lastSelectedBlock = this.firstSelectedBlock;\n\n    this.listeners.on(document, 'mouseover', this.onMouseOver);\n    this.listeners.on(document, 'mouseup', this.onMouseUp);\n  }\n\n  /**\n   * return boolean is cross block selection started\n   */\n  public get isCrossBlockSelectionStarted(): boolean {\n    return !!this.firstSelectedBlock &&\n      !!this.lastSelectedBlock;\n  }\n\n  /**\n   * Change selection state of the next Block\n   * Used for CBS via Shift + arrow keys\n   *\n   * @param {boolean} next - if true, toggle next block. Previous otherwise\n   */\n  public toggleBlockSelectedState(next = true): void {\n    const { BlockManager, BlockSelection } = this.Editor;\n\n    if (!this.lastSelectedBlock) {\n      this.lastSelectedBlock = this.firstSelectedBlock = BlockManager.currentBlock;\n    }\n\n    if (this.firstSelectedBlock === this.lastSelectedBlock) {\n      this.firstSelectedBlock.selected = true;\n\n      BlockSelection.clearCache();\n      SelectionUtils.get().removeAllRanges();\n    }\n\n    const nextBlockIndex = BlockManager.blocks.indexOf(this.lastSelectedBlock) + (next ? 1 : -1);\n    const nextBlock = BlockManager.blocks[nextBlockIndex];\n\n    if (!nextBlock) {\n      return;\n    }\n\n    if (this.lastSelectedBlock.selected !== nextBlock.selected) {\n      nextBlock.selected = true;\n\n      BlockSelection.clearCache();\n    } else {\n      this.lastSelectedBlock.selected = false;\n\n      BlockSelection.clearCache();\n    }\n\n    this.lastSelectedBlock = nextBlock;\n\n    /** close InlineToolbar when Blocks selected */\n    this.Editor.InlineToolbar.close();\n\n    nextBlock.holder.scrollIntoView({\n      block: 'nearest',\n    });\n  }\n\n  /**\n   * Clear saved state\n   *\n   * @param {Event} reason - event caused clear of selection\n   */\n  public clear(reason?: Event): void {\n    const { BlockManager, BlockSelection, Caret } = this.Editor;\n    const fIndex = BlockManager.blocks.indexOf(this.firstSelectedBlock);\n    const lIndex = BlockManager.blocks.indexOf(this.lastSelectedBlock);\n\n    if (BlockSelection.anyBlockSelected && fIndex > -1 && lIndex > -1) {\n      if (reason && reason instanceof KeyboardEvent) {\n        /**\n         * Set caret depending on pressed key if pressed key is an arrow.\n         */\n        switch (reason.keyCode) {\n          case _.keyCodes.DOWN:\n          case _.keyCodes.RIGHT:\n            Caret.setToBlock(BlockManager.blocks[Math.max(fIndex, lIndex)], Caret.positions.END);\n            break;\n\n          case _.keyCodes.UP:\n          case _.keyCodes.LEFT:\n            Caret.setToBlock(BlockManager.blocks[Math.min(fIndex, lIndex)], Caret.positions.START);\n            break;\n          default:\n            Caret.setToBlock(BlockManager.blocks[Math.max(fIndex, lIndex)], Caret.positions.END);\n        }\n      } else {\n        /**\n         * By default set caret at the end of the last selected block\n         */\n        Caret.setToBlock(BlockManager.blocks[Math.max(fIndex, lIndex)], Caret.positions.END);\n      }\n    }\n\n    this.firstSelectedBlock = this.lastSelectedBlock = null;\n  }\n\n  /**\n   * Enables Cross Block Selection\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  private enableCrossBlockSelection(event: MouseEvent): void {\n    const { UI } = this.Editor;\n\n    /**\n     * Each mouse down on must disable selectAll state\n     */\n    if (!SelectionUtils.isCollapsed) {\n      this.Editor.BlockSelection.clearSelection(event);\n    }\n\n    /**\n     * If mouse down is performed inside the editor, we should watch CBS\n     */\n    if (UI.nodes.redactor.contains(event.target as Node)) {\n      this.watchSelection(event);\n    } else {\n      /**\n       * Otherwise, clear selection\n       */\n      this.Editor.BlockSelection.clearSelection(event);\n    }\n  }\n\n  /**\n   * Mouse up event handler.\n   * Removes the listeners\n   */\n  private onMouseUp = (): void => {\n    this.listeners.off(document, 'mouseover', this.onMouseOver);\n    this.listeners.off(document, 'mouseup', this.onMouseUp);\n  };\n\n  /**\n   * Mouse over event handler\n   * Gets target and related blocks and change selected state for blocks in between\n   *\n   * @param {MouseEvent} event - mouse over event\n   */\n  private onMouseOver = (event: MouseEvent): void => {\n    const { BlockManager, BlockSelection } = this.Editor;\n\n    const relatedBlock = BlockManager.getBlockByChildNode(event.relatedTarget as Node) || this.lastSelectedBlock;\n    const targetBlock = BlockManager.getBlockByChildNode(event.target as Node);\n\n    if (!relatedBlock || !targetBlock) {\n      return;\n    }\n\n    if (targetBlock === relatedBlock) {\n      return;\n    }\n\n    if (relatedBlock === this.firstSelectedBlock) {\n      SelectionUtils.get().removeAllRanges();\n\n      relatedBlock.selected = true;\n      targetBlock.selected = true;\n\n      BlockSelection.clearCache();\n\n      return;\n    }\n\n    if (targetBlock === this.firstSelectedBlock) {\n      relatedBlock.selected = false;\n      targetBlock.selected = false;\n\n      BlockSelection.clearCache();\n\n      return;\n    }\n\n    this.Editor.InlineToolbar.close();\n\n    this.toggleBlocksSelectedState(relatedBlock, targetBlock);\n    this.lastSelectedBlock = targetBlock;\n  };\n\n  /**\n   * Change blocks selection state between passed two blocks.\n   *\n   * @param {Block} firstBlock - first block in range\n   * @param {Block} lastBlock - last block in range\n   */\n  private toggleBlocksSelectedState(firstBlock: Block, lastBlock: Block): void {\n    const { BlockManager, BlockSelection } = this.Editor;\n    const fIndex = BlockManager.blocks.indexOf(firstBlock);\n    const lIndex = BlockManager.blocks.indexOf(lastBlock);\n\n    /**\n     * If first and last block have the different selection state\n     * it means we should't toggle selection of the first selected block.\n     * In the other case we shouldn't toggle the last selected block.\n     */\n    const shouldntSelectFirstBlock = firstBlock.selected !== lastBlock.selected;\n\n    for (let i = Math.min(fIndex, lIndex); i <= Math.max(fIndex, lIndex); i++) {\n      const block = BlockManager.blocks[i];\n\n      if (\n        block !== this.firstSelectedBlock &&\n        block !== (shouldntSelectFirstBlock ? firstBlock : lastBlock)\n      ) {\n        BlockManager.blocks[i].selected = !BlockManager.blocks[i].selected;\n\n        BlockSelection.clearCache();\n      }\n    }\n  }\n}\n","import SelectionUtils from '../selection';\n\nimport Module from '../__module';\n/**\n *\n */\nexport default class DragNDrop extends Module {\n  /**\n   * If drag has been started at editor, we save it\n   *\n   * @type {boolean}\n   * @private\n   */\n  private isStartedAtEditor = false;\n\n  /**\n   * Toggle read-only state\n   *\n   * if state is true:\n   *  - disable all drag-n-drop event handlers\n   *\n   * if state is false:\n   *  - restore drag-n-drop event handlers\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (readOnlyEnabled) {\n      this.disableModuleBindings();\n    } else {\n      this.enableModuleBindings();\n    }\n  }\n\n  /**\n   * Add drag events listeners to editor zone\n   */\n  private enableModuleBindings(): void {\n    const { UI } = this.Editor;\n\n    this.readOnlyMutableListeners.on(UI.nodes.holder, 'drop', async (dropEvent: DragEvent) => {\n      await this.processDrop(dropEvent);\n    }, true);\n\n    this.readOnlyMutableListeners.on(UI.nodes.holder, 'dragstart', () => {\n      this.processDragStart();\n    });\n\n    /**\n     * Prevent default browser behavior to allow drop on non-contenteditable elements\n     */\n    this.readOnlyMutableListeners.on(UI.nodes.holder, 'dragover', (dragEvent: DragEvent) => {\n      this.processDragOver(dragEvent);\n    }, true);\n  }\n\n  /**\n   * Unbind drag-n-drop event handlers\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Handle drop event\n   *\n   * @param {DragEvent} dropEvent - drop event\n   */\n  private async processDrop(dropEvent: DragEvent): Promise<void> {\n    const {\n      BlockManager,\n      Caret,\n      Paste,\n    } = this.Editor;\n\n    dropEvent.preventDefault();\n\n    BlockManager.blocks.forEach((block) => {\n      block.dropTarget = false;\n    });\n\n    if (SelectionUtils.isAtEditor && !SelectionUtils.isCollapsed && this.isStartedAtEditor) {\n      document.execCommand('delete');\n    }\n\n    this.isStartedAtEditor = false;\n\n    /**\n     * Try to set current block by drop target.\n     * If drop target is not part of the Block, set last Block as current.\n     */\n    const targetBlock = BlockManager.setCurrentBlockByChildNode(dropEvent.target as Node);\n\n    if (targetBlock) {\n      this.Editor.Caret.setToBlock(targetBlock, Caret.positions.END);\n    } else {\n      const lastBlock = BlockManager.setCurrentBlockByChildNode(BlockManager.lastBlock.holder);\n\n      this.Editor.Caret.setToBlock(lastBlock, Caret.positions.END);\n    }\n\n    await Paste.processDataTransfer(dropEvent.dataTransfer, true);\n  }\n\n  /**\n   * Handle drag start event\n   */\n  private processDragStart(): void {\n    if (SelectionUtils.isAtEditor && !SelectionUtils.isCollapsed) {\n      this.isStartedAtEditor = true;\n    }\n\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * @param {DragEvent} dragEvent - drag event\n   */\n  private processDragOver(dragEvent: DragEvent): void {\n    dragEvent.preventDefault();\n  }\n}\n","/** ./api */\nimport BlocksAPI from './api/blocks';\nimport CaretAPI from './api/caret';\nimport EventsAPI from './api/events';\nimport I18nAPI from './api/i18n';\nimport API from './api/index';\nimport InlineToolbarAPI from './api/inlineToolbar';\nimport ListenersAPI from './api/listeners';\nimport NotifierAPI from './api/notifier';\nimport ReadOnlyAPI from './api/readonly';\nimport SanitizerAPI from './api/sanitizer';\nimport SaverAPI from './api/saver';\nimport SelectionAPI from './api/selection';\nimport StylesAPI from './api/styles';\nimport ToolbarAPI from './api/toolbar';\nimport TooltipAPI from './api/tooltip';\nimport UiAPI from './api/ui';\n\n/** ./toolbar */\nimport BlockSettings from './toolbar/blockSettings';\nimport ConversionToolbar from './toolbar/conversion';\nimport Toolbar from './toolbar/index';\nimport InlineToolbar from './toolbar/inline';\n\n/** . */\nimport BlockEvents from './blockEvents';\nimport BlockManager from './blockManager';\nimport BlockSelection from './blockSelection';\nimport Caret from './caret';\nimport CrossBlockSelection from './crossBlockSelection';\nimport DragNDrop from './dragNDrop';\nimport ModificationsObserver from './modificationsObserver';\nimport Paste from './paste';\nimport ReadOnly from './readonly';\nimport RectangleSelection from './rectangleSelection';\nimport Renderer from './renderer';\nimport Saver from './saver';\nimport Tools from './tools';\nimport UI from './ui';\n\nexport default {\n  // API Modules\n  BlocksAPI,\n  CaretAPI,\n  EventsAPI,\n  I18nAPI,\n  API,\n  InlineToolbarAPI,\n  ListenersAPI,\n  NotifierAPI,\n  ReadOnlyAPI,\n  SanitizerAPI,\n  SaverAPI,\n  SelectionAPI,\n  StylesAPI,\n  ToolbarAPI,\n  TooltipAPI,\n  UiAPI,\n\n  // Toolbar Modules\n  BlockSettings,\n  ConversionToolbar,\n  Toolbar,\n  InlineToolbar,\n\n  // Modules\n  BlockEvents,\n  BlockManager,\n  BlockSelection,\n  Caret,\n  CrossBlockSelection,\n  DragNDrop,\n  ModificationsObserver,\n  Paste,\n  ReadOnly,\n  RectangleSelection,\n  Renderer,\n  Saver,\n  Tools,\n  UI,\n};","import { BlockId } from '../../../types';\nimport { BlockMutationEvent, BlockMutationType } from '../../../types/events/block';\nimport { ModuleConfig } from '../../types-internal/module-config';\nimport Module from '../__module';\nimport { BlockChanged, FakeCursorAboutToBeToggled, FakeCursorHaveBeenSet, RedactorDomChanged } from '../events';\nimport * as _ from '../utils';\n\n/**\n * We use map of block mutations to filter only unique events\n */\ntype UniqueBlockMutationKey = `block:${BlockId}:event:${BlockMutationType}`;\n\n/**\n * Single entry point for Block mutation events\n */\nexport default class ModificationsObserver extends Module {\n  /**\n   * Flag shows onChange event is disabled\n   */\n  private disabled = false;\n\n  /**\n   * Blocks wrapper mutation observer instance\n   */\n  private readonly mutationObserver: MutationObserver;\n\n  /**\n   * Timeout used to batched several events in a single onChange call\n   */\n  private batchingTimeout: null | ReturnType<typeof setTimeout> = null;\n\n  /**\n   * Array of onChange events used to batch them\n   *\n   * Map is used to filter duplicated events related to the same block\n   */\n  private batchingOnChangeQueue = new Map<UniqueBlockMutationKey, BlockMutationEvent>();\n\n  /**\n   * Fired onChange events will be batched by this time\n   */\n  private readonly batchTime = 400;\n\n  /**\n   * Prepare the module\n   *\n   * @param options - options used by the modification observer module\n   * @param options.config - Editor configuration object\n   * @param options.eventsDispatcher - common Editor event bus\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    super({\n      config,\n      eventsDispatcher,\n    });\n\n    this.mutationObserver = new MutationObserver((mutations) => {\n      this.redactorChanged(mutations);\n    });\n\n    this.eventsDispatcher.on(BlockChanged, (payload) => {\n      this.particularBlockChanged(payload.event);\n    });\n\n    /**\n     * Mutex for fake cursor setting/removing operation\n     */\n    this.eventsDispatcher.on(FakeCursorAboutToBeToggled, () => {\n      this.disable();\n    });\n\n    this.eventsDispatcher.on(FakeCursorHaveBeenSet, () => {\n      this.enable();\n    });\n  }\n\n  /**\n   * Enables onChange event\n   */\n  public enable(): void {\n    this.mutationObserver.observe(\n      this.Editor.UI.nodes.redactor,\n      {\n        childList: true,\n        subtree: true,\n        characterData: true,\n        attributes: true,\n      }\n    );\n    this.disabled = false;\n  }\n\n  /**\n   * Disables onChange event\n   */\n  public disable(): void {\n    this.mutationObserver.disconnect();\n    this.disabled = true;\n  }\n\n  /**\n   * Call onChange event passed to Editor.js configuration\n   *\n   * @param event - some of our custom change events\n   */\n  private particularBlockChanged(event: BlockMutationEvent): void {\n    if (this.disabled || !_.isFunction(this.config.onChange)) {\n      return;\n    }\n\n    this.batchingOnChangeQueue.set(`block:${event.detail.target.id}:event:${event.type as BlockMutationType}`, event);\n\n    if (this.batchingTimeout) {\n      clearTimeout(this.batchingTimeout);\n    }\n\n    this.batchingTimeout = setTimeout(() => {\n      let eventsToEmit;\n\n      /**\n       * Ih we have only 1 event in a queue, unwrap it\n       */\n      if (this.batchingOnChangeQueue.size === 1) {\n        eventsToEmit = this.batchingOnChangeQueue.values().next().value;\n      } else {\n        eventsToEmit = Array.from(this.batchingOnChangeQueue.values());\n      }\n\n      if (this.config.onChange) {\n        this.config.onChange(this.Editor.API.methods, eventsToEmit);\n      }\n\n      this.batchingOnChangeQueue.clear();\n    }, this.batchTime);\n  }\n\n  /**\n   * Fired on every blocks wrapper dom change\n   *\n   * @param mutations - mutations happened\n   */\n  private redactorChanged(mutations: MutationRecord[]): void {\n    this.eventsDispatcher.emit(RedactorDomChanged, {\n      mutations,\n    });\n  }\n}\n","import Module from '../__module';\nimport $ from '../dom';\nimport * as _ from '../utils';\nimport {\n  BlockAPI,\n  PasteEvent,\n  PasteEventDetail,\n  SanitizerConfig,\n  SanitizerRule\n} from '../../../types';\nimport Block from '../block';\nimport { SavedData } from '../../../types/data-formats';\nimport { clean, sanitizeBlocks } from '../utils/sanitizer';\nimport BlockTool from '../tools/block';\n\n/**\n * Tag substitute object.\n */\ninterface TagSubstitute {\n  /**\n   * Name of related Tool\n   *\n   */\n  tool: BlockTool;\n\n  /**\n   * If a Tool specifies just a tag name, all the attributes will be sanitized.\n   * But Tool can explicitly specify sanitizer configuration for supported tags\n   */\n  sanitizationConfig?: SanitizerRule;\n}\n\n/**\n * Pattern substitute object.\n */\ninterface PatternSubstitute {\n  /**\n   * Pattern`s key\n   */\n  key: string;\n\n  /**\n   * Pattern regexp\n   */\n  pattern: RegExp;\n\n  /**\n   * Name of related Tool\n   */\n  tool: BlockTool;\n}\n\n/**\n * Files` types substitutions object.\n */\ninterface FilesSubstitution {\n  /**\n   * Array of file extensions Tool can handle\n   *\n   * @type {string[]}\n   */\n  extensions: string[];\n\n  /**\n   * Array of MIME types Tool can handle\n   *\n   * @type {string[]}\n   */\n  mimeTypes: string[];\n}\n\n/**\n * Processed paste data object.\n *\n * @interface PasteData\n */\ninterface PasteData {\n  /**\n   * Name of related Tool\n   *\n   * @type {string}\n   */\n  tool: string;\n\n  /**\n   * Pasted data. Processed and wrapped to HTML element\n   *\n   * @type {HTMLElement}\n   */\n  content: HTMLElement;\n\n  /**\n   * Pasted data\n   */\n  event: PasteEvent;\n\n  /**\n   * True if content should be inserted as new Block\n   *\n   * @type {boolean}\n   */\n  isBlock: boolean;\n}\n\n/**\n * @class Paste\n * @classdesc Contains methods to handle paste on editor\n * @module Paste\n * @version 2.0.0\n */\nexport default class Paste extends Module {\n  /** If string`s length is greater than this number we don't check paste patterns */\n  public static readonly PATTERN_PROCESSING_MAX_LENGTH = 450;\n\n  /** Custom EditorJS mime-type to handle in-editor copy/paste actions */\n  public readonly MIME_TYPE = 'application/x-editor-js';\n\n  /**\n   * Tags` substitutions parameters\n   */\n  private toolsTags: { [tag: string]: TagSubstitute } = {};\n\n  /**\n   * Store tags to substitute by tool name\n   */\n  private tagsByTool: { [tools: string]: string[] } = {};\n\n  /** Patterns` substitutions parameters */\n  private toolsPatterns: PatternSubstitute[] = [];\n\n  /** Files` substitutions parameters */\n  private toolsFiles: {\n    [tool: string]: FilesSubstitution;\n  } = {};\n\n  /**\n   * List of tools which do not need a paste handling\n   */\n  private exceptionList: string[] = [];\n\n  /**\n   * Set onPaste callback and collect tools` paste configurations\n   */\n  public async prepare(): Promise<void> {\n    this.processTools();\n  }\n\n  /**\n   * Set read-only state\n   *\n   * @param {boolean} readOnlyEnabled - read only flag value\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.setCallback();\n    } else {\n      this.unsetCallback();\n    }\n  }\n\n  /**\n   * Handle pasted or dropped data transfer object\n   *\n   * @param {DataTransfer} dataTransfer - pasted or dropped data transfer object\n   * @param {boolean} isDragNDrop - true if data transfer comes from drag'n'drop events\n   */\n  public async processDataTransfer(dataTransfer: DataTransfer, isDragNDrop = false): Promise<void> {\n    const { Tools } = this.Editor;\n    const types = dataTransfer.types;\n\n    /**\n     * In Microsoft Edge types is DOMStringList. So 'contains' is used to check if 'Files' type included\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const includesFiles = types.includes ? types.includes('Files') : (types as any).contains('Files');\n\n    if (includesFiles && !_.isEmpty(this.toolsFiles)) {\n      await this.processFiles(dataTransfer.files);\n\n      return;\n    }\n\n    const editorJSData = dataTransfer.getData(this.MIME_TYPE);\n    const plainData = dataTransfer.getData('text/plain');\n    let htmlData = dataTransfer.getData('text/html');\n\n    // @SLID - onPaste hanlder for preventing pasting styled text\n    const tempDiv = document.createElement('div');\n\n    tempDiv.innerHTML = htmlData ;\n\n    tempDiv.querySelectorAll('*').forEach((node ) => {\n      if (node instanceof HTMLElement) {\n        node.style.color = 'inherit';\n        node.style.fontFamily = 'inherit';\n        node.style.fontSize = 'inherit';\n        node.style.backgroundColor = 'initial';\n      }\n    });\n\n    const modifiedHtmlContent = tempDiv.innerHTML;\n\n    htmlData = modifiedHtmlContent;\n\n    /**\n     * If EditorJS json is passed, insert it\n     */\n    if (editorJSData) {\n      try {\n        this.insertEditorJSData(JSON.parse(editorJSData));\n\n        return;\n      } catch (e) { } // Do nothing and continue execution as usual if error appears\n    }\n\n    /**\n     *  If text was drag'n'dropped, wrap content with P tag to insert it as the new Block\n     */\n    if (isDragNDrop && plainData.trim() && htmlData.trim()) {\n      htmlData = '<p>' + (htmlData.trim() ? htmlData : plainData) + '</p>';\n    }\n\n    /** Add all tags that can be substituted to sanitizer configuration */\n    const toolsTags = Object.keys(this.toolsTags).reduce((result, tag) => {\n      /**\n       * If Tool explicitly specifies sanitizer configuration for the tag, use it.\n       * Otherwise, remove all attributes\n       */\n      result[tag.toLowerCase()] = this.toolsTags[tag].sanitizationConfig ?? {};\n\n      return result;\n    }, {});\n\n    const customConfig = Object.assign({}, toolsTags, Tools.getAllInlineToolsSanitizeConfig(), { br: {} });\n    const cleanData = clean(htmlData, customConfig);\n\n    /** If there is no HTML or HTML string is equal to plain one, process it as plain text */\n    if (!cleanData.trim() || cleanData.trim() === plainData || !$.isHTMLString(cleanData)) {\n      await this.processText(plainData);\n    } else {\n      await this.processText(cleanData, true);\n    }\n  }\n\n  /**\n   * Process pasted text and divide them into Blocks\n   *\n   * @param {string} data - text to process. Can be HTML or plain.\n   * @param {boolean} isHTML - if passed string is HTML, this parameter should be true\n   */\n  public async processText(data: string, isHTML = false): Promise<void> {\n    const { Caret, BlockManager } = this.Editor;\n    const dataToInsert = isHTML ? this.processHTML(data) : this.processPlain(data);\n\n    if (!dataToInsert.length) {\n      return;\n    }\n\n    if (dataToInsert.length === 1) {\n      if (!dataToInsert[0].isBlock) {\n        this.processInlinePaste(dataToInsert.pop());\n      } else {\n        this.processSingleBlock(dataToInsert.pop());\n      }\n\n      return;\n    }\n\n    const isCurrentBlockDefault = BlockManager.currentBlock && BlockManager.currentBlock.tool.isDefault;\n    const needToReplaceCurrentBlock = isCurrentBlockDefault && BlockManager.currentBlock.isEmpty;\n\n    dataToInsert.map(\n      async (content, i) => this.insertBlock(content, i === 0 && needToReplaceCurrentBlock)\n    );\n\n    if (BlockManager.currentBlock) {\n      Caret.setToBlock(BlockManager.currentBlock, Caret.positions.END);\n    }\n  }\n\n  /**\n   * Set onPaste callback handler\n   */\n  private setCallback(): void {\n    this.listeners.on(this.Editor.UI.nodes.holder, 'paste', this.handlePasteEvent);\n  }\n\n  /**\n   * Unset onPaste callback handler\n   */\n  private unsetCallback(): void {\n    this.listeners.off(this.Editor.UI.nodes.holder, 'paste', this.handlePasteEvent);\n  }\n\n  /**\n   * Get and process tool`s paste configs\n   */\n  private processTools(): void {\n    const tools = this.Editor.Tools.blockTools;\n\n    Array\n      .from(tools.values())\n      .forEach(this.processTool);\n  }\n\n  /**\n   * Process paste config for each tool\n   *\n   * @param tool - BlockTool object\n   */\n  private processTool = (tool: BlockTool): void => {\n    try {\n      const toolInstance = tool.create({}, {} as BlockAPI, false);\n\n      if (tool.pasteConfig === false) {\n        this.exceptionList.push(tool.name);\n\n        return;\n      }\n\n      if (!_.isFunction(toolInstance.onPaste)) {\n        return;\n      }\n\n      this.getTagsConfig(tool);\n      this.getFilesConfig(tool);\n      this.getPatternsConfig(tool);\n    } catch (e) {\n      _.log(\n        `Paste handling for ${tool.name} Tool hasn't been set up because of the error`,\n        'warn',\n        e\n      );\n    }\n  };\n\n  /**\n   * Get tags name list from either tag name or sanitization config.\n   *\n   * @param {string | object} tagOrSanitizeConfig - tag name or sanitize config object.\n   * @returns {string[]} array of tags.\n   */\n  private collectTagNames(tagOrSanitizeConfig: string | SanitizerConfig): string[] {\n    /**\n     * If string, then it is a tag name.\n     */\n    if (_.isString(tagOrSanitizeConfig)) {\n      return [ tagOrSanitizeConfig ];\n    }\n    /**\n     * If object, then its keys are tags.\n     */\n    if (_.isObject(tagOrSanitizeConfig)) {\n      return Object.keys(tagOrSanitizeConfig);\n    }\n\n    /** Return empty tag list */\n    return [];\n  }\n\n  /**\n   * Get tags to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  private getTagsConfig(tool: BlockTool): void {\n    if (tool.pasteConfig === false) {\n      return;\n    }\n\n    const tagsOrSanitizeConfigs = tool.pasteConfig.tags || [];\n    const toolTags = [];\n\n    tagsOrSanitizeConfigs.forEach((tagOrSanitizeConfig) => {\n      const tags = this.collectTagNames(tagOrSanitizeConfig);\n\n      /**\n       * Add tags to toolTags array\n       */\n      toolTags.push(...tags);\n      tags.forEach((tag) => {\n        if (Object.prototype.hasOwnProperty.call(this.toolsTags, tag)) {\n          _.log(\n            `Paste handler for ${tool.name} Tool on ${tag} tag is skipped ` +\n            `because it is already used by ${this.toolsTags[tag].tool.name} Tool.`,\n            'warn'\n          );\n\n          return;\n        }\n        /**\n         * Get sanitize config for tag.\n         */\n        const sanitizationConfig = _.isObject(tagOrSanitizeConfig) ? tagOrSanitizeConfig[tag] : null;\n\n        this.toolsTags[tag.toUpperCase()] = {\n          tool,\n          sanitizationConfig,\n        };\n      });\n    });\n\n    this.tagsByTool[tool.name] = toolTags.map((t) => t.toUpperCase());\n  }\n\n  /**\n   * Get files` types and extensions to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  private getFilesConfig(tool: BlockTool): void {\n    if (tool.pasteConfig === false) {\n      return;\n    }\n\n    const { files = {} } = tool.pasteConfig;\n    let { extensions, mimeTypes } = files;\n\n    if (!extensions && !mimeTypes) {\n      return;\n    }\n\n    if (extensions && !Array.isArray(extensions)) {\n      _.log(`extensions property of the onDrop config for ${tool.name} Tool should be an array`);\n      extensions = [];\n    }\n\n    if (mimeTypes && !Array.isArray(mimeTypes)) {\n      _.log(`mimeTypes property of the onDrop config for ${tool.name} Tool should be an array`);\n      mimeTypes = [];\n    }\n\n    if (mimeTypes) {\n      mimeTypes = mimeTypes.filter((type) => {\n        if (!_.isValidMimeType(type)) {\n          _.log(`MIME type value ${type} for the ${tool.name} Tool is not a valid MIME type`, 'warn');\n\n          return false;\n        }\n\n        return true;\n      });\n    }\n\n    this.toolsFiles[tool.name] = {\n      extensions: extensions || [],\n      mimeTypes: mimeTypes || [],\n    };\n  }\n\n  /**\n   * Get RegExp patterns to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  private getPatternsConfig(tool: BlockTool): void {\n    if (\n      tool.pasteConfig === false ||\n      !tool.pasteConfig.patterns ||\n      _.isEmpty(tool.pasteConfig.patterns)\n    ) {\n      return;\n    }\n\n    Object.entries(tool.pasteConfig.patterns).forEach(([key, pattern]: [string, RegExp]) => {\n      /** Still need to validate pattern as it provided by user */\n      if (!(pattern instanceof RegExp)) {\n        _.log(\n          `Pattern ${pattern} for ${tool.name} Tool is skipped because it should be a Regexp instance.`,\n          'warn'\n        );\n      }\n\n      this.toolsPatterns.push({\n        key,\n        pattern,\n        tool,\n      });\n    });\n  }\n\n  /**\n   * Check if browser behavior suits better\n   *\n   * @param {EventTarget} element - element where content has been pasted\n   * @returns {boolean}\n   */\n  private isNativeBehaviour(element: EventTarget): boolean {\n    return $.isNativeInput(element);\n  }\n\n  /**\n   * Check if Editor should process pasted data and pass data transfer object to handler\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  private handlePasteEvent = async (event: ClipboardEvent): Promise<void> => {\n    const { BlockManager, Toolbar } = this.Editor;\n\n    /**\n     * When someone pasting into a block, its more stable to set current block by event target, instead of relying on current block set before\n     */\n    const currentBlock = BlockManager.setCurrentBlockByChildNode(event.target as HTMLElement);\n\n    /** If target is native input or is not Block, use browser behaviour */\n    if (\n      !currentBlock || (this.isNativeBehaviour(event.target) && !event.clipboardData.types.includes('Files'))\n    ) {\n      return;\n    }\n\n    /**\n     * If Tools is in list of errors, skip processing of paste event\n     */\n    if (currentBlock && this.exceptionList.includes(currentBlock.name)) {\n      return;\n    }\n\n    event.preventDefault();\n    this.processDataTransfer(event.clipboardData);\n\n    BlockManager.clearFocused();\n    Toolbar.close();\n  };\n\n  /**\n   * Get files from data transfer object and insert related Tools\n   *\n   * @param {FileList} items - pasted or dropped items\n   */\n  private async processFiles(items: FileList): Promise<void> {\n    const { BlockManager } = this.Editor;\n\n    let dataToInsert: { type: string; event: PasteEvent }[];\n\n    dataToInsert = await Promise.all(\n      Array\n        .from(items)\n        .map((item) => this.processFile(item))\n    );\n    dataToInsert = dataToInsert.filter((data) => !!data);\n\n    const isCurrentBlockDefault = BlockManager.currentBlock.tool.isDefault;\n    const needToReplaceCurrentBlock = isCurrentBlockDefault && BlockManager.currentBlock.isEmpty;\n\n    dataToInsert.forEach(\n      (data, i) => {\n        BlockManager.paste(data.type, data.event, i === 0 && needToReplaceCurrentBlock);\n      }\n    );\n  }\n\n  /**\n   * Get information about file and find Tool to handle it\n   *\n   * @param {File} file - file to process\n   */\n  private async processFile(file: File): Promise<{ event: PasteEvent; type: string }> {\n    const extension = _.getFileExtension(file);\n\n    const foundConfig = Object\n      .entries(this.toolsFiles)\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\n      .find(([toolName, { mimeTypes, extensions } ]) => {\n        const [fileType, fileSubtype] = file.type.split('/');\n\n        const foundExt = extensions.find((ext) => ext.toLowerCase() === extension.toLowerCase());\n        const foundMimeType = mimeTypes.find((mime) => {\n          const [type, subtype] = mime.split('/');\n\n          return type === fileType && (subtype === fileSubtype || subtype === '*');\n        });\n\n        return !!foundExt || !!foundMimeType;\n      });\n\n    if (!foundConfig) {\n      return;\n    }\n\n    const [ tool ] = foundConfig;\n    const pasteEvent = this.composePasteEvent('file', {\n      file,\n    });\n\n    return {\n      event: pasteEvent,\n      type: tool,\n    };\n  }\n\n  /**\n   * Split HTML string to blocks and return it as array of Block data\n   *\n   * @param {string} innerHTML - html string to process\n   * @returns {PasteData[]}\n   */\n  private processHTML(innerHTML: string): PasteData[] {\n    const { Tools } = this.Editor;\n\n    /**\n     * @todo Research, do we really need to always wrap innerHTML to a div:\n     *  - <img> tag could be processed separately, but for now it becomes div-wrapped\n     *    and then .getNodes() returns strange: [document-fragment, img]\n     *    (description of the method says that it should should return only block tags or fragments,\n     *     but there are inline-block element along with redundant empty fragment)\n     *  - probably this is a reason of bugs with unexpected new block creation instead of inline pasting:\n     *      - https://github.com/codex-team/editor.js/issues/1427\n     *      - https://github.com/codex-team/editor.js/issues/1244\n     *      - https://github.com/codex-team/editor.js/issues/740\n     */\n    const wrapper = $.make('DIV');\n\n    wrapper.innerHTML = innerHTML;\n\n    const nodes = this.getNodes(wrapper);\n\n    return nodes\n      .map((node) => {\n        let content, tool = Tools.defaultTool, isBlock = false;\n\n        switch (node.nodeType) {\n          /** If node is a document fragment, use temp wrapper to get innerHTML */\n          case Node.DOCUMENT_FRAGMENT_NODE:\n            content = $.make('div');\n            content.appendChild(node);\n            break;\n\n          /** If node is an element, then there might be a substitution */\n          case Node.ELEMENT_NODE:\n            content = node as HTMLElement;\n            isBlock = true;\n\n            if (this.toolsTags[content.tagName]) {\n              tool = this.toolsTags[content.tagName].tool;\n            }\n            break;\n        }\n\n        /**\n         * Returns empty array if there is no paste config\n         */\n        const { tags: tagsOrSanitizeConfigs } = tool.pasteConfig || { tags: [] };\n\n        /**\n         * Reduce the tags or sanitize configs to a single array of sanitize config.\n         * For example:\n         * If sanitize config is\n         * [ 'tbody',\n         *   {\n         *     table: {\n         *       width: true,\n         *       height: true,\n         *     },\n         *   },\n         *   {\n         *      td: {\n         *        colspan: true,\n         *        rowspan: true,\n         *      },\n         *      tr: {  // <-- the second tag\n         *        height: true,\n         *      },\n         *   },\n         * ]\n         * then sanitize config will be\n         * [\n         *  'table':{},\n         *  'tbody':{width: true, height: true}\n         *  'td':{colspan: true, rowspan: true},\n         *  'tr':{height: true}\n         * ]\n         */\n        const toolTags = tagsOrSanitizeConfigs.reduce((result, tagOrSanitizeConfig) => {\n          const tags = this.collectTagNames(tagOrSanitizeConfig);\n\n          tags.forEach((tag) => {\n            const sanitizationConfig = _.isObject(tagOrSanitizeConfig) ? tagOrSanitizeConfig[tag] : null;\n\n            result[tag.toLowerCase()] = sanitizationConfig || {};\n          });\n\n          return result;\n        }, {});\n\n        const customConfig = Object.assign({}, toolTags, tool.baseSanitizeConfig);\n\n        /**\n         * A workaround for the HTMLJanitor bug with Tables (incorrect sanitizing of table.innerHTML)\n         * https://github.com/guardian/html-janitor/issues/3\n         */\n        if (content.tagName.toLowerCase() === 'table') {\n          const cleanTableHTML = clean(content.outerHTML, customConfig);\n          const tmpWrapper = $.make('div', undefined, {\n            innerHTML: cleanTableHTML,\n          });\n\n          content = tmpWrapper.firstChild;\n        } else {\n          content.innerHTML = clean(content.innerHTML, customConfig);\n        }\n\n        const event = this.composePasteEvent('tag', {\n          data: content,\n        });\n\n        return {\n          content,\n          isBlock,\n          tool: tool.name,\n          event,\n        };\n      })\n      .filter((data) => {\n        const isEmpty = $.isEmpty(data.content);\n        const isSingleTag = $.isSingleTag(data.content);\n\n        return !isEmpty || isSingleTag;\n      });\n  }\n\n  /**\n   * Split plain text by new line symbols and return it as array of Block data\n   *\n   * @param {string} plain - string to process\n   * @returns {PasteData[]}\n   */\n  private processPlain(plain: string): PasteData[] {\n    const { defaultBlock } = this.config as { defaultBlock: string };\n\n    if (!plain) {\n      return [];\n    }\n\n    const tool = defaultBlock;\n\n    return plain\n      .split(/\\r?\\n/)\n      .filter((text) => text.trim())\n      .map((text) => {\n        const content = $.make('div');\n\n        content.textContent = text;\n\n        const event = this.composePasteEvent('tag', {\n          data: content,\n        });\n\n        return {\n          content,\n          tool,\n          isBlock: false,\n          event,\n        };\n      });\n  }\n\n  /**\n   * Process paste of single Block tool content\n   *\n   * @param {PasteData} dataToInsert - data of Block to insert\n   */\n  private async processSingleBlock(dataToInsert: PasteData): Promise<void> {\n    const { Caret, BlockManager } = this.Editor;\n    const { currentBlock } = BlockManager;\n\n    /**\n     * If pasted tool isn`t equal current Block or if pasted content contains block elements, insert it as new Block\n     */\n    if (\n      !currentBlock ||\n      dataToInsert.tool !== currentBlock.name ||\n      !$.containsOnlyInlineElements(dataToInsert.content.innerHTML)\n    ) {\n      this.insertBlock(dataToInsert, currentBlock?.tool.isDefault && currentBlock.isEmpty);\n\n      return;\n    }\n\n    Caret.insertContentAtCaretPosition(dataToInsert.content.innerHTML);\n  }\n\n  /**\n   * Process paste to single Block:\n   * 1. Find patterns` matches\n   * 2. Insert new block if it is not the same type as current one\n   * 3. Just insert text if there is no substitutions\n   *\n   * @param {PasteData} dataToInsert - data of Block to insert\n   */\n  private async processInlinePaste(dataToInsert: PasteData): Promise<void> {\n    const { BlockManager, Caret } = this.Editor;\n    const { content } = dataToInsert;\n\n    const currentBlockIsDefault = BlockManager.currentBlock && BlockManager.currentBlock.tool.isDefault;\n\n    if (currentBlockIsDefault && content.textContent.length < Paste.PATTERN_PROCESSING_MAX_LENGTH) {\n      const blockData = await this.processPattern(content.textContent);\n\n      if (blockData) {\n        const needToReplaceCurrentBlock = BlockManager.currentBlock &&\n          BlockManager.currentBlock.tool.isDefault &&\n          BlockManager.currentBlock.isEmpty;\n\n        const insertedBlock = BlockManager.paste(blockData.tool, blockData.event, needToReplaceCurrentBlock);\n\n        Caret.setToBlock(insertedBlock, Caret.positions.END);\n\n        return;\n      }\n    }\n\n    /** If there is no pattern substitute - insert string as it is */\n    if (BlockManager.currentBlock && BlockManager.currentBlock.currentInput) {\n      const currentToolSanitizeConfig = BlockManager.currentBlock.tool.baseSanitizeConfig;\n\n      document.execCommand(\n        'insertHTML',\n        false,\n        clean(content.innerHTML, currentToolSanitizeConfig)\n      );\n    } else {\n      this.insertBlock(dataToInsert);\n    }\n  }\n\n  /**\n   * Get patterns` matches\n   *\n   * @param {string} text - text to process\n   * @returns {Promise<{event: PasteEvent, tool: string}>}\n   */\n  private async processPattern(text: string): Promise<{ event: PasteEvent; tool: string }> {\n    const pattern = this.toolsPatterns.find((substitute) => {\n      const execResult = substitute.pattern.exec(text);\n\n      if (!execResult) {\n        return false;\n      }\n\n      return text === execResult.shift();\n    });\n\n    if (!pattern) {\n      return;\n    }\n\n    const event = this.composePasteEvent('pattern', {\n      key: pattern.key,\n      data: text,\n    });\n\n    return {\n      event,\n      tool: pattern.tool.name,\n    };\n  }\n\n  /**\n   * Insert pasted Block content to Editor\n   *\n   * @param {PasteData} data - data to insert\n   * @param {boolean} canReplaceCurrentBlock - if true and is current Block is empty, will replace current Block\n   * @returns {void}\n   */\n  private insertBlock(data: PasteData, canReplaceCurrentBlock = false): void {\n    const { BlockManager, Caret } = this.Editor;\n    const { currentBlock } = BlockManager;\n    let block: Block;\n\n    if (canReplaceCurrentBlock && currentBlock && currentBlock.isEmpty) {\n      block = BlockManager.paste(data.tool, data.event, true);\n      Caret.setToBlock(block, Caret.positions.END);\n\n      return;\n    }\n\n    block = BlockManager.paste(data.tool, data.event);\n\n    Caret.setToBlock(block, Caret.positions.END);\n  }\n\n  /**\n   * Insert data passed as application/x-editor-js JSON\n   *\n   * @param {Array} blocks  Blocks' data to insert\n   * @returns {void}\n   */\n  private insertEditorJSData(blocks: Pick<SavedData, 'id' | 'data' | 'tool'>[]): void {\n    const { BlockManager, Caret, Tools } = this.Editor;\n    const sanitizedBlocks = sanitizeBlocks(blocks, (name) =>\n      Tools.blockTools.get(name).sanitizeConfig\n    );\n\n    sanitizedBlocks.forEach(({ tool, data }, i) => {\n      let needToReplaceCurrentBlock = false;\n\n      if (i === 0) {\n        const isCurrentBlockDefault = BlockManager.currentBlock && BlockManager.currentBlock.tool.isDefault;\n\n        needToReplaceCurrentBlock = isCurrentBlockDefault && BlockManager.currentBlock.isEmpty;\n      }\n\n      const block = BlockManager.insert({\n        tool,\n        data,\n        replace: needToReplaceCurrentBlock,\n      });\n\n      Caret.setToBlock(block, Caret.positions.END);\n    });\n  }\n\n  /**\n   * Fetch nodes from Element node\n   *\n   * @param {Node} node - current node\n   * @param {Node[]} nodes - processed nodes\n   * @param {Node} destNode - destination node\n   */\n  private processElementNode(node: Node, nodes: Node[], destNode: Node): Node[] | void {\n    const tags = Object.keys(this.toolsTags);\n\n    const element = node as HTMLElement;\n\n    const { tool } = this.toolsTags[element.tagName] || {};\n    const toolTags = this.tagsByTool[tool?.name] || [];\n\n    const isSubstitutable = tags.includes(element.tagName);\n    const isBlockElement = $.blockElements.includes(element.tagName.toLowerCase());\n    const containsAnotherToolTags = Array\n      .from(element.children)\n      .some(\n        ({ tagName }) => tags.includes(tagName) && !toolTags.includes(tagName)\n      );\n\n    const containsBlockElements = Array.from(element.children).some(\n      ({ tagName }) => $.blockElements.includes(tagName.toLowerCase())\n    );\n\n    /** Append inline elements to previous fragment */\n    if (!isBlockElement && !isSubstitutable && !containsAnotherToolTags) {\n      destNode.appendChild(element);\n\n      return [...nodes, destNode];\n    }\n\n    if (\n      (isSubstitutable && !containsAnotherToolTags) ||\n      (isBlockElement && !containsBlockElements && !containsAnotherToolTags)\n    ) {\n      return [...nodes, destNode, element];\n    }\n  }\n\n  /**\n   * Recursively divide HTML string to two types of nodes:\n   * 1. Block element\n   * 2. Document Fragments contained text and markup tags like a, b, i etc.\n   *\n   * @param {Node} wrapper - wrapper of paster HTML content\n   * @returns {Node[]}\n   */\n  private getNodes(wrapper: Node): Node[] {\n    const children = Array.from(wrapper.childNodes);\n    let elementNodeProcessingResult: Node[] | void;\n\n    const reducer = (nodes: Node[], node: Node): Node[] => {\n      if ($.isEmpty(node) && !$.isSingleTag(node as HTMLElement)) {\n        return nodes;\n      }\n\n      const lastNode = nodes[nodes.length - 1];\n\n      let destNode: Node = new DocumentFragment();\n\n      if (lastNode && $.isFragment(lastNode)) {\n        destNode = nodes.pop();\n      }\n\n      switch (node.nodeType) {\n        /**\n         * If node is HTML element:\n         * 1. Check if it is inline element\n         * 2. Check if it contains another block or substitutable elements\n         */\n        case Node.ELEMENT_NODE:\n          elementNodeProcessingResult = this.processElementNode(node, nodes, destNode);\n\n          if (elementNodeProcessingResult) {\n            return elementNodeProcessingResult;\n          }\n          break;\n\n        /**\n         * If node is text node, wrap it with DocumentFragment\n         */\n        case Node.TEXT_NODE:\n          destNode.appendChild(node);\n\n          return [...nodes, destNode];\n\n        default:\n          return [...nodes, destNode];\n      }\n\n      return [...nodes, ...Array.from(node.childNodes).reduce(reducer, [])];\n    };\n\n    return children.reduce(reducer, []);\n  }\n\n  /**\n   * Compose paste event with passed type and detail\n   *\n   * @param {string} type - event type\n   * @param {PasteEventDetail} detail - event detail\n   */\n  private composePasteEvent(type: string, detail: PasteEventDetail): PasteEvent {\n    return new CustomEvent(type, {\n      detail,\n    }) as PasteEvent;\n  }\n}\n\n","import Module from '../__module';\nimport { CriticalError } from '../errors/critical';\n\n/**\n * @module ReadOnly\n *\n * Has one important method:\n *    - {Function} toggleReadonly - Set read-only mode or toggle current state\n * @version 1.0.0\n * @typedef {ReadOnly} ReadOnly\n * @property {boolean} readOnlyEnabled - read-only state\n */\nexport default class ReadOnly extends Module {\n  /**\n   * Array of tools name which don't support read-only mode\n   */\n  private toolsDontSupportReadOnly: string[] = [];\n\n  /**\n   * Value to track read-only state\n   *\n   * @type {boolean}\n   */\n  private readOnlyEnabled = false;\n\n  /**\n   * Returns state of read only mode\n   */\n  public get isEnabled(): boolean {\n    return this.readOnlyEnabled;\n  }\n\n  /**\n   * Set initial state\n   */\n  public async prepare(): Promise<void> {\n    const { Tools } = this.Editor;\n    const { blockTools } = Tools;\n    const toolsDontSupportReadOnly: string[] = [];\n\n    Array\n      .from(blockTools.entries())\n      .forEach(([name, tool]) => {\n        if (!tool.isReadOnlySupported) {\n          toolsDontSupportReadOnly.push(name);\n        }\n      });\n\n    this.toolsDontSupportReadOnly = toolsDontSupportReadOnly;\n\n    if (this.config.readOnly && toolsDontSupportReadOnly.length > 0) {\n      this.throwCriticalError();\n    }\n\n    this.toggle(this.config.readOnly);\n  }\n\n  /**\n   * Set read-only mode or toggle current state\n   * Call all Modules `toggleReadOnly` method and re-render Editor\n   *\n   * @param {boolean} state - (optional) read-only state or toggle\n   */\n  public async toggle(state = !this.readOnlyEnabled): Promise<boolean> {\n    if (state && this.toolsDontSupportReadOnly.length > 0) {\n      this.throwCriticalError();\n    }\n\n    const oldState = this.readOnlyEnabled;\n\n    this.readOnlyEnabled = state;\n\n    for (const name in this.Editor) {\n      /**\n       * Verify module has method `toggleReadOnly` method\n       */\n      if (!this.Editor[name].toggleReadOnly) {\n        continue;\n      }\n\n      /**\n       * set or toggle read-only state\n       */\n      this.Editor[name].toggleReadOnly(state);\n    }\n\n    /**\n     * If new state equals old one, do not re-render blocks\n     */\n    if (oldState === state) {\n      return this.readOnlyEnabled;\n    }\n\n    /**\n     * Save current Editor Blocks and render again\n     */\n    const savedBlocks = await this.Editor.Saver.save();\n\n    await this.Editor.BlockManager.clear();\n    await this.Editor.Renderer.render(savedBlocks.blocks);\n\n    return this.readOnlyEnabled;\n  }\n\n  /**\n   * Throws an error about tools which don't support read-only mode\n   */\n  private throwCriticalError(): never {\n    throw new CriticalError(\n      `To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(', ')} don't support read-only mode.`\n    );\n  }\n}\n","/**\n * @class RectangleSelection\n * @classdesc Manages Block selection with mouse\n * @module RectangleSelection\n * @version 1.0.0\n */\nimport Module from '../__module';\nimport $ from '../dom';\n\nimport SelectionUtils from '../selection';\nimport Block from '../block';\nimport * as _ from '../utils';\n\n/**\n *\n */\nexport default class RectangleSelection extends Module {\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  public static get CSS(): {[name: string]: string} {\n    return {\n      overlay: 'codex-editor-overlay',\n      overlayContainer: 'codex-editor-overlay__container',\n      rect: 'codex-editor-overlay__rectangle',\n      topScrollZone: 'codex-editor-overlay__scroll-zone--top',\n      bottomScrollZone: 'codex-editor-overlay__scroll-zone--bottom',\n    };\n  }\n\n  /**\n   * Using the selection rectangle\n   *\n   * @type {boolean}\n   */\n  private isRectSelectionActivated = false;\n\n  /**\n   *  Speed of Scrolling\n   */\n  private readonly SCROLL_SPEED: number = 3;\n\n  /**\n   *  Height of scroll zone on boundary of screen\n   */\n  private readonly HEIGHT_OF_SCROLL_ZONE = 40;\n\n  /**\n   *  Scroll zone type indicators\n   */\n  private readonly BOTTOM_SCROLL_ZONE = 1;\n  private readonly TOP_SCROLL_ZONE = 2;\n\n  /**\n   * Id of main button for event.button\n   */\n  private readonly MAIN_MOUSE_BUTTON = 0;\n\n  /**\n   *  Mouse is clamped\n   */\n  private mousedown = false;\n\n  /**\n   *  Is scrolling now\n   */\n  private isScrolling = false;\n\n  /**\n   *  Mouse is in scroll zone\n   */\n  private inScrollZone: number | null = null;\n\n  /**\n   *  Coords of rect\n   */\n  private startX = 0;\n  private startY = 0;\n  private mouseX = 0;\n  private mouseY = 0;\n\n  /**\n   * Selected blocks\n   */\n  private stackOfSelected: number[] = [];\n\n  /**\n   * Does the rectangle intersect blocks\n   */\n  private rectCrossesBlocks: boolean;\n\n  /**\n   * Selection rectangle\n   */\n  private overlayRectangle: HTMLDivElement;\n\n  /**\n   * Listener identifiers\n   */\n  private listenerIds: string[] = [];\n\n  /**\n   * Module Preparation\n   * Creating rect and hang handlers\n   */\n  public prepare(): void {\n    this.enableModuleBindings();\n  }\n\n  /**\n   * Init rect params\n   *\n   * @param {number} pageX - X coord of mouse\n   * @param {number} pageY - Y coord of mouse\n   */\n  public startSelection(pageX, pageY): void {\n    const elemWhereSelectionStart = document.elementFromPoint(pageX - window.pageXOffset, pageY - window.pageYOffset);\n\n    /**\n     * Don't clear selected block by clicks on the Block settings\n     * because we need to keep highlighting working block\n     */\n    const startsInsideToolbar = elemWhereSelectionStart.closest(`.${this.Editor.Toolbar.CSS.toolbar}`);\n\n    if (!startsInsideToolbar) {\n      this.Editor.BlockSelection.allBlocksSelected = false;\n      this.clearSelection();\n      this.stackOfSelected = [];\n    }\n\n    const selectorsToAvoid = [\n      `.${Block.CSS.content}`,\n      `.${this.Editor.Toolbar.CSS.toolbar}`,\n      `.${this.Editor.InlineToolbar.CSS.inlineToolbar}`,\n    ];\n\n    const startsInsideEditor = elemWhereSelectionStart.closest('.' + this.Editor.UI.CSS.editorWrapper);\n    const startsInSelectorToAvoid = selectorsToAvoid.some((selector) => !!elemWhereSelectionStart.closest(selector));\n\n    /**\n     * If selection starts outside of the editor or inside the blocks or on Editor UI elements, do not handle it\n     */\n    if (!startsInsideEditor || startsInSelectorToAvoid) {\n      return;\n    }\n\n    this.mousedown = true;\n    this.startX = pageX;\n    this.startY = pageY;\n  }\n\n  /**\n   * Clear all params to end selection\n   */\n  public endSelection(): void {\n    this.mousedown = false;\n    this.startX = 0;\n    this.startY = 0;\n    this.overlayRectangle.style.display = 'none';\n  }\n\n  /**\n   * is RectSelection Activated\n   */\n  public isRectActivated(): boolean {\n    return this.isRectSelectionActivated;\n  }\n\n  /**\n   * Mark that selection is end\n   */\n  public clearSelection(): void {\n    this.isRectSelectionActivated = false;\n  }\n\n  /**\n   * Sets Module necessary event handlers\n   */\n  private enableModuleBindings(): void {\n    const { container } = this.genHTML();\n\n    this.listeners.on(container, 'mousedown', (mouseEvent: MouseEvent) => {\n      this.processMouseDown(mouseEvent);\n    }, false);\n\n    this.listeners.on(document.body, 'mousemove', _.throttle((mouseEvent: MouseEvent) => {\n      this.processMouseMove(mouseEvent);\n    // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n    }, 10), {\n      passive: true,\n    });\n\n    this.listeners.on(document.body, 'mouseleave', () => {\n      this.processMouseLeave();\n    });\n\n    this.listeners.on(window, 'scroll', _.throttle((mouseEvent: MouseEvent) => {\n      this.processScroll(mouseEvent);\n    // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n    }, 10), {\n      passive: true,\n    });\n\n    this.listeners.on(document.body, 'mouseup', () => {\n      this.processMouseUp();\n    }, false);\n  }\n\n  /**\n   * Handle mouse down events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  private processMouseDown(mouseEvent: MouseEvent): void {\n    if (mouseEvent.button !== this.MAIN_MOUSE_BUTTON) {\n      return;\n    }\n\n    /**\n     * Do not enable the Rectangle Selection when mouse dragging started some editable input\n     * Used to prevent Rectangle Selection on Block Tune wrappers' inputs that also can be inside the Block\n     */\n    const startedFromContentEditable = (mouseEvent.target as Element).closest($.allInputsSelector) !== null;\n\n    if (!startedFromContentEditable) {\n      this.startSelection(mouseEvent.pageX, mouseEvent.pageY);\n    }\n  }\n\n  /**\n   * Handle mouse move events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  private processMouseMove(mouseEvent: MouseEvent): void {\n    this.changingRectangle(mouseEvent);\n    this.scrollByZones(mouseEvent.clientY);\n  }\n\n  /**\n   * Handle mouse leave\n   */\n  private processMouseLeave(): void {\n    this.clearSelection();\n    this.endSelection();\n  }\n\n  /**\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  private processScroll(mouseEvent: MouseEvent): void {\n    this.changingRectangle(mouseEvent);\n  }\n\n  /**\n   * Handle mouse up\n   */\n  private processMouseUp(): void {\n    this.clearSelection();\n    this.endSelection();\n  }\n\n  /**\n   * Scroll If mouse in scroll zone\n   *\n   * @param {number} clientY - Y coord of mouse\n   */\n  private scrollByZones(clientY): void {\n    this.inScrollZone = null;\n    if (clientY <= this.HEIGHT_OF_SCROLL_ZONE) {\n      this.inScrollZone = this.TOP_SCROLL_ZONE;\n    }\n    if (document.documentElement.clientHeight - clientY <= this.HEIGHT_OF_SCROLL_ZONE) {\n      this.inScrollZone = this.BOTTOM_SCROLL_ZONE;\n    }\n\n    if (!this.inScrollZone) {\n      this.isScrolling = false;\n\n      return;\n    }\n\n    if (!this.isScrolling) {\n      this.scrollVertical(this.inScrollZone === this.TOP_SCROLL_ZONE ? -this.SCROLL_SPEED : this.SCROLL_SPEED);\n      this.isScrolling = true;\n    }\n  }\n\n  /**\n   * Generates required HTML elements\n   *\n   * @returns {Object<string, Element>}\n   */\n  private genHTML(): {container: Element; overlay: Element} {\n    const { UI } = this.Editor;\n\n    const container = UI.nodes.holder.querySelector('.' + UI.CSS.editorWrapper);\n    const overlay = $.make('div', RectangleSelection.CSS.overlay, {});\n    const overlayContainer = $.make('div', RectangleSelection.CSS.overlayContainer, {});\n    const overlayRectangle = $.make('div', RectangleSelection.CSS.rect, {});\n\n    overlayContainer.appendChild(overlayRectangle);\n    overlay.appendChild(overlayContainer);\n    container.appendChild(overlay);\n\n    this.overlayRectangle = overlayRectangle as HTMLDivElement;\n\n    return {\n      container,\n      overlay,\n    };\n  }\n\n  /**\n   * Activates scrolling if blockSelection is active and mouse is in scroll zone\n   *\n   * @param {number} speed - speed of scrolling\n   */\n  private scrollVertical(speed): void {\n    if (!(this.inScrollZone && this.mousedown)) {\n      return;\n    }\n    const lastOffset = window.pageYOffset;\n\n    window.scrollBy(0, speed);\n    this.mouseY += window.pageYOffset - lastOffset;\n    setTimeout(() => {\n      this.scrollVertical(speed);\n    }, 0);\n  }\n\n  /**\n   * Handles the change in the rectangle and its effect\n   *\n   * @param {MouseEvent} event - mouse event\n   */\n  private changingRectangle(event: MouseEvent): void {\n    if (!this.mousedown) {\n      return;\n    }\n\n    if (event.pageY !== undefined) {\n      this.mouseX = event.pageX;\n      this.mouseY = event.pageY;\n    }\n\n    const { rightPos, leftPos, index } = this.genInfoForMouseSelection();\n    // There is not new block in selection\n\n    const rectIsOnRighSideOfredactor = this.startX > rightPos && this.mouseX > rightPos;\n    const rectISOnLeftSideOfRedactor = this.startX < leftPos && this.mouseX < leftPos;\n\n    this.rectCrossesBlocks = !(rectIsOnRighSideOfredactor || rectISOnLeftSideOfRedactor);\n\n    if (!this.isRectSelectionActivated) {\n      this.rectCrossesBlocks = false;\n      this.isRectSelectionActivated = true;\n      this.shrinkRectangleToPoint();\n      this.overlayRectangle.style.display = 'block';\n    }\n\n    this.updateRectangleSize();\n\n    /**\n     * Hide Block Settings Toggler (along with the Toolbar) (if showed) when the Rectangle Selection is activated\n     */\n    this.Editor.Toolbar.close();\n\n    if (index === undefined) {\n      return;\n    }\n\n    this.trySelectNextBlock(index);\n    // For case, when rect is out from blocks\n    this.inverseSelection();\n\n    SelectionUtils.get().removeAllRanges();\n  }\n\n  /**\n   * Shrink rect to singular point\n   */\n  private shrinkRectangleToPoint(): void {\n    this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`;\n    this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`;\n    this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`;\n    this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;\n  }\n\n  /**\n   * Select or unselect all of blocks in array if rect is out or in selectable area\n   */\n  private inverseSelection(): void {\n    const firstBlockInStack = this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]);\n    const isSelectedMode = firstBlockInStack.selected;\n\n    if (this.rectCrossesBlocks && !isSelectedMode) {\n      for (const it of this.stackOfSelected) {\n        this.Editor.BlockSelection.selectBlockByIndex(it);\n      }\n    }\n\n    if (!this.rectCrossesBlocks && isSelectedMode) {\n      for (const it of this.stackOfSelected) {\n        this.Editor.BlockSelection.unSelectBlockByIndex(it);\n      }\n    }\n  }\n\n  /**\n   * Updates size of rectangle\n   */\n  private updateRectangleSize(): void {\n    // Depending on the position of the mouse relative to the starting point,\n    // change this.e distance from the desired edge of the screen*/\n    if (this.mouseY >= this.startY) {\n      this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`;\n      this.overlayRectangle.style.bottom = `calc(100% - ${this.mouseY - window.pageYOffset}px`;\n    } else {\n      this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`;\n      this.overlayRectangle.style.top = `${this.mouseY - window.pageYOffset}px`;\n    }\n\n    if (this.mouseX >= this.startX) {\n      this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`;\n      this.overlayRectangle.style.right = `calc(100% - ${this.mouseX - window.pageXOffset}px`;\n    } else {\n      this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;\n      this.overlayRectangle.style.left = `${this.mouseX - window.pageXOffset}px`;\n    }\n  }\n\n  /**\n   * Collects information needed to determine the behavior of the rectangle\n   *\n   * @returns {object} index - index next Block, leftPos - start of left border of Block, rightPos - right border\n   */\n  private genInfoForMouseSelection(): {index: number; leftPos: number; rightPos: number} {\n    const widthOfRedactor = document.body.offsetWidth;\n    const centerOfRedactor = widthOfRedactor / 2;\n    const Y = this.mouseY - window.pageYOffset;\n    const elementUnderMouse = document.elementFromPoint(centerOfRedactor, Y);\n    const blockInCurrentPos = this.Editor.BlockManager.getBlockByChildNode(elementUnderMouse);\n    let index;\n\n    if (blockInCurrentPos !== undefined) {\n      index = this.Editor.BlockManager.blocks.findIndex((block) => block.holder === blockInCurrentPos.holder);\n    }\n    const contentElement = this.Editor.BlockManager.lastBlock.holder.querySelector('.' + Block.CSS.content);\n    const centerOfBlock = Number.parseInt(window.getComputedStyle(contentElement).width, 10) / 2;\n    const leftPos = centerOfRedactor - centerOfBlock;\n    const rightPos = centerOfRedactor + centerOfBlock;\n\n    return {\n      index,\n      leftPos,\n      rightPos,\n    };\n  }\n\n  /**\n   * Select block with index index\n   *\n   * @param index - index of block in redactor\n   */\n  private addBlockInSelection(index): void {\n    if (this.rectCrossesBlocks) {\n      this.Editor.BlockSelection.selectBlockByIndex(index);\n    }\n    this.stackOfSelected.push(index);\n  }\n\n  /**\n   * Adds a block to the selection and determines which blocks should be selected\n   *\n   * @param {object} index - index of new block in the reactor\n   */\n  private trySelectNextBlock(index): void {\n    const sameBlock = this.stackOfSelected[this.stackOfSelected.length - 1] === index;\n    const sizeStack = this.stackOfSelected.length;\n    const down = 1, up = -1, undef = 0;\n\n    if (sameBlock) {\n      return;\n    }\n\n    const blockNumbersIncrease = this.stackOfSelected[sizeStack - 1] - this.stackOfSelected[sizeStack - 2] > 0;\n\n    let direction = undef;\n\n    if (sizeStack > 1) {\n      direction = blockNumbersIncrease ? down : up;\n    }\n\n    const selectionInDownDirection = index > this.stackOfSelected[sizeStack - 1] && direction === down;\n    const selectionInUpDirection = index < this.stackOfSelected[sizeStack - 1] && direction === up;\n    const generalSelection = selectionInDownDirection || selectionInUpDirection || direction === undef;\n    const reduction = !generalSelection;\n\n    // When the selection is too fast, some blocks do not have time to be noticed. Fix it.\n    if (!reduction && (index > this.stackOfSelected[sizeStack - 1] ||\n      this.stackOfSelected[sizeStack - 1] === undefined)) {\n      let ind = this.stackOfSelected[sizeStack - 1] + 1 || index;\n\n      for (ind; ind <= index; ind++) {\n        this.addBlockInSelection(ind);\n      }\n\n      return;\n    }\n\n    // for both directions\n    if (!reduction && (index < this.stackOfSelected[sizeStack - 1])) {\n      for (let ind = this.stackOfSelected[sizeStack - 1] - 1; ind >= index; ind--) {\n        this.addBlockInSelection(ind);\n      }\n\n      return;\n    }\n\n    if (!reduction) {\n      return;\n    }\n\n    let i = sizeStack - 1;\n    let cmp;\n\n    // cmp for different directions\n    if (index > this.stackOfSelected[sizeStack - 1]) {\n      cmp = (): boolean => index > this.stackOfSelected[i];\n    } else {\n      cmp = (): boolean => index < this.stackOfSelected[i];\n    }\n\n    // Remove blocks missed due to speed.\n    // cmp checks if we have removed all the necessary blocks\n    while (cmp()) {\n      if (this.rectCrossesBlocks) {\n        this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[i]);\n      }\n      this.stackOfSelected.pop();\n      i--;\n    }\n  }\n}\n","import Module from '../__module';\nimport * as _ from '../utils';\nimport type { BlockId, BlockToolData, OutputBlockData } from '../../../types';\nimport type BlockTool from '../tools/block';\nimport type { StubData } from '../../tools/stub';\nimport Block from '../block';\n\n/**\n * Module that responsible for rendering Blocks on editor initialization\n */\nexport default class Renderer extends Module {\n  /**\n   * Renders passed blocks as one batch\n   *\n   * @param blocksData - blocks to render\n   */\n  public async render(blocksData: OutputBlockData[]): Promise<void> {\n    return new Promise((resolve) => {\n      const { Tools, BlockManager } = this.Editor;\n\n      /**\n       * Create Blocks instances\n       */\n      const blocks = blocksData.map(({ type: tool, data, tunes, id }) => {\n        if (Tools.available.has(tool) === false) {\n          _.logLabeled(`Tool ${tool} is not found. Check 'tools' property at the Editor.js config.`, 'warn');\n\n          data = this.composeStubDataForTool(tool, data, id);\n          tool = Tools.stubTool;\n        }\n\n        let block: Block;\n\n        try {\n          block = BlockManager.composeBlock({\n            id,\n            tool,\n            data,\n            tunes,\n          });\n        } catch (error) {\n          _.log(`Block ${tool} skipped because of plugins error`, 'error', {\n            data,\n            error,\n          });\n\n          /**\n           * If tool throws an error during render, we should render stub instead of it\n           */\n          data = this.composeStubDataForTool(tool, data, id);\n          tool = Tools.stubTool;\n\n          block = BlockManager.composeBlock({\n            id,\n            tool,\n            data,\n            tunes,\n          });\n        }\n\n        return block;\n      });\n\n      /**\n       * Insert batch of Blocks\n       */\n      BlockManager.insertMany(blocks);\n\n      /**\n       * Wait till browser will render inserted Blocks and resolve a promise\n       */\n      window.requestIdleCallback(() => {\n        resolve();\n      }, { timeout: 2000 });\n    });\n  }\n\n  /**\n   * Create data for the Stub Tool that will be used instead of unavailable tool\n   *\n   * @param tool - unavailable tool name to stub\n   * @param data - data of unavailable block\n   * @param [id] - id of unavailable block\n   */\n  private composeStubDataForTool(tool: string, data: BlockToolData, id?: BlockId): StubData {\n    const { Tools } = this.Editor;\n\n    let title = tool;\n\n    if (Tools.unavailable.has(tool)) {\n      const toolboxSettings = (Tools.unavailable.get(tool) as BlockTool).toolbox;\n\n      if (toolboxSettings !== undefined && toolboxSettings[0].title !== undefined) {\n        title = toolboxSettings[0].title;\n      }\n    }\n\n    return {\n      savedData: {\n        id,\n        type: tool,\n        data,\n      },\n      title,\n    };\n  }\n}\n","/**\n * Editor.js Saver\n *\n * @module Saver\n * @author Codex Team\n * @version 2.0.0\n */\nimport Module from '../__module';\nimport { OutputData } from '../../../types';\nimport { SavedData, ValidatedData } from '../../../types/data-formats';\nimport Block from '../block';\nimport * as _ from '../utils';\nimport { sanitizeBlocks } from '../utils/sanitizer';\n\ndeclare const VERSION: string;\n\n/**\n * @classdesc This method reduces all Blocks asyncronically and calls Block's save method to extract data\n * @typedef {Saver} Saver\n * @property {Element} html - Editor HTML content\n * @property {string} json - Editor JSON output\n */\nexport default class Saver extends Module {\n  /**\n   * Composes new chain of Promises to fire them alternatelly\n   *\n   * @returns {OutputData}\n   */\n  public async save(): Promise<OutputData> {\n    const { BlockManager, Tools } = this.Editor;\n    const blocks = BlockManager.blocks,\n        chainData = [];\n\n    try {\n      blocks.forEach((block: Block) => {\n        chainData.push(this.getSavedData(block));\n      });\n\n      const extractedData = await Promise.all(chainData) as Array<Pick<SavedData, 'data' | 'tool'>>;\n      const sanitizedData = await sanitizeBlocks(extractedData, (name) => {\n        return Tools.blockTools.get(name).sanitizeConfig;\n      });\n\n      return this.makeOutput(sanitizedData);\n    } catch (e) {\n      _.logLabeled(`Saving failed due to the Error %o`, 'error', e);\n    }\n  }\n\n  /**\n   * Saves and validates\n   *\n   * @param {Block} block - Editor's Tool\n   * @returns {ValidatedData} - Tool's validated data\n   */\n  private async getSavedData(block: Block): Promise<ValidatedData> {\n    const blockData = await block.save();\n    const isValid = blockData && await block.validate(blockData.data);\n\n    return {\n      ...blockData,\n      isValid,\n    };\n  }\n\n  /**\n   * Creates output object with saved data, time and version of editor\n   *\n   * @param {ValidatedData} allExtractedData - data extracted from Blocks\n   * @returns {OutputData}\n   */\n  private makeOutput(allExtractedData): OutputData {\n    const blocks = [];\n\n    allExtractedData.forEach(({ id, tool, data, tunes, isValid }) => {\n      if (!isValid) {\n        _.log(`Block ${tool} skipped because saved data is invalid`);\n\n        return;\n      }\n\n      /** If it was stub Block, get original data */\n      if (tool === this.Editor.Tools.stubTool) {\n        blocks.push(data);\n\n        return;\n      }\n\n      const output = {\n        id,\n        type: tool,\n        data,\n        ...!_.isEmpty(tunes) && {\n          tunes,\n        },\n      };\n\n      blocks.push(output);\n    });\n\n    return {\n      time: +new Date(),\n      blocks,\n      version: VERSION,\n    };\n  }\n}\n","import Module from '../../__module';\nimport $ from '../../dom';\nimport SelectionUtils from '../../selection';\nimport Block from '../../block';\nimport I18n from '../../i18n';\nimport { I18nInternalNS } from '../../i18n/namespace-internal';\nimport Flipper from '../../flipper';\nimport { TunesMenuConfigItem } from '../../../../types/tools';\nimport { resolveAliases } from '../../utils/resolve-aliases';\nimport Popover, { PopoverEvent } from '../../utils/popover';\n\n/**\n * HTML Elements that used for BlockSettings\n */\ninterface BlockSettingsNodes {\n  wrapper: HTMLElement;\n}\n\n/**\n * Block Settings\n *\n *  @todo Make Block Settings no-module but a standalone class, like Toolbox\n */\nexport default class BlockSettings extends Module<BlockSettingsNodes> {\n  /**\n   * Module Events\n   *\n   * @returns {{opened: string, closed: string}}\n   */\n  public get events(): { opened: string; closed: string } {\n    return {\n      opened: 'block-settings-opened',\n      closed: 'block-settings-closed',\n    };\n  }\n\n  /**\n   * Block Settings CSS\n   */\n  public get CSS(): { [name: string]: string } {\n    return {\n      settings: 'ce-settings',\n    };\n  }\n\n  /**\n   * Opened state\n   */\n  public opened = false;\n\n  /**\n   * Getter for inner popover's flipper instance\n   *\n   * @todo remove once BlockSettings becomes standalone non-module class\n   */\n  public get flipper(): Flipper {\n    return this.popover?.flipper;\n  }\n\n  /**\n   * Page selection utils\n   */\n  private selection: SelectionUtils = new SelectionUtils();\n\n  /**\n   * Popover instance. There is a util for vertical lists.\n   */\n  private popover: Popover | undefined;\n\n\n  /**\n   * Panel with block settings with 2 sections:\n   *  - Tool's Settings\n   *  - Default Settings [Move, Remove, etc]\n   */\n  public make(): void {\n    this.nodes.wrapper = $.make('div', [ this.CSS.settings ]);\n  }\n\n  /**\n   * Destroys module\n   */\n  public destroy(): void {\n    this.removeAllNodes();\n  }\n\n  /**\n   * Open Block Settings pane\n   *\n   * @param targetBlock - near which Block we should open BlockSettings\n   */\n  public open(targetBlock: Block = this.Editor.BlockManager.currentBlock): void {\n    this.opened = true;\n\n    /**\n     * If block settings contains any inputs, focus will be set there,\n     * so we need to save current selection to restore it after block settings is closed\n     */\n    this.selection.save();\n\n    /**\n     * Highlight content of a Block we are working with\n     */\n    targetBlock.selected = true;\n    this.Editor.BlockSelection.clearCache();\n\n    /**\n     * Fill Tool's settings\n     */\n    const [tunesItems, customHtmlTunesContainer] = targetBlock.getTunes();\n\n    /** Tell to subscribers that block settings is opened */\n    this.eventsDispatcher.emit(this.events.opened);\n    this.popover = new Popover({\n      searchable: true,\n      items: tunesItems.map(tune => this.resolveTuneAliases(tune)),\n      customContent: customHtmlTunesContainer,\n      customContentFlippableItems: this.getControls(customHtmlTunesContainer),\n      scopeElement: this.Editor.API.methods.ui.nodes.redactor,\n      messages: {\n        nothingFound: I18n.ui(I18nInternalNS.ui.popover, 'Nothing found'),\n        search: I18n.ui(I18nInternalNS.ui.popover, 'Filter'),\n      },\n    });\n\n    this.popover.on(PopoverEvent.Close, this.onPopoverClose);\n\n    this.nodes.wrapper.append(this.popover.getElement());\n\n    this.popover.show();\n  }\n\n  /**\n   * Returns root block settings element\n   */\n  public getElement(): HTMLElement {\n    return this.nodes.wrapper;\n  }\n\n  /**\n   * Close Block Settings pane\n   */\n  public close(): void {\n    this.opened = false;\n\n    /**\n     * If selection is at editor on Block Settings closing,\n     * it means that caret placed at some editable element inside the Block Settings.\n     * Previously we have saved the selection, then open the Block Settings and set caret to the input\n     *\n     * So, we need to restore selection back to Block after closing the Block Settings\n     */\n    if (!SelectionUtils.isAtEditor) {\n      this.selection.restore();\n    }\n\n    this.selection.clearSaved();\n\n    /**\n     * Remove highlighted content of a Block we are working with\n     */\n    if (\n      !this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted &&\n      this.Editor.BlockManager.currentBlock\n    ) {\n      this.Editor.BlockManager.currentBlock.selected = false;\n    }\n\n    /** Tell to subscribers that block settings is closed */\n    this.eventsDispatcher.emit(this.events.closed);\n\n    if (this.popover) {\n      this.popover.off(PopoverEvent.Close, this.onPopoverClose);\n      this.popover.destroy();\n      this.popover.getElement().remove();\n      this.popover = null;\n    }\n  }\n\n  /**\n   * Handles popover close event\n   */\n  private onPopoverClose = (): void => {\n    this.close();\n  };\n\n  /**\n   * Returns list of buttons and inputs inside specified container\n   *\n   * @param container - container to query controls inside of\n   */\n  private getControls(container: HTMLElement): HTMLElement[] {\n    const { StylesAPI } = this.Editor;\n    /** Query buttons and inputs inside tunes html */\n    const controls = container.querySelectorAll<HTMLElement>(\n      `.${StylesAPI.classes.settingsButton}, ${$.allInputsSelector}`\n    );\n\n    return Array.from(controls);\n  }\n\n  /**\n   * Resolves aliases in tunes menu items\n   *\n   * @param item - item with resolved aliases\n   */\n  private resolveTuneAliases(item: TunesMenuConfigItem): TunesMenuConfigItem {\n    const result = resolveAliases(item, { label: 'title' });\n\n    if (item.confirmation) {\n      result.confirmation = this.resolveTuneAliases(item.confirmation);\n    }\n\n    return result;\n  }\n}\n","import Module from \"../../__module\";\nimport $ from \"../../dom\";\nimport * as _ from \"../../utils\";\nimport Flipper from \"../../flipper\";\nimport I18n from \"../../i18n\";\nimport { I18nInternalNS } from \"../../i18n/namespace-internal\";\nimport { ToolboxConfigEntry, BlockToolData } from \"../../../../types\";\n\n/**\n * HTML Elements used for ConversionToolbar\n */\ninterface ConversionToolbarNodes {\n  wrapper: HTMLElement;\n  tools: HTMLElement;\n}\n\n/**\n * Block Converter\n *\n * @todo Make the Conversion Toolbar no-module but a standalone class, like Toolbox\n */\nexport default class ConversionToolbar extends Module<ConversionToolbarNodes> {\n  /**\n   * CSS getter\n   */\n  public static get CSS(): { [key: string]: string } {\n    return {\n      conversionToolbarWrapper: \"ce-conversion-toolbar\",\n      conversionToolbarShowed: \"ce-conversion-toolbar--showed\",\n      conversionToolbarTools: \"ce-conversion-toolbar__tools\",\n      conversionToolbarLabel: \"ce-conversion-toolbar__label\",\n      conversionTool: \"ce-conversion-tool\",\n      conversionToolCurrent: \"ce-conversion-tool--current\",\n      conversionToolIcon: \"ce-conversion-tool__icon\",\n      conversionToolCheckIcon: \"ce-conversion-tool__check-icon\",\n      conversionToolSecondaryLabel: \"ce-conversion-tool__secondary-label\",\n\n      conversionToolFocused: \"ce-conversion-tool--focused\",\n      conversionToolActive: \"ce-conversion-tool--active\",\n    };\n  }\n\n  /**\n   * Conversion Toolbar open/close state\n   *\n   * @type {boolean}\n   */\n  public opened = false;\n\n  /**\n   * Available tools data\n   */\n  private tools: {\n    name: string;\n    toolboxItem: ToolboxConfigEntry;\n    button: HTMLElement;\n  }[] = [];\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   *\n   * @type {Flipper|null}\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Callback that fill be fired on open/close and accepts an opening state\n   */\n  private togglingCallback = null;\n\n  /**\n   * Create UI of Conversion Toolbar\n   */\n  public make(): HTMLElement {\n    this.nodes.wrapper = $.make(\"div\", [\n      ConversionToolbar.CSS.conversionToolbarWrapper,\n      ...(this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []),\n    ]);\n    this.nodes.tools = $.make(\n      \"div\",\n      ConversionToolbar.CSS.conversionToolbarTools\n    );\n\n    const label = $.make(\"div\", ConversionToolbar.CSS.conversionToolbarLabel, {\n      textContent: I18n.ui(\n        I18nInternalNS.ui.inlineToolbar.converter,\n        \"Convert to\"\n      ),\n    });\n\n    /**\n     * Add Tools that has 'import' method\n     */\n    this.addTools();\n\n    /**\n     * Prepare Flipper to be able to leaf tools by arrows/tab\n     */\n    this.enableFlipper();\n\n    $.append(this.nodes.wrapper, label);\n    $.append(this.nodes.wrapper, this.nodes.tools);\n\n    return this.nodes.wrapper;\n  }\n\n  /**\n   * Deactivates flipper and removes all nodes\n   */\n  public destroy(): void {\n    /**\n     * Sometimes (in read-only mode) there is no Flipper\n     */\n    if (this.flipper) {\n      this.flipper.deactivate();\n      this.flipper = null;\n    }\n\n    this.removeAllNodes();\n  }\n\n  /**\n   * Toggle conversion dropdown visibility\n   *\n   * @param {Function} [togglingCallback]  callback that will accept opening state\n   */\n  public toggle(togglingCallback?: (openedState: boolean) => void): void {\n    if (!this.opened) {\n      this.open();\n    } else {\n      this.close();\n    }\n\n    if (_.isFunction(togglingCallback)) {\n      this.togglingCallback = togglingCallback;\n    }\n  }\n\n  /**\n   * Shows Conversion Toolbar\n   */\n  public open(): void {\n    this.filterTools();\n\n    this.opened = true;\n    this.nodes.wrapper.classList.add(\n      ConversionToolbar.CSS.conversionToolbarShowed\n    );\n\n    /**\n     * We use RAF to prevent bubbling Enter keydown on first dropdown item\n     * Conversion flipper will be activated after dropdown will open\n     */\n    window.requestAnimationFrame(() => {\n      this.flipper.activate(\n        this.tools\n          .map((tool) => tool.button)\n          .filter((button) => {\n            return !button.classList.contains(\n              ConversionToolbar.CSS.conversionToolHidden\n            );\n          })\n      );\n      this.flipper.focusFirst();\n      if (_.isFunction(this.togglingCallback)) {\n        this.togglingCallback(true);\n      }\n    });\n  }\n\n  /**\n   * Closes Conversion Toolbar\n   */\n  public close(): void {\n    this.opened = false;\n    this.flipper.deactivate();\n    this.nodes.wrapper.classList.remove(\n      ConversionToolbar.CSS.conversionToolbarShowed\n    );\n\n    if (_.isFunction(this.togglingCallback)) {\n      this.togglingCallback(false);\n    }\n  }\n\n  /**\n   * Returns true if it has more than one tool available for convert in\n   */\n  public hasTools(): boolean {\n    if (this.tools.length === 1) {\n      return this.tools[0].name !== this.config.defaultBlock;\n    }\n\n    return true;\n  }\n\n  /**\n   * Replaces one Block with another\n   * For that Tools must provide import/export methods\n   *\n   * @param {string} replacingToolName - name of Tool which replaces current\n   * @param blockDataOverrides - If this conversion fired by the one of multiple Toolbox items, extend converted data with this item's \"data\" overrides\n   */\n  public async replaceWithBlock(\n    replacingToolName: string,\n    blockDataOverrides?: BlockToolData\n  ): Promise<void> {\n    const { BlockManager, BlockSelection, InlineToolbar, Caret } = this.Editor;\n\n    BlockManager.convert(\n      this.Editor.BlockManager.currentBlock,\n      replacingToolName,\n      blockDataOverrides\n    );\n\n    BlockSelection.clearSelection();\n\n    this.close();\n    InlineToolbar.close();\n\n    window.requestAnimationFrame(() => {\n      Caret.setToBlock(\n        this.Editor.BlockManager.currentBlock,\n        Caret.positions.END\n      );\n    });\n  }\n\n  /**\n   * Iterates existing Tools and inserts to the ConversionToolbar\n   * if tools have ability to import\n   */\n  private addTools(): void {\n    const tools = this.Editor.Tools.blockTools;\n\n    Array.from(tools.entries()).forEach(([name, tool]) => {\n      const conversionConfig = tool.conversionConfig;\n\n      /**\n       * Skip tools without import rule specified\n       */\n      if (!conversionConfig || !conversionConfig.import) {\n        return;\n      }\n      tool.toolbox?.forEach((toolboxItem) =>\n        this.addToolIfValid(name, toolboxItem)\n      );\n    });\n  }\n\n  /**\n   * Inserts a tool to the ConversionToolbar if the tool's toolbox config is valid\n   *\n   * @param name - tool's name\n   * @param toolboxSettings - tool's single toolbox setting\n   */\n  private addToolIfValid(\n    name: string,\n    toolboxSettings: ToolboxConfigEntry\n  ): void {\n    /**\n     * Skip tools that don't pass 'toolbox' property\n     */\n    if (_.isEmpty(toolboxSettings) || !toolboxSettings.icon) {\n      return;\n    }\n\n    this.addTool(name, toolboxSettings);\n  }\n\n  /**\n   * Add tool to the Conversion Toolbar\n   *\n   * @param toolName - name of Tool to add\n   * @param toolboxItem - tool's toolbox item data\n   */\n  private addTool(toolName: string, toolboxItem: ToolboxConfigEntry): void {\n    const tool = $.make(\"div\", [ConversionToolbar.CSS.conversionTool]);\n    const icon = $.make(\"div\", [ConversionToolbar.CSS.conversionToolIcon]);\n\n    // @slid - this check icon is for showing the current tool\n    const checkIcon = $.make(\"div\", [\n      ConversionToolbar.CSS.conversionToolCheckIcon,\n    ]);\n\n    tool.dataset.tool = toolName;\n\n    switch (toolName) {\n      case \"paragraph\":\n        icon.innerHTML = `<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 1C0 0.723858 0.223858 0.5 0.5 0.5H6H11.5C11.7761 0.5 12 0.723858 12 1V2.5C12 2.77614 11.7761 3 11.5 3C11.2238 3 11 2.77614 11 2.5V1.5H6.5V10.5H8.11107C8.38721 10.5 8.61107 10.7239 8.61107 11C8.61107 11.2761 8.38721 11.5 8.11107 11.5H6H3.66663C3.39048 11.5 3.16663 11.2761 3.16663 11C3.16663 10.7239 3.39048 10.5 3.66663 10.5H5.5V1.5H1V2.5C1 2.77614 0.776142 3 0.5 3C0.223858 3 0 2.77614 0 2.5V1Z\" />\n        </svg>`;\n        break;\n\n      case \"header1\":\n        icon.innerHTML = `<svg width=\"13\" height=\"10\" viewBox=\"0 0 13 10\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1 0.5C1 0.223858 0.776142 0 0.5 0C0.223858 0 0 0.223858 0 0.5V9.5C0 9.77614 0.223858 10 0.5 10C0.776142 10 1 9.77614 1 9.5V5.5H7V9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5V0.5C8 0.223858 7.77614 0 7.5 0C7.22386 0 7 0.223858 7 0.5V4.5H1V0.5ZM13 2.5C13 2.3156 12.8985 2.14617 12.7359 2.05916C12.5733 1.97215 12.3761 1.98169 12.2226 2.08398L10.7226 3.08398C10.4929 3.23715 10.4308 3.54759 10.584 3.77735C10.7371 4.00712 11.0476 4.0692 11.2773 3.91603L12 3.43426V9.5C12 9.77614 12.2239 10 12.5 10C12.7761 10 13 9.77614 13 9.5V2.5Z\" /></svg>`;\n        break;\n\n      case \"header2\":\n        icon.innerHTML = `<svg width=\"14\" height=\"10\" viewBox=\"0 0 14 10\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1 0.5C1 0.223858 0.776142 0 0.5 0C0.223858 0 0 0.223858 0 0.5V9.5C0 9.77614 0.223858 10 0.5 10C0.776142 10 1 9.77614 1 9.5V5.5H7V9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5V0.5C8 0.223858 7.77614 0 7.5 0C7.22386 0 7 0.223858 7 0.5V4.5H1V0.5ZM11.5334 4.11564C11.7372 4.00803 11.9718 3.97417 12.1977 4.01976C12.4235 4.06535 12.6268 4.18761 12.773 4.36593C12.9192 4.54426 12.9994 4.76771 13 4.99847L13 4.9995C13.0009 5.19384 12.9438 5.38392 12.8361 5.54544L10.0998 9.20034C9.98629 9.35188 9.96815 9.55451 10.0529 9.7238C10.1376 9.89308 10.3107 10 10.5 10H13.5C13.7761 10 14 9.77614 14 9.5C14 9.22386 13.7761 9 13.5 9H11.499L13.644 6.13492C13.6484 6.12897 13.6528 6.12292 13.6569 6.11678C13.8821 5.78634 14.0017 5.39536 14 4.99551C13.9987 4.53462 13.8385 4.08826 13.5463 3.73187C13.2539 3.37535 12.8475 3.13075 12.3956 3.03953C11.9437 2.94831 11.4741 3.01608 11.0665 3.23136C10.6588 3.44663 10.338 3.79616 10.1583 4.22077C10.0507 4.47507 10.1696 4.76848 10.4239 4.8761C10.6782 4.98373 10.9716 4.86482 11.0792 4.61051C11.1691 4.39805 11.3296 4.22326 11.5334 4.11564Z\" /></svg>`;\n        break;\n\n      case \"header3\":\n        icon.innerHTML = `<svg width=\"14\" height=\"10\" viewBox=\"0 0 14 10\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1 0.5C1 0.223858 0.776142 0 0.5 0C0.223858 0 0 0.223858 0 0.5V9.5C0 9.77614 0.223858 10 0.5 10C0.776142 10 1 9.77614 1 9.5V5.5H7V9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5V0.5C8 0.223858 7.77614 0 7.5 0C7.22386 0 7 0.223858 7 0.5V4.5H1V0.5ZM10.5 3C10.2239 3 10 3.22386 10 3.5C10 3.77614 10.2239 4 10.5 4H12.5397L11.3404 5.71327C11.2335 5.866 11.2204 6.06553 11.3065 6.23089C11.3926 6.39625 11.5635 6.49999 11.75 6.5C11.9555 6.50001 12.1579 6.55072 12.3392 6.64763C12.5205 6.74454 12.675 6.88466 12.7892 7.05558C12.9034 7.2265 12.9737 7.42294 12.9939 7.62751C13.014 7.83208 12.9834 8.03846 12.9047 8.22837C12.8261 8.41827 12.7018 8.58585 12.5429 8.71626C12.384 8.84666 12.1954 8.93587 11.9938 8.97598C11.7922 9.01608 11.5838 9.00585 11.3871 8.94619C11.1904 8.88652 11.0114 8.77927 10.866 8.63393C10.6708 8.43868 10.3542 8.43869 10.1589 8.63396C9.96368 8.82924 9.96369 9.14582 10.159 9.34107C10.4206 9.60269 10.7427 9.79574 11.0968 9.90314C11.4509 10.0105 11.826 10.0289 12.1889 9.95676C12.5518 9.88457 12.8913 9.724 13.1773 9.48927C13.4633 9.25454 13.687 8.9529 13.8286 8.61106C13.9702 8.26922 14.0253 7.89774 13.989 7.52952C13.9528 7.1613 13.8263 6.8077 13.6207 6.50004C13.4152 6.19239 13.1369 5.94017 12.8106 5.76574C12.7404 5.7282 12.6684 5.69451 12.595 5.66475L13.9096 3.78673C14.0165 3.634 14.0296 3.43446 13.9435 3.26909C13.8574 3.10373 13.6864 3 13.5 3H10.5Z\" /></svg>`;\n        break;\n\n      case \"unorderedList\":\n        icon.innerHTML = `<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2 1.5C2 2.05228 1.55228 2.5 1 2.5C0.447715 2.5 0 2.05228 0 1.5C0 0.947715 0.447715 0.5 1 0.5C1.55228 0.5 2 0.947715 2 1.5ZM2 6C2 6.55228 1.55228 7 1 7C0.447715 7 0 6.55228 0 6C0 5.44772 0.447715 5 1 5C1.55228 5 2 5.44772 2 6ZM1 11.5C1.55228 11.5 2 11.0523 2 10.5C2 9.94771 1.55228 9.5 1 9.5C0.447715 9.5 0 9.94771 0 10.5C0 11.0523 0.447715 11.5 1 11.5ZM4.5 1C4.22386 1 4 1.22386 4 1.5C4 1.77614 4.22386 2 4.5 2H11.5C11.7761 2 12 1.77614 12 1.5C12 1.22386 11.7761 1 11.5 1H4.5ZM4 6C4 5.72386 4.22386 5.5 4.5 5.5H11.5C11.7761 5.5 12 5.72386 12 6C12 6.27614 11.7761 6.5 11.5 6.5H4.5C4.22386 6.5 4 6.27614 4 6ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H11.5C11.7761 11 12 10.7761 12 10.5C12 10.2239 11.7761 10 11.5 10H4.5Z\" /></svg>`;\n        break;\n\n      case \"orderedList\":\n        icon.innerHTML = `<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.74245 0.0626789C1.90143 0.150792 2.00007 0.318238 2.00007 0.5V4.5C2.00007 4.77614 1.77621 5 1.50007 5C1.22392 5 1.00007 4.77614 1.00007 4.5V1.40212L0.765066 1.549C0.530898 1.69535 0.222423 1.62417 0.0760678 1.39C-0.0702874 1.15583 0.000899193 0.847356 0.235067 0.701001L1.23507 0.0760011C1.3892 -0.0203329 1.58347 -0.0254338 1.74245 0.0626789ZM4 1.5C4 1.22386 4.22386 1 4.5 1H11.5C11.7761 1 12 1.22386 12 1.5C12 1.77614 11.7761 2 11.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 6C4 5.72386 4.22386 5.5 4.5 5.5H11.5C11.7761 5.5 12 5.72386 12 6C12 6.27614 11.7761 6.5 11.5 6.5H4.5C4.22386 6.5 4 6.27614 4 6ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H11.5C11.7761 11 12 10.7761 12 10.5C12 10.2239 11.7761 10 11.5 10H4.5ZM1.35604 8.02953C1.42178 8.00579 1.49179 7.9962 1.56149 8.00136C1.63119 8.00652 1.69902 8.02632 1.76056 8.05948C1.8221 8.09264 1.87595 8.1384 1.91861 8.19379C1.96126 8.24917 1.99176 8.31294 2.00811 8.38092C2.02388 8.44647 2.02614 8.51453 2.0148 8.58094C2.01397 8.58393 2.01228 8.58991 2.00939 8.59919C2.00337 8.61846 1.99479 8.64356 1.98437 8.6706C1.97388 8.69782 1.96284 8.72363 1.95229 8.74541C1.9471 8.75613 1.9426 8.76467 1.93898 8.77108C1.93556 8.77716 1.93378 8.77982 1.93378 8.77982C1.9232 8.79514 1.91348 8.81103 1.90467 8.82744L0.059498 11.2634C-0.0237152 11.4184 -0.0193906 11.6057 0.0708864 11.7566C0.161163 11.9076 0.324114 12 0.5 12H2.49421C2.77035 12 2.99421 11.7761 2.99421 11.5C2.99421 11.2239 2.77035 11 2.49421 11H1.33604L2.77479 9.32082C2.83921 9.22067 2.88712 9.10899 2.91752 9.0301C2.94992 8.94598 2.9828 8.84533 2.99656 8.7715C3.03512 8.56454 3.02962 8.35178 2.98039 8.14709C2.93117 7.94241 2.83933 7.7504 2.71088 7.58361C2.58242 7.41683 2.42024 7.279 2.23491 7.17914C2.04958 7.07928 1.84528 7.01963 1.63533 7.00409C1.42538 6.98854 1.21452 7.01745 1.0165 7.08893C0.818487 7.16041 0.637775 7.27285 0.486163 7.41891C0.33455 7.56496 0.215443 7.74135 0.136616 7.93656C0.0332176 8.19261 0.156969 8.484 0.413022 8.5874C0.669076 8.6908 0.960469 8.56705 1.06387 8.311C1.09005 8.24617 1.1296 8.18759 1.17995 8.13909C1.23029 8.09059 1.2903 8.05326 1.35604 8.02953Z\" /></svg>`;\n        break;\n\n      case \"blockChecklist\":\n        icon.innerHTML = `<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.86941 0.158694C4.05818 0.360241 4.04782 0.676654 3.84627 0.865422L2.01274 2.8229C1.82026 3.00318 1.52085 3.00297 1.32862 2.82241L0.157681 1.57218C-0.0435939 1.38312 -0.053497 1.0667 0.135562 0.865422C0.32462 0.664148 0.641048 0.654245 0.842322 0.843303L1.67144 1.77246L3.16268 0.135557C3.36423 -0.0532111 3.68064 -0.0428523 3.86941 0.158694ZM5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H11.5C11.7761 2 12 1.77614 12 1.5C12 1.22386 11.7761 1 11.5 1H5.5ZM5.5 5.5C5.22386 5.5 5 5.72386 5 6C5 6.27615 5.22386 6.5 5.5 6.5H11.5C11.7761 6.5 12 6.27615 12 6C12 5.72386 11.7761 5.5 11.5 5.5H5.5ZM5 10.5C5 10.2238 5.22386 9.99999 5.5 9.99999H11.5C11.7761 9.99999 12 10.2238 12 10.5C12 10.7761 11.7761 11 11.5 11H5.5C5.22386 11 5 10.7761 5 10.5ZM3.84627 5.36493C4.04782 5.17617 4.05818 4.85975 3.86941 4.65821C3.68064 4.45666 3.36423 4.4463 3.16268 4.63507L1.67144 6.27197L0.842322 5.34281C0.641048 5.15376 0.32462 5.16366 0.135562 5.36493C-0.053497 5.56621 -0.0435939 5.88264 0.157681 6.07169L1.32862 7.32192C1.52085 7.50248 1.82026 7.50269 2.01274 7.32241L3.84627 5.36493ZM3.84627 9.86542C4.04782 9.67665 4.05818 9.36024 3.86941 9.15869C3.68064 8.95715 3.36423 8.94679 3.16268 9.13556L1.67144 10.7725L0.842322 9.8433C0.641048 9.65424 0.32462 9.66415 0.135562 9.86542C-0.053497 10.0667 -0.0435939 10.3831 0.157681 10.5722L1.32862 11.8224C1.52085 12.003 1.82026 12.0032 2.01274 11.8229L3.84627 9.86542Z\" /></svg>`;\n        break;\n\n      default:\n        icon.innerHTML = toolboxItem.icon;\n    }\n\n    checkIcon.innerHTML = `<svg width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.1919 0.278013C11.5907 0.660142 11.6041 1.29316 11.222 1.69191L5.47199 7.69191C5.09491 8.08539 4.47219 8.10446 4.07172 7.73481L0.821725 4.7348C0.415904 4.3602 0.390598 3.72754 0.765202 3.32172C1.13981 2.9159 1.77246 2.89059 2.17829 3.2652L4.7071 5.59949L9.77802 0.308096C10.1601 -0.090647 10.7932 -0.104116 11.1919 0.278013Z\" /></svg>`;\n\n    $.append(tool, icon);\n    $.append(\n      tool,\n      $.text(\n        I18n.t(\n          I18nInternalNS.toolNames,\n          toolboxItem.title || _.capitalize(toolName)\n        )\n      )\n    );\n    $.append(tool, checkIcon);\n\n    const shortcut = this.Editor.Tools.blockTools.get(toolName)?.shortcut;\n\n    if (shortcut) {\n      const shortcutEl = $.make(\n        \"span\",\n        ConversionToolbar.CSS.conversionToolSecondaryLabel,\n        {\n          innerText: _.beautifyShortcut(shortcut),\n        }\n      );\n\n      $.append(tool, shortcutEl);\n    }\n\n    $.append(this.nodes.tools, tool);\n    this.tools.push({\n      name: toolName,\n      button: tool,\n      toolboxItem: toolboxItem,\n    });\n\n    this.listeners.on(tool, \"click\", async () => {\n      await this.replaceWithBlock(toolName, toolboxItem.data);\n    });\n  }\n\n  /**\n   * Get current tool button and add icon\n   */\n  private async filterTools(): Promise<void> {\n    const { currentBlock } = this.Editor.BlockManager;\n    const currentBlockActiveToolboxEntry =\n      await currentBlock.getActiveToolboxEntry();\n\n    /**\n     * Compares two Toolbox entries\n     *\n     * @param entry1 - entry to compare\n     * @param entry2 - entry to compare with\n     */\n    function isTheSameToolboxEntry(entry1, entry2): boolean {\n      return entry1.icon === entry2.icon && entry1.title === entry2.title;\n    }\n\n    this.tools.forEach((tool) => {\n      let hidden = false;\n\n      if (currentBlockActiveToolboxEntry) {\n        const isToolboxItemActive = isTheSameToolboxEntry(\n          currentBlockActiveToolboxEntry,\n          tool.toolboxItem\n        );\n\n        hidden =\n          tool.button.dataset.tool === currentBlock.name && isToolboxItemActive;\n      }\n\n      // @slid - in Slid editor, we do not hide the current tool but display it with check icon\n      // tool.button.hidden = hidden;\n      tool.button.classList.toggle(\n        ConversionToolbar.CSS.conversionToolCurrent,\n        hidden\n      );\n    });\n  }\n\n  /**\n   * Prepare Flipper to be able to leaf tools by arrows/tab\n   */\n  private enableFlipper(): void {\n    this.flipper = new Flipper({\n      focusedItemClass: ConversionToolbar.CSS.conversionToolFocused,\n    });\n  }\n}\n","import Module from \"../../__module\";\nimport $ from \"../../dom\";\nimport * as _ from \"../../utils\";\nimport I18n from \"../../i18n\";\nimport { I18nInternalNS } from \"../../i18n/namespace-internal\";\nimport Tooltip from \"../../utils/tooltip\";\nimport { ModuleConfig } from \"../../../types-internal/module-config\";\nimport Block from \"../../block\";\nimport Toolbox, { ToolboxEvent } from \"../../ui/toolbox\";\nimport { BlockHovered } from \"../../events/BlockHovered\";\n// @slid - replace plus and menu icon with slid's icons\n// import { IconMenu, IconPlus } from '@codexteam/icons';\n\nconst IconMenu = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g transform=\"translate(4 1.5)\" fill-rule=\"evenodd\"><circle cx=\"1.3\" cy=\"1.3\" r=\"1.3\"/><circle cx=\"6.5\" cy=\"1.3\" r=\"1.3\"/><circle cx=\"6.5\" cy=\"6.5\" r=\"1.3\"/><circle cx=\"1.3\" cy=\"6.5\" r=\"1.3\"/><circle cx=\"6.5\" cy=\"11.7\" r=\"1.3\"/><circle cx=\"1.3\" cy=\"11.7\" r=\"1.3\"/></g></svg>`;\n\nconst IconPlus = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g transform=\"translate(1 1.5)\" fill-rule=\"evenodd\"><rect x=\"6\" width=\"2\" height=\"13\" rx=\"1\"/><rect x=\".5\" y=\"5.5\" width=\"13\" height=\"2\" rx=\"1\"/></g></svg>`;\n\n/**\n * @todo Tab on non-empty block should open Block Settings of the hoveredBlock (not where caret is set)\n *          - make Block Settings a standalone module\n * @todo - Keyboard-only mode bug:\n *         press Tab, flip to the Checkbox. press Enter (block will be added), Press Tab\n *         (Block Tunes will be opened with Move up focused), press Enter, press Tab  both Block Tunes and Toolbox will be opened\n * @todo TEST CASE - show toggler after opening and closing the Inline Toolbar\n * @todo TEST CASE - Click outside Editor holder should close Toolbar and Clear Focused blocks\n * @todo TEST CASE - Click inside Editor holder should close Toolbar and Clear Focused blocks\n * @todo TEST CASE - Click inside Redactor zone when Block Settings are opened:\n *                  - should close Block Settings\n *                  - should not close Toolbar\n *                  - should move Toolbar to the clicked Block\n * @todo TEST CASE - Toolbar should be closed on the Cross Block Selection\n * @todo TEST CASE - Toolbar should be closed on the Rectangle Selection\n * @todo TEST CASE - If Block Settings or Toolbox are opened, the Toolbar should not be moved by Bocks hovering\n */\n\n/**\n * HTML Elements used for Toolbar UI\n */\ninterface ToolbarNodes {\n  wrapper: HTMLElement;\n  content: HTMLElement;\n  actions: HTMLElement;\n\n  plusButton: HTMLElement;\n  settingsToggler: HTMLElement;\n}\n/**\n *\n * Toolbar is the node that moves up/down over current block\n *\n *  ______________________________________ Toolbar ____________________________________________\n * |                                                                                           |\n * |  ..................... Content .........................................................  |\n * |  .                                                   ........ Block Actions ...........   |\n * |  .                                                   .        [Open Settings]         .   |\n * |  .  [Plus Button]  [Toolbox: {Tool1}, {Tool2}]       .                                .   |\n * |  .                                                   .        [Settings Panel]        .   |\n * |  .                                                   ..................................   |\n * |  .......................................................................................  |\n * |                                                                                           |\n * |___________________________________________________________________________________________|\n *\n *\n * Toolbox  its an Element contains tools buttons. Can be shown by Plus Button.\n *\n *  _______________ Toolbox _______________\n * |                                       |\n * | [Header] [Image] [List] [Quote] ...   |\n * |_______________________________________|\n *\n *\n * Settings Panel  is an Element with block settings:\n *\n *   ____ Settings Panel ____\n *  | ...................... |\n *  | .   Tool Settings    . |\n *  | ...................... |\n *  | .  Default Settings  . |\n *  | ...................... |\n *  |________________________|\n *\n *\n * @class\n * @classdesc Toolbar module\n * @typedef {Toolbar} Toolbar\n * @property {object} nodes - Toolbar nodes\n * @property {Element} nodes.wrapper        - Toolbar main element\n * @property {Element} nodes.content        - Zone with Plus button and toolbox.\n * @property {Element} nodes.actions        - Zone with Block Settings and Remove Button\n * @property {Element} nodes.blockActionsButtons   - Zone with Block Buttons: [Settings]\n * @property {Element} nodes.plusButton     - Button that opens or closes Toolbox\n * @property {Element} nodes.toolbox        - Container for tools\n * @property {Element} nodes.settingsToggler - open/close Settings Panel button\n * @property {Element} nodes.settings          - Settings Panel\n * @property {Element} nodes.pluginSettings    - Plugin Settings section of Settings Panel\n * @property {Element} nodes.defaultSettings   - Default Settings section of Settings Panel\n */\nexport default class Toolbar extends Module<ToolbarNodes> {\n  /**\n   * Tooltip utility Instance\n   */\n  private tooltip: Tooltip;\n\n  /**\n   * Block near which we display the Toolbox\n   */\n  private hoveredBlock: Block;\n\n  /**\n   * Toolbox class instance\n   * It will be created in requestIdleCallback so it can be null in some period of time\n   */\n  private toolboxInstance: Toolbox | null = null;\n\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    super({\n      config,\n      eventsDispatcher,\n    });\n    this.tooltip = new Tooltip();\n  }\n\n  /**\n   * CSS styles\n   *\n   * @returns {object}\n   */\n  public get CSS(): { [name: string]: string } {\n    return {\n      toolbar: \"ce-toolbar\",\n      content: \"ce-toolbar__content\",\n      actions: \"ce-toolbar__actions\",\n      actionsOpened: \"ce-toolbar__actions--opened\",\n\n      toolbarOpened: \"ce-toolbar--opened\",\n      openedToolboxHolderModifier: \"codex-editor--toolbox-opened\",\n\n      plusButton: \"ce-toolbar__plus\",\n      plusButtonShortcut: \"ce-toolbar__plus-shortcut\",\n      settingsToggler: \"ce-toolbar__settings-btn\",\n      settingsTogglerHidden: \"ce-toolbar__settings-btn--hidden\",\n    };\n  }\n\n  /**\n   * Returns the Toolbar opening state\n   *\n   * @returns {boolean}\n   */\n  public get opened(): boolean {\n    return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened);\n  }\n\n  /**\n   * Public interface for accessing the Toolbox\n   */\n  public get toolbox(): {\n    opened: boolean | undefined; // undefined is for the case when Toolbox is not initialized yet\n    close: () => void;\n    open: () => void;\n    toggle: () => void;\n    hasFocus: () => boolean | undefined;\n  } {\n    return {\n      opened: this.toolboxInstance?.opened,\n      close: () => {\n        this.toolboxInstance?.close();\n      },\n      open: () => {\n        /**\n         * If Toolbox is not initialized yet, do nothing\n         */\n        if (this.toolboxInstance === null) {\n          _.log(\n            \"toolbox.open() called before initialization is finished\",\n            \"warn\"\n          );\n\n          return;\n        }\n\n        /**\n         * Set current block to cover the case when the Toolbar showed near hovered Block but caret is set to another Block.\n         */\n        this.Editor.BlockManager.currentBlock = this.hoveredBlock;\n\n        this.toolboxInstance.open();\n      },\n      toggle: () => {\n        /**\n         * If Toolbox is not initialized yet, do nothing\n         */\n        if (this.toolboxInstance === null) {\n          _.log(\n            \"toolbox.toggle() called before initialization is finished\",\n            \"warn\"\n          );\n\n          return;\n        }\n\n        this.toolboxInstance.toggle();\n      },\n      hasFocus: () => this.toolboxInstance?.hasFocus(),\n    };\n  }\n\n  /**\n   * Block actions appearance manipulations\n   */\n  private get blockActions(): { hide: () => void; show: () => void } {\n    return {\n      hide: (): void => {\n        this.nodes.actions.classList.remove(this.CSS.actionsOpened);\n      },\n      show: (): void => {\n        this.nodes.actions.classList.add(this.CSS.actionsOpened);\n      },\n    };\n  }\n\n  /**\n   * Methods for working with Block Tunes toggler\n   */\n  private get blockTunesToggler(): { hide: () => void; show: () => void } {\n    return {\n      hide: (): void =>\n        this.nodes.settingsToggler.classList.add(\n          this.CSS.settingsTogglerHidden\n        ),\n      show: (): void =>\n        this.nodes.settingsToggler.classList.remove(\n          this.CSS.settingsTogglerHidden\n        ),\n    };\n  }\n\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      window.requestIdleCallback(\n        () => {\n          this.drawUI();\n          this.enableModuleBindings();\n        },\n        { timeout: 2000 }\n      );\n    } else {\n      this.destroy();\n      this.Editor.BlockSettings.destroy();\n      this.disableModuleBindings();\n    }\n  }\n\n  /**\n   * Move Toolbar to the passed (or current) Block\n   *\n   * @param block - block to move Toolbar near it\n   */\n  public moveAndOpen(\n    block: Block = this.Editor.BlockManager.currentBlock\n  ): void {\n    /**\n     * Some UI elements creates inside requestIdleCallback, so the can be not ready yet\n     */\n    if (this.toolboxInstance === null) {\n      _.log(\n        \"Can't open Toolbar since Editor initialization is not finished yet\",\n        \"warn\"\n      );\n\n      return;\n    }\n\n    /**\n     * Close Toolbox when we move toolbar\n     */\n    if (this.toolboxInstance.opened) {\n      this.toolboxInstance.close();\n    }\n\n    if (this.Editor.BlockSettings.opened) {\n      this.Editor.BlockSettings.close();\n    }\n\n    /**\n     * If no one Block selected as a Current\n     */\n    if (!block) {\n      return;\n    }\n\n    this.hoveredBlock = block;\n\n    const targetBlockHolder = block.holder;\n    const { isMobile } = this.Editor.UI;\n    const renderedContent = block.pluginsContent;\n    const renderedContentStyle = window.getComputedStyle(renderedContent);\n    const blockRenderedElementPaddingTop = parseInt(\n      renderedContentStyle.paddingTop,\n      10\n    );\n    const blockHeight = targetBlockHolder.offsetHeight;\n\n    let toolbarY;\n\n    /**\n     * On mobile  Toolbar at the bottom of Block\n     * On Desktop  Toolbar should be moved to the first line of block text\n     *              To do that, we compute the block offset and the padding-top of the plugin content\n     */\n    if (isMobile) {\n      toolbarY = targetBlockHolder.offsetTop + blockHeight;\n    } else {\n      toolbarY = targetBlockHolder.offsetTop + blockRenderedElementPaddingTop;\n    }\n\n    /**\n     * Move Toolbar to the Top coordinate of Block\n     */\n    this.nodes.wrapper.style.top = `${Math.floor(toolbarY)}px`;\n\n    /**\n     * Do not show Block Tunes Toggler near single and empty block\n     */\n    if (this.Editor.BlockManager.blocks.length === 1 && block.isEmpty) {\n      this.blockTunesToggler.hide();\n    } else {\n      this.blockTunesToggler.show();\n    }\n\n    this.open();\n  }\n\n  /**\n   * Close the Toolbar\n   */\n  public close(): void {\n    if (this.Editor.ReadOnly.isEnabled) {\n      return;\n    }\n\n    this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened);\n\n    /** Close components */\n    this.blockActions.hide();\n    this.toolboxInstance?.close();\n    this.Editor.BlockSettings.close();\n  }\n\n  /**\n   * Open Toolbar with Plus Button and Actions\n   *\n   * @param {boolean} withBlockActions - by default, Toolbar opens with Block Actions.\n   *                                     This flag allows to open Toolbar without Actions.\n   */\n  private open(withBlockActions = true): void {\n    _.delay(() => {\n      this.nodes.wrapper.classList.add(this.CSS.toolbarOpened);\n\n      if (withBlockActions) {\n        this.blockActions.show();\n      } else {\n        this.blockActions.hide();\n      }\n      // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n    }, 50)();\n  }\n\n  /**\n   * Draws Toolbar elements\n   */\n  private make(): void {\n    this.nodes.wrapper = $.make(\"div\", this.CSS.toolbar);\n    /**\n     * @todo detect test environment and add data-cy=\"toolbar\" to use it in tests instead of class name\n     */\n\n    /**\n     * Make Content Zone and Actions Zone\n     */\n    [\"content\", \"actions\"].forEach((el) => {\n      this.nodes[el] = $.make(\"div\", this.CSS[el]);\n    });\n\n    /**\n     * Actions will be included to the toolbar content so we can align in to the right of the content\n     */\n    $.append(this.nodes.wrapper, this.nodes.content);\n    $.append(this.nodes.content, this.nodes.actions);\n\n    /**\n     * Fill Content Zone:\n     *  - Plus Button\n     *  - Toolbox\n     */\n    this.nodes.plusButton = $.make(\"div\", this.CSS.plusButton, {\n      innerHTML: IconPlus,\n    });\n    $.append(this.nodes.actions, this.nodes.plusButton);\n\n    this.readOnlyMutableListeners.on(\n      this.nodes.plusButton,\n      \"click\",\n      () => {\n        this.tooltip.hide(true);\n        this.plusButtonClicked();\n      },\n      false\n    );\n\n    /**\n     * Add events to show/hide tooltip for plus button\n     */\n    const tooltipContent = $.make(\"div\");\n\n    tooltipContent.appendChild(\n      document.createTextNode(I18n.ui(I18nInternalNS.ui.toolbar.toolbox, \"Add\"))\n    );\n    tooltipContent.appendChild(\n      $.make(\"div\", this.CSS.plusButtonShortcut, {\n        textContent: \" Tab\",\n      })\n    );\n\n    this.tooltip.onHover(this.nodes.plusButton, tooltipContent, {\n      hidingDelay: 400,\n    });\n\n    /**\n     * Fill Actions Zone:\n     *  - Settings Toggler\n     *  - Remove Block Button\n     *  - Settings Panel\n     */\n    this.nodes.settingsToggler = $.make(\"span\", this.CSS.settingsToggler, {\n      innerHTML: IconMenu,\n    });\n\n    $.append(this.nodes.actions, this.nodes.settingsToggler);\n\n    this.tooltip.onHover(\n      this.nodes.settingsToggler,\n      I18n.ui(I18nInternalNS.ui.blockTunes.toggler, \"Click to tune\"),\n      {\n        hidingDelay: 400,\n      }\n    );\n\n    /**\n     * Appending Toolbar components to itself\n     */\n    $.append(this.nodes.actions, this.makeToolbox());\n    $.append(this.nodes.actions, this.Editor.BlockSettings.getElement());\n\n    /**\n     * Append toolbar to the Editor\n     */\n    $.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n  }\n\n  /**\n   * Creates the Toolbox instance and return it's rendered element\n   */\n  private makeToolbox(): Element {\n    /**\n     * Make the Toolbox\n     */\n    this.toolboxInstance = new Toolbox({\n      api: this.Editor.API.methods,\n      tools: this.Editor.Tools.blockTools,\n      i18nLabels: {\n        filter: I18n.ui(I18nInternalNS.ui.popover, \"Filter\"),\n        nothingFound: I18n.ui(I18nInternalNS.ui.popover, \"Nothing found\"),\n      },\n    });\n\n    this.toolboxInstance.on(ToolboxEvent.Opened, () => {\n      this.Editor.UI.nodes.wrapper.classList.add(\n        this.CSS.openedToolboxHolderModifier\n      );\n    });\n\n    this.toolboxInstance.on(ToolboxEvent.Closed, () => {\n      this.Editor.UI.nodes.wrapper.classList.remove(\n        this.CSS.openedToolboxHolderModifier\n      );\n    });\n\n    this.toolboxInstance.on(ToolboxEvent.BlockAdded, ({ block }) => {\n      const { BlockManager, Caret } = this.Editor;\n      const newBlock = BlockManager.getBlockById(block.id);\n\n      /**\n       * If the new block doesn't contain inputs, insert the new paragraph below\n       */\n      if (newBlock.inputs.length === 0) {\n        if (newBlock === BlockManager.lastBlock) {\n          BlockManager.insertAtEnd();\n          Caret.setToBlock(BlockManager.lastBlock);\n        } else {\n          Caret.setToBlock(BlockManager.nextBlock);\n        }\n      }\n    });\n\n    return this.toolboxInstance.make();\n  }\n\n  /**\n   * Handler for Plus Button\n   */\n  private plusButtonClicked(): void {\n    /**\n     * We need to update Current Block because user can click on the Plus Button (thanks to appearing by hover) without any clicks on editor\n     * In this case currentBlock will point last block\n     */\n    this.Editor.BlockManager.currentBlock = this.hoveredBlock;\n\n    this.toolboxInstance?.toggle();\n  }\n\n  /**\n   * Enable bindings\n   */\n  private enableModuleBindings(): void {\n    /**\n     * Settings toggler\n     *\n     * mousedown is used because on click selection is lost in Safari and FF\n     */\n    this.readOnlyMutableListeners.on(\n      this.nodes.settingsToggler,\n      \"mousedown\",\n      (e) => {\n        /**\n         * Stop propagation to prevent block selection clearance\n         *\n         * @see UI.documentClicked\n         */\n        e.stopPropagation();\n\n        this.settingsTogglerClicked();\n\n        if (this.toolboxInstance?.opened) {\n          this.toolboxInstance.close();\n        }\n\n        this.tooltip.hide(true);\n      },\n      true\n    );\n\n    /**\n     * Subscribe to the 'block-hovered' event if current view is not mobile\n     *\n     * @see https://github.com/codex-team/editor.js/issues/1972\n     */\n    if (!_.isMobileScreen()) {\n      /**\n       * Subscribe to the 'block-hovered' event\n       */\n      this.eventsDispatcher.on(BlockHovered, (data) => {\n        /**\n         * Do not move toolbar if Block Settings or Toolbox opened\n         */\n        if (this.Editor.BlockSettings.opened || this.toolboxInstance?.opened) {\n          return;\n        }\n\n        this.moveAndOpen(data.block);\n      });\n    }\n  }\n\n  /**\n   * Disable bindings\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Clicks on the Block Settings toggler\n   */\n  private settingsTogglerClicked(): void {\n    /**\n     * We need to update Current Block because user can click on toggler (thanks to appearing by hover) without any clicks on editor\n     * In this case currentBlock will point last block\n     */\n    this.Editor.BlockManager.currentBlock = this.hoveredBlock;\n\n    if (this.Editor.BlockSettings.opened) {\n      this.Editor.BlockSettings.close();\n    } else {\n      this.Editor.BlockSettings.open(this.hoveredBlock);\n    }\n  }\n\n  /**\n   * Draws Toolbar UI\n   *\n   * Toolbar contains BlockSettings and Toolbox.\n   * That's why at first we draw its components and then Toolbar itself\n   *\n   * Steps:\n   *  - Make Toolbar dependent components like BlockSettings, Toolbox and so on\n   *  - Make itself and append dependent nodes to itself\n   *\n   */\n  private drawUI(): void {\n    /**\n     * Make BlockSettings Panel\n     */\n    this.Editor.BlockSettings.make();\n\n    /**\n     * Make Toolbar\n     */\n    this.make();\n  }\n\n  /**\n   * Removes all created and saved HTMLElements\n   * It is used in Read-Only mode\n   */\n  private destroy(): void {\n    this.removeAllNodes();\n    if (this.toolboxInstance) {\n      this.toolboxInstance.destroy();\n    }\n    this.tooltip.destroy();\n  }\n}\n","/* eslint-disable @typescript-eslint/no-magic-numbers */\nimport Module from '../../__module';\nimport $ from '../../dom';\nimport SelectionUtils from '../../selection';\nimport * as _ from '../../utils';\nimport { InlineTool as IInlineTool } from '../../../../types';\nimport Flipper from '../../flipper';\nimport I18n from '../../i18n';\nimport { I18nInternalNS } from '../../i18n/namespace-internal';\nimport Shortcuts from '../../utils/shortcuts';\nimport Tooltip from '../../utils/tooltip';\nimport { ModuleConfig } from '../../../types-internal/module-config';\nimport InlineTool from '../../tools/inline';\nimport { CommonInternalSettings } from '../../tools/base';\n// import { IconChevronDown } from '@codexteam/icons';\n// toggler-down.svg\nconst IconChevronDown = `<svg width=\"8\" height=\"4\" viewBox=\"0 0 8 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M1.35355 0.146447C1.15829 -0.0488155 0.841709 -0.0488155 0.646447 0.146447C0.451184 0.341709 0.451184 0.658291 0.646447 0.853553L1.35355 0.146447ZM4 3.5L3.64645 3.85355C3.84171 4.04882 4.15829 4.04882 4.35355 3.85355L4 3.5ZM7.35355 0.853553C7.54882 0.658291 7.54882 0.341709 7.35355 0.146447C7.15829 -0.0488155 6.84171 -0.0488155 6.64645 0.146447L7.35355 0.853553ZM0.646447 0.853553L3.64645 3.85355L4.35355 3.14645L1.35355 0.146447L0.646447 0.853553ZM4.35355 3.85355L7.35355 0.853553L6.64645 0.146447L3.64645 3.14645L4.35355 3.85355Z\" fill=\"#ADB5BD\"/>\n</svg>`;\n\n\n/**\n * Inline Toolbar elements\n */\ninterface InlineToolbarNodes {\n  wrapper: HTMLElement;\n  togglerAndButtonsWrapper: HTMLElement;\n  buttons: HTMLElement;\n  conversionToggler: HTMLElement;\n  conversionTogglerContent: HTMLElement;\n  /**\n   * Zone below the buttons where Tools can create additional actions by 'renderActions()' method\n   * For example, input for the 'link' tool or textarea for the 'comment' tool\n   */\n  actions: HTMLElement;\n}\n\n/**\n * Inline toolbar with actions that modifies selected text fragment\n *\n * ||\n * |   B  i [link] [mark]   |\n * |________________________|\n */\nexport default class InlineToolbar extends Module<InlineToolbarNodes> {\n  /**\n   * CSS styles\n   */\n  public CSS = {\n    inlineToolbar: 'ce-inline-toolbar',\n    inlineToolbarShowed: 'ce-inline-toolbar--showed',\n    inlineToolbarLeftOriented: 'ce-inline-toolbar--left-oriented',\n    inlineToolbarRightOriented: 'ce-inline-toolbar--right-oriented',\n    inlineToolbarShortcut: 'ce-inline-toolbar__shortcut',\n    buttonsWrapper: 'ce-inline-toolbar__buttons',\n    actionsWrapper: 'ce-inline-toolbar__actions',\n    inlineToolButton: 'ce-inline-tool',\n    inputField: 'cdx-input',\n    focusedButton: 'ce-inline-tool--focused',\n    conversionToggler: 'ce-inline-toolbar__dropdown',\n    conversionTogglerArrow: 'ce-inline-toolbar__dropdown-arrow',\n    conversionTogglerHidden: 'ce-inline-toolbar__dropdown--hidden',\n    conversionTogglerContent: 'ce-inline-toolbar__dropdown-content',\n    togglerAndButtonsWrapper: 'ce-inline-toolbar__toggler-and-button-wrapper',\n  };\n\n  /**\n   * State of inline toolbar\n   *\n   * @type {boolean}\n   */\n  public opened = false;\n\n  /**\n   * Margin above/below the Toolbar\n   */\n  // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n  private readonly toolbarVerticalMargin: number = _.isMobileScreen() ? 20 : 6;\n\n  /**\n   * TODO: Get rid of this\n   *\n   * Currently visible tools instances\n   */\n  private toolsInstances: Map<string, IInlineTool>;\n\n  /**\n   * Buttons List\n   *\n   * @type {NodeList}\n   */\n  private buttonsList: NodeList = null;\n\n  /**\n   * Cache for Inline Toolbar width\n   *\n   * @type {number}\n   */\n  private width = 0;\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Tooltip utility Instance\n   */\n  private tooltip: Tooltip;\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    super({\n      config,\n      eventsDispatcher,\n    });\n    this.tooltip = new Tooltip();\n  }\n\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      window.requestIdleCallback(() => {\n        this.make();\n      }, { timeout: 2000 });\n    } else {\n      this.destroy();\n      this.Editor.ConversionToolbar.destroy();\n    }\n  }\n\n  /**\n   *  Moving / appearance\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n\n  /**\n   * Shows Inline Toolbar if something is selected\n   *\n   * @param [needToClose] - pass true to close toolbar if it is not allowed.\n   *                                  Avoid to use it just for closing IT, better call .close() clearly.\n   * @param [needToShowConversionToolbar] - pass false to not to show Conversion Toolbar\n   */\n  public tryToShow(\n    needToClose = false,\n    needToShowConversionToolbar = true\n  ): void {\n    if (!this.allowedToShow()) {\n      if (needToClose) {\n        this.close();\n      }\n\n      return;\n    }\n\n    this.move();\n    this.open(needToShowConversionToolbar);\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * Move Toolbar to the selected text\n   */\n  public move(): void {\n    const selectionRect = SelectionUtils.rect as DOMRect;\n    const wrapperOffset = this.Editor.UI.nodes.wrapper.getBoundingClientRect();\n    const newCoords = {\n      x: selectionRect.x - wrapperOffset.left + 145,\n      y: selectionRect.y - wrapperOffset.top - 40,\n    };\n\n    const toolbarWidth =\n      document.getElementsByClassName('ce-inline-toolbar')[0].clientWidth;\n\n    const blockOffset = document\n      .getElementsByClassName('ce-block__content')[0]\n      .getBoundingClientRect();\n\n    if (\n      blockOffset.width < 650 &&\n      wrapperOffset.right - selectionRect.x < toolbarWidth\n    ) {\n      newCoords.x =\n        newCoords.x - (toolbarWidth - (wrapperOffset.right - selectionRect.x));\n    } else if (\n      blockOffset.width >= 650 &&\n      blockOffset.right - selectionRect.x < toolbarWidth\n    ) {\n      newCoords.x -= toolbarWidth - (blockOffset.right - selectionRect.x);\n    }\n\n    this.nodes.wrapper.style.left = Math.floor(newCoords.x) + 'px';\n\n    this.nodes.wrapper.style.top = Math.floor(newCoords.y) + 'px';\n  }\n\n  /**\n   * Hides Inline Toolbar\n   */\n  public close(): void {\n    if (!this.opened) {\n      return;\n    }\n\n    if (this.Editor.ReadOnly.isEnabled) {\n      return;\n    }\n\n    this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed);\n    Array.from(this.toolsInstances.entries()).forEach(\n      ([name, toolInstance]) => {\n        const shortcut = this.getToolShortcut(name);\n\n        if (shortcut) {\n          Shortcuts.remove(this.Editor.UI.nodes.redactor, shortcut);\n        }\n\n        /**\n         * @todo replace 'clear' with 'destroy'\n         */\n        if (_.isFunction(toolInstance.clear)) {\n          toolInstance.clear();\n        }\n      }\n    );\n\n    this.opened = false;\n\n    this.flipper.deactivate();\n    this.Editor.ConversionToolbar.close();\n  }\n\n  /**\n   * Shows Inline Toolbar\n   *\n   * @param [needToShowConversionToolbar] - pass false to not to show Conversion Toolbar\n   */\n  public open(needToShowConversionToolbar = true): void {\n    if (this.opened) {\n      return;\n    }\n    /**\n     * Filter inline-tools and show only allowed by Block's Tool\n     */\n    this.addToolsFiltered();\n\n    /**\n     * Show Inline Toolbar\n     */\n    this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed);\n\n    this.buttonsList = this.nodes.buttons.querySelectorAll(\n      `.${this.CSS.inlineToolButton}`\n    );\n    this.opened = true;\n\n    if (\n      needToShowConversionToolbar &&\n      this.Editor.ConversionToolbar.hasTools()\n    ) {\n      /**\n       * Change Conversion Dropdown content for current tool\n       */\n      this.setConversionTogglerContent();\n    } else {\n      /**\n       * hide Conversion Dropdown with there are no tools\n       */\n      this.nodes.conversionToggler.hidden = true;\n    }\n\n    /**\n     * Get currently visible buttons to pass it to the Flipper\n     */\n    let visibleTools = Array.from(this.buttonsList);\n\n    visibleTools.unshift(this.nodes.conversionToggler);\n    visibleTools = visibleTools.filter((tool) => !(tool as HTMLElement).hidden);\n\n    this.flipper.activate(visibleTools as HTMLElement[]);\n  }\n\n  /**\n   * Check if node is contained by Inline Toolbar\n   *\n   * @param {Node} node  node to check\n   */\n  public containsNode(node: Node): boolean {\n    return this.nodes.wrapper.contains(node);\n  }\n\n  /**\n   * Removes UI and its components\n   */\n  public destroy(): void {\n    /**\n     * Sometimes (in read-only mode) there is no Flipper\n     */\n    if (this.flipper) {\n      this.flipper.deactivate();\n      this.flipper = null;\n    }\n\n    this.removeAllNodes();\n    this.tooltip.destroy();\n  }\n\n  /**\n   * Making DOM\n   */\n  private make(): void {\n    this.nodes.wrapper = $.make('div', [\n      this.CSS.inlineToolbar,\n      ...(this.isRtl ? [ this.Editor.UI.CSS.editorRtlFix ] : []),\n    ]);\n    /**\n     * Creates a different wrapper for toggler and buttons.\n     */\n    this.nodes.togglerAndButtonsWrapper = $.make(\n      'div',\n      this.CSS.togglerAndButtonsWrapper\n    );\n    this.nodes.buttons = $.make('div', this.CSS.buttonsWrapper);\n    this.nodes.actions = $.make('div', this.CSS.actionsWrapper);\n\n    // To prevent reset of a selection when click on the wrapper\n    this.listeners.on(this.nodes.wrapper, 'mousedown', (event) => {\n      const isClickedOnActionsWrapper = (event.target as Element).closest(\n        `.${this.CSS.actionsWrapper}`\n      );\n\n      // If click is on actions wrapper,\n      // do not prevent default behavior because actions might include interactive elements\n      if (!isClickedOnActionsWrapper) {\n        event.preventDefault();\n      }\n    });\n\n    /**\n     * Append the intermediary wrapper which contains toggler and buttons and button actions.\n     */\n    $.append(this.nodes.wrapper, [\n      this.nodes.togglerAndButtonsWrapper,\n      this.nodes.actions,\n    ]);\n    /**\n     * Append the inline toolbar to the editor.\n     */\n    $.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n\n    /**\n     * Add button that will allow switching block type\n     */\n    this.addConversionToggler();\n\n    /**\n     * Wrapper for the inline tools\n     * Will be appended after the Conversion Toolbar toggler\n     */\n    $.append(this.nodes.togglerAndButtonsWrapper, this.nodes.buttons);\n\n    /**\n     * Prepare conversion toolbar.\n     * If it has any conversion tool then it will be enabled in the Inline Toolbar\n     */\n    this.prepareConversionToolbar();\n\n    /**\n     * Recalculate initial width with all buttons\n     * We use RIC to prevent forced layout during editor initialization to make it faster\n     */\n    window.requestAnimationFrame(() => {\n      this.recalculateWidth();\n    });\n\n    /**\n     * Allow to leaf buttons by arrows / tab\n     * Buttons will be filled on opening\n     */\n    this.enableFlipper();\n  }\n\n  /**\n   * Need to show Inline Toolbar or not\n   */\n  private allowedToShow(): boolean {\n    /**\n     * Tags conflicts with window.selection function.\n     * Ex. IMG tag returns null (Firefox) or Redactors wrapper (Chrome)\n     */\n    const tagsConflictsWithSelection = ['IMG', 'INPUT'];\n    const currentSelection = SelectionUtils.get();\n    const selectedText = SelectionUtils.text;\n\n    // old browsers\n    if (!currentSelection || !currentSelection.anchorNode) {\n      return false;\n    }\n\n    // empty selection\n    if (currentSelection.isCollapsed || selectedText.length < 1) {\n      return false;\n    }\n\n    const target = !$.isElement(currentSelection.anchorNode)\n      ? currentSelection.anchorNode.parentElement\n      : currentSelection.anchorNode;\n\n    if (\n      currentSelection &&\n      tagsConflictsWithSelection.includes(target.tagName)\n    ) {\n      return false;\n    }\n\n    // The selection of the element only in contenteditable\n    const contenteditable = target.closest('[contenteditable=\"true\"]');\n\n    if (contenteditable === null) {\n      return false;\n    }\n\n    // is enabled by current Block's Tool\n    const currentBlock = this.Editor.BlockManager.getBlock(\n      currentSelection.anchorNode as HTMLElement\n    );\n\n    if (!currentBlock) {\n      return false;\n    }\n\n    return currentBlock.tool.inlineTools.size !== 0;\n  }\n\n  /**\n   * Recalculate inline toolbar width\n   */\n  private recalculateWidth(): void {\n    this.width = this.nodes.wrapper.offsetWidth;\n  }\n\n  /**\n   * Create a toggler for Conversion Dropdown\n   * and prepend it to the buttons list\n   */\n  private addConversionToggler(): void {\n    this.nodes.conversionToggler = $.make('div', this.CSS.conversionToggler);\n    this.nodes.conversionTogglerContent = $.make(\n      'div',\n      this.CSS.conversionTogglerContent\n    );\n\n    const iconWrapper = $.make('div', this.CSS.conversionTogglerArrow, {\n      innerHTML: IconChevronDown,\n    });\n\n    this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent);\n    this.nodes.conversionToggler.appendChild(iconWrapper);\n\n    this.nodes.togglerAndButtonsWrapper.appendChild(\n      this.nodes.conversionToggler\n    );\n\n    this.listeners.on(this.nodes.conversionToggler, 'click', () => {\n      this.Editor.ConversionToolbar.toggle((conversionToolbarOpened) => {\n        /**\n         * When ConversionToolbar is opening on activated InlineToolbar flipper\n         * Then we need to temporarily deactivate InlineToolbar flipper so that we could flip ConversionToolbar items\n         *\n         * Other case when ConversionToolbar is closing (for example, by escape) but we need to continue flipping\n         * InlineToolbar items, we activate InlineToolbar flipper\n         */\n        const canActivateInlineToolbarFlipper =\n          !conversionToolbarOpened && this.opened;\n\n        if (canActivateInlineToolbarFlipper) {\n          this.flipper.activate();\n        } else if (this.opened) {\n          this.flipper.deactivate();\n        }\n      });\n    });\n\n    if (_.isMobileScreen() === false ) {\n      this.tooltip.onHover(this.nodes.conversionToggler, I18n.ui(I18nInternalNS.ui.inlineToolbar.converter, 'Convert to'), {\n        placement: 'top',\n        hidingDelay: 100,\n      });\n    }\n  }\n\n  /**\n   * Changes Conversion Dropdown content for current block's Tool\n   */\n  private async setConversionTogglerContent(): Promise<void> {\n    const { BlockManager } = this.Editor;\n    const { currentBlock } = BlockManager;\n    const toolName = currentBlock.name;\n\n    /**\n     * If tool does not provide 'export' rule, hide conversion dropdown\n     */\n    const conversionConfig = currentBlock.tool.conversionConfig;\n    const exportRuleDefined = conversionConfig && conversionConfig.export;\n\n    this.nodes.conversionToggler.hidden = !exportRuleDefined;\n    this.nodes.conversionToggler.classList.toggle(\n      this.CSS.conversionTogglerHidden,\n      !exportRuleDefined\n    );\n\n    /**\n     * Get icon or title for dropdown\n     */\n    const toolboxSettings = await currentBlock.getActiveToolboxEntry() || {};\n\n    this.nodes.conversionTogglerContent.innerHTML =\n      toolboxSettings.icon || toolboxSettings.title || _.capitalize(toolName);\n  }\n\n  /**\n   * Makes the Conversion Dropdown\n   */\n  private prepareConversionToolbar(): void {\n    const ct = this.Editor.ConversionToolbar.make();\n\n    $.append(this.nodes.wrapper, ct);\n  }\n\n  /**\n   *  Working with Tools\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n\n  /**\n   * Append only allowed Tools\n   */\n  private addToolsFiltered(): void {\n    const currentSelection = SelectionUtils.get();\n    const currentBlock = this.Editor.BlockManager.getBlock(\n      currentSelection.anchorNode as HTMLElement\n    );\n\n    /**\n     * Clear buttons list\n     */\n    this.nodes.buttons.innerHTML = '';\n    this.nodes.actions.innerHTML = '';\n    this.toolsInstances = new Map();\n\n    Array.from(currentBlock.tool.inlineTools.values()).forEach((tool) => {\n      this.addTool(tool);\n    });\n\n    /**\n     * Recalculate width because some buttons can be hidden\n     */\n    this.recalculateWidth();\n  }\n\n  /**\n   * Add tool button and activate clicks\n   *\n   * @param {InlineTool} tool - InlineTool object\n   */\n  private addTool(tool: InlineTool): void {\n    const instance = tool.create();\n    const button = instance.render();\n\n    if (!button) {\n      _.log('Render method must return an instance of Node', 'warn', tool.name);\n\n      return;\n    }\n\n    button.dataset.tool = tool.name;\n    this.nodes.buttons.appendChild(button);\n    this.toolsInstances.set(tool.name, instance);\n\n    if (_.isFunction(instance.renderActions)) {\n      const actions = instance.renderActions();\n\n      this.nodes.actions.appendChild(actions);\n    }\n\n    this.listeners.on(button, 'click', (event) => {\n      this.toolClicked(instance);\n      event.preventDefault();\n    });\n\n    const shortcut = this.getToolShortcut(tool.name);\n\n    if (shortcut) {\n      try {\n        this.enableShortcuts(instance, shortcut);\n      } catch (e) {}\n    }\n\n    /**\n     * Enable tooltip module on button\n     */\n    const tooltipContent = $.make('div');\n    const toolTitle = I18n.t(\n      I18nInternalNS.toolNames,\n      tool.title || _.capitalize(tool.name)\n    );\n\n    tooltipContent.appendChild($.text(toolTitle));\n\n    if (shortcut) {\n      tooltipContent.appendChild(\n        $.make('div', this.CSS.inlineToolbarShortcut, {\n          textContent: _.beautifyShortcut(shortcut),\n        })\n      );\n    }\n\n    if (_.isMobileScreen() === false ) {\n      this.tooltip.onHover(button, tooltipContent, {\n        placement: 'top',\n        hidingDelay: 100,\n      });\n    }\n\n    instance.checkState(SelectionUtils.get());\n  }\n\n  /**\n   * Get shortcut name for tool\n   *\n   * @param toolName  Tool name\n   */\n  private getToolShortcut(toolName): string | void {\n    const { Tools } = this.Editor;\n\n    /**\n     * Enable shortcuts\n     * Ignore tool that doesn't have shortcut or empty string\n     */\n    const tool = Tools.inlineTools.get(toolName);\n\n    /**\n     * 1) For internal tools, check public getter 'shortcut'\n     * 2) For external tools, check tool's settings\n     * 3) If shortcut is not set in settings, check Tool's public property\n     */\n    const internalTools = Tools.internal.inlineTools;\n\n    if (Array.from(internalTools.keys()).includes(toolName)) {\n      return this.inlineTools[toolName][CommonInternalSettings.Shortcut];\n    }\n\n    return tool.shortcut;\n  }\n\n  /**\n   * Enable Tool shortcut with Editor Shortcuts Module\n   *\n   * @param {InlineTool} tool - Tool instance\n   * @param {string} shortcut - shortcut according to the ShortcutData Module format\n   */\n  private enableShortcuts(tool: IInlineTool, shortcut: string): void {\n    Shortcuts.add({\n      name: shortcut,\n      handler: (event) => {\n        const { currentBlock } = this.Editor.BlockManager;\n\n        /**\n         * Editor is not focused\n         */\n        if (!currentBlock) {\n          return;\n        }\n\n        /**\n         * We allow to fire shortcut with empty selection (isCollapsed=true)\n         * it can be used by tools like Mention that works without selection:\n         * Example: by SHIFT+@ show dropdown and insert selected username\n         */\n        // if (SelectionUtils.isCollapsed) return;\n\n        if (!currentBlock.tool.enabledInlineTools) {\n          return;\n        }\n\n        event.preventDefault();\n        this.toolClicked(tool);\n      },\n      on: this.Editor.UI.nodes.redactor,\n    });\n  }\n\n  /**\n   * Inline Tool button clicks\n   *\n   * @param {InlineTool} tool - Tool's instance\n   */\n  private toolClicked(tool: IInlineTool): void {\n    const range = SelectionUtils.range;\n\n    tool.surround(range);\n    this.checkToolsState();\n\n    /**\n     * If tool has \"actions\", so after click it will probably toggle them on.\n     * For example, the Inline Link Tool will show the URL-input.\n     * So we disable the Flipper for that case to allow Tool bind own Enter listener\n     */\n    if (tool.renderActions !== undefined) {\n      this.flipper.deactivate();\n    }\n  }\n\n  /**\n   * Check Tools` state by selection\n   */\n  private checkToolsState(): void {\n    this.toolsInstances.forEach((toolInstance) => {\n      toolInstance.checkState(SelectionUtils.get());\n    });\n  }\n\n  /**\n   * Get inline tools tools\n   * Tools that has isInline is true\n   */\n  private get inlineTools(): { [name: string]: IInlineTool } {\n    const result = {};\n\n    Array.from(this.Editor.Tools.inlineTools.entries()).forEach(\n      ([name, tool]) => {\n        result[name] = tool.create();\n      }\n    );\n\n    return result;\n  }\n\n  /**\n   * Allow to leaf buttons by arrows / tab\n   * Buttons will be filled on opening\n   */\n  private enableFlipper(): void {\n    this.flipper = new Flipper({\n      focusedItemClass: this.CSS.focusedButton,\n      allowedKeys: [\n        _.keyCodes.ENTER,\n        _.keyCodes.TAB,\n      ],\n    });\n  }\n}\n","import Paragraph from \"@editorjs/paragraph\";\nimport Module from \"../__module\";\nimport * as _ from \"../utils\";\nimport {\n  SanitizerConfig,\n  ToolConfig,\n  ToolConstructable,\n  ToolSettings,\n} from \"../../../types\";\nimport BoldInlineTool from \"../inline-tools/inline-tool-bold\";\nimport ItalicInlineTool from \"../inline-tools/inline-tool-italic\";\nimport LinkInlineTool from \"../inline-tools/inline-tool-link\";\nimport Stub from \"../../tools/stub\";\nimport ToolsFactory from \"../tools/factory\";\nimport InlineTool from \"../tools/inline\";\nimport BlockTool from \"../tools/block\";\nimport BlockTune from \"../tools/tune\";\nimport MoveDownTune from \"../block-tunes/block-tune-move-down\";\nimport DeleteTune from \"../block-tunes/block-tune-delete\";\nimport MoveUpTune from \"../block-tunes/block-tune-move-up\";\nimport ToolsCollection from \"../tools/collection\";\n\n/**\n * @module Editor.js Tools Submodule\n *\n * Creates Instances from Plugins and binds external config to the instances\n */\n\n/**\n * Modules that works with tools classes\n */\nexport default class Tools extends Module {\n  /**\n   * Name of Stub Tool\n   * Stub Tool is used to substitute unavailable block Tools and store their data\n   *\n   * @type {string}\n   */\n  public stubTool = \"stub\";\n\n  /**\n   * Returns available Tools\n   */\n  public get available(): ToolsCollection {\n    return this.toolsAvailable;\n  }\n\n  /**\n   * Returns unavailable Tools\n   */\n  public get unavailable(): ToolsCollection {\n    return this.toolsUnavailable;\n  }\n\n  /**\n   * Return Tools for the Inline Toolbar\n   */\n  public get inlineTools(): ToolsCollection<InlineTool> {\n    return this.available.inlineTools;\n  }\n\n  /**\n   * Return editor block tools\n   */\n  public get blockTools(): ToolsCollection<BlockTool> {\n    return this.available.blockTools;\n  }\n\n  /**\n   * Return available Block Tunes\n   *\n   * @returns {object} - object of Inline Tool's classes\n   */\n  public get blockTunes(): ToolsCollection<BlockTune> {\n    return this.available.blockTunes;\n  }\n\n  /**\n   * Returns default Tool object\n   */\n  public get defaultTool(): BlockTool {\n    return this.blockTools.get(this.config.defaultBlock);\n  }\n\n  /**\n   * Tools objects factory\n   */\n  private factory: ToolsFactory;\n\n  /**\n   * Tools` classes available to use\n   */\n  private readonly toolsAvailable: ToolsCollection = new ToolsCollection();\n\n  /**\n   * Tools` classes not available to use because of preparation failure\n   */\n  private readonly toolsUnavailable: ToolsCollection = new ToolsCollection();\n\n  /**\n   * Returns internal tools\n   */\n  public get internal(): ToolsCollection {\n    return this.available.internalTools;\n  }\n\n  /**\n   * Creates instances via passed or default configuration\n   *\n   * @returns {Promise<void>}\n   */\n  public async prepare(): Promise<void> {\n    this.validateTools();\n\n    /**\n     * Assign internal tools\n     */\n    this.config.tools = _.deepMerge({}, this.internalTools, this.config.tools);\n\n    if (\n      !Object.prototype.hasOwnProperty.call(this.config, \"tools\") ||\n      Object.keys(this.config.tools).length === 0\n    ) {\n      throw Error(\"Can't start without tools\");\n    }\n\n    const config = this.prepareConfig();\n\n    this.factory = new ToolsFactory(config, this.config, this.Editor.API);\n\n    /**\n     * getting classes that has prepare method\n     */\n    const sequenceData = this.getListOfPrepareFunctions(config);\n\n    /**\n     * if sequence data contains nothing then resolve current chain and run other module prepare\n     */\n    if (sequenceData.length === 0) {\n      return Promise.resolve();\n    }\n\n    /**\n     * to see how it works {@link '../utils.ts#sequence'}\n     */\n    await _.sequence(\n      sequenceData,\n      (data: { toolName: string }) => {\n        this.toolPrepareMethodSuccess(data);\n      },\n      (data: { toolName: string }) => {\n        this.toolPrepareMethodFallback(data);\n      }\n    );\n\n    this.prepareBlockTools();\n  }\n\n  /**\n   * Return general Sanitizer config for all inline tools\n   */\n  @_.cacheable\n  public getAllInlineToolsSanitizeConfig(): SanitizerConfig {\n    const config: SanitizerConfig = {} as SanitizerConfig;\n\n    Array.from(this.inlineTools.values()).forEach((inlineTool) => {\n      Object.assign(config, inlineTool.sanitizeConfig);\n    });\n\n    return config;\n  }\n\n  /**\n   * Calls each Tool reset method to clean up anything set by Tool\n   */\n  public destroy(): void {\n    Object.values(this.available).forEach(async (tool) => {\n      if (_.isFunction(tool.reset)) {\n        await tool.reset();\n      }\n    });\n  }\n\n  /**\n   * Returns internal tools\n   * Includes Bold, Italic, Link and Paragraph\n   */\n  private get internalTools(): {\n    [toolName: string]:\n      | ToolConstructable\n      | (ToolSettings & { isInternal?: boolean });\n  } {\n    return {\n      bold: {\n        class: BoldInlineTool,\n        isInternal: true,\n      },\n      italic: {\n        class: ItalicInlineTool,\n        isInternal: true,\n      },\n      link: {\n        class: LinkInlineTool,\n        isInternal: true,\n      },\n      paragraph: {\n        class: Paragraph,\n        inlineToolbar: true,\n        isInternal: true,\n      },\n      stub: {\n        class: Stub,\n        isInternal: true,\n      },\n      moveUp: {\n        class: MoveUpTune,\n        isInternal: true,\n      },\n      moveDown: {\n        class: MoveDownTune,\n        isInternal: true,\n      },\n      delete: {\n        class: DeleteTune,\n        isInternal: true,\n      },\n    };\n  }\n\n  /**\n   * Tool prepare method success callback\n   *\n   * @param {object} data - append tool to available list\n   */\n  private toolPrepareMethodSuccess(data: { toolName: string }): void {\n    const tool = this.factory.get(data.toolName);\n\n    if (tool.isInline()) {\n      /**\n       * Some Tools validation\n       */\n      const inlineToolRequiredMethods = [\"render\", \"surround\", \"checkState\"];\n      const notImplementedMethods = inlineToolRequiredMethods.filter(\n        (method) => !tool.create()[method]\n      );\n\n      if (notImplementedMethods.length) {\n        _.log(\n          `Incorrect Inline Tool: ${tool.name}. Some of required methods is not implemented %o`,\n          \"warn\",\n          notImplementedMethods\n        );\n\n        this.toolsUnavailable.set(tool.name, tool);\n\n        return;\n      }\n    }\n\n    this.toolsAvailable.set(tool.name, tool);\n  }\n\n  /**\n   * Tool prepare method fail callback\n   *\n   * @param {object} data - append tool to unavailable list\n   */\n  private toolPrepareMethodFallback(data: { toolName: string }): void {\n    this.toolsUnavailable.set(data.toolName, this.factory.get(data.toolName));\n  }\n\n  /**\n   * Binds prepare function of plugins with user or default config\n   *\n   * @returns {Array} list of functions that needs to be fired sequentially\n   * @param config - tools config\n   */\n  private getListOfPrepareFunctions(config: { [name: string]: ToolSettings }): {\n    function: (data: {\n      toolName: string;\n      config: ToolConfig;\n    }) => void | Promise<void>;\n    data: { toolName: string; config: ToolConfig };\n  }[] {\n    const toolPreparationList: {\n      function: (data: { toolName: string }) => void | Promise<void>;\n      data: { toolName: string; config: ToolConfig };\n    }[] = [];\n\n    Object.entries(config).forEach(([toolName, settings]) => {\n      toolPreparationList.push({\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        function: _.isFunction(settings.class.prepare)\n          ? settings.class.prepare\n          : (): void => {},\n        data: {\n          toolName,\n          config: settings.config,\n        },\n      });\n    });\n\n    return toolPreparationList;\n  }\n\n  /**\n   * Assign enabled Inline Tools and Block Tunes for Block Tool\n   */\n  private prepareBlockTools(): void {\n    Array.from(this.blockTools.values()).forEach((tool) => {\n      this.assignInlineToolsToBlockTool(tool);\n      this.assignBlockTunesToBlockTool(tool);\n    });\n  }\n\n  /**\n   * Assign enabled Inline Tools for Block Tool\n   *\n   * @param tool - Block Tool\n   */\n  private assignInlineToolsToBlockTool(tool: BlockTool): void {\n    /**\n     * If common inlineToolbar property is false no Inline Tools should be assigned\n     */\n    if (this.config.inlineToolbar === false) {\n      return;\n    }\n\n    /**\n     * If user pass just 'true' for tool, get common inlineToolbar settings\n     * - if common settings is an array, use it\n     * - if common settings is 'true' or not specified, get default order\n     */\n    if (tool.enabledInlineTools === true) {\n      tool.inlineTools = new ToolsCollection<InlineTool>(\n        Array.isArray(this.config.inlineToolbar)\n          ? this.config.inlineToolbar.map((name) => [\n              name,\n              this.inlineTools.get(name),\n            ])\n          : /**\n             * If common settings is 'true' or not specified (will be set as true at core.ts), get the default order\n             */\n            Array.from(this.inlineTools.entries())\n      );\n\n      return;\n    }\n\n    /**\n     * If user pass the list of inline tools for the particular tool, return it.\n     */\n    if (Array.isArray(tool.enabledInlineTools)) {\n      tool.inlineTools = new ToolsCollection<InlineTool>(\n        tool.enabledInlineTools.map((name) => [\n          name,\n          this.inlineTools.get(name),\n        ])\n      );\n    }\n  }\n\n  /**\n   * Assign enabled Block Tunes for Block Tool\n   *\n   * @param tool  Block Tool\n   */\n  private assignBlockTunesToBlockTool(tool: BlockTool): void {\n    if (tool.enabledBlockTunes === false) {\n      return;\n    }\n\n    if (Array.isArray(tool.enabledBlockTunes)) {\n      const userTunes = new ToolsCollection<BlockTune>(\n        tool.enabledBlockTunes.map((name) => [name, this.blockTunes.get(name)])\n      );\n\n      tool.tunes = new ToolsCollection<BlockTune>([\n        ...userTunes,\n        ...this.blockTunes.internalTools,\n      ]);\n\n      return;\n    }\n\n    if (Array.isArray(this.config.tunes)) {\n      const userTunes = new ToolsCollection<BlockTune>(\n        this.config.tunes.map((name) => [name, this.blockTunes.get(name)])\n      );\n\n      tool.tunes = new ToolsCollection<BlockTune>([\n        ...userTunes,\n        ...this.blockTunes.internalTools,\n      ]);\n\n      return;\n    }\n\n    tool.tunes = this.blockTunes.internalTools;\n  }\n\n  /**\n   * Validate Tools configuration objects and throw Error for user if it is invalid\n   */\n  private validateTools(): void {\n    /**\n     * Check Tools for a class containing\n     */\n    for (const toolName in this.config.tools) {\n      if (Object.prototype.hasOwnProperty.call(this.config.tools, toolName)) {\n        if (toolName in this.internalTools) {\n          return;\n        }\n\n        const tool = this.config.tools[toolName];\n\n        if (\n          !_.isFunction(tool) &&\n          !_.isFunction((tool as ToolSettings).class)\n        ) {\n          throw Error(\n            `Tool ${toolName} must be a constructor function or an object with function in the class property`\n          );\n        }\n      }\n    }\n  }\n\n  /**\n   * Unify tools config\n   */\n  private prepareConfig(): { [name: string]: ToolSettings } {\n    const config: { [name: string]: ToolSettings } = {};\n\n    /**\n     * Save Tools settings to a map\n     */\n    for (const toolName in this.config.tools) {\n      /**\n       * If Tool is an object not a Tool's class then\n       * save class and settings separately\n       */\n      if (_.isObject(this.config.tools[toolName])) {\n        config[toolName] = this.config.tools[toolName] as ToolSettings;\n      } else {\n        config[toolName] = {\n          class: this.config.tools[toolName] as ToolConstructable,\n        };\n      }\n    }\n\n    return config;\n  }\n}\n","/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Module UI\n *\n * @type {UI}\n */\nimport Module from \"../__module\";\nimport $ from \"../dom\";\nimport * as _ from \"../utils\";\n\nimport Selection from \"../selection\";\nimport Block from \"../block\";\nimport Flipper from \"../flipper\";\nimport { mobileScreenBreakpoint } from \"../utils\";\n\nimport styles from \"../../styles/main.css?inline\";\nimport { BlockHovered } from \"../events/BlockHovered\";\n/**\n * HTML Elements used for UI\n */\ninterface UINodes {\n  holder: HTMLElement;\n  wrapper: HTMLElement;\n  redactor: HTMLElement;\n}\n\n/**\n * @class\n * @classdesc Makes Editor.js UI:\n *                <codex-editor>\n *                    <ce-redactor />\n *                    <ce-toolbar />\n *                    <ce-inline-toolbar />\n *                </codex-editor>\n * @typedef {UI} UI\n * @property {EditorConfig} config   - editor configuration {@link EditorJS#configuration}\n * @property {object} Editor         - available editor modules {@link EditorJS#moduleInstances}\n * @property {object} nodes          -\n * @property {Element} nodes.holder  - element where we need to append redactor\n * @property {Element} nodes.wrapper  - <codex-editor>\n * @property {Element} nodes.redactor - <ce-redactor>\n */\nexport default class UI extends Module<UINodes> {\n  /**\n   * Editor.js UI CSS class names\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  public get CSS(): {\n    editorWrapper: string;\n    editorWrapperNarrow: string;\n    editorZone: string;\n    editorZoneHidden: string;\n    editorEmpty: string;\n    editorRtlFix: string;\n  } {\n    return {\n      editorWrapper: \"codex-editor\",\n      editorWrapperNarrow: \"codex-editor--narrow\",\n      editorZone: \"codex-editor__redactor\",\n      editorZoneHidden: \"codex-editor__redactor--hidden\",\n      editorEmpty: \"codex-editor--empty\",\n      editorRtlFix: \"codex-editor--rtl\",\n    };\n  }\n\n  /**\n   * Return Width of center column of Editor\n   *\n   * @returns {DOMRect}\n   */\n  public get contentRect(): DOMRect {\n    if (this.contentRectCache) {\n      return this.contentRectCache;\n    }\n\n    const someBlock = this.nodes.wrapper.querySelector(`.${Block.CSS.content}`);\n\n    /**\n     * When Editor is not ready, there is no Blocks, so return the default value\n     */\n    if (!someBlock) {\n      return {\n        width: 650,\n        left: 0,\n        right: 0,\n      } as DOMRect;\n    }\n\n    this.contentRectCache = someBlock.getBoundingClientRect() as DOMRect;\n\n    return this.contentRectCache;\n  }\n\n  /**\n   * Flag that became true on mobile viewport\n   *\n   * @type {boolean}\n   */\n  public isMobile = false;\n\n  /**\n   * Cache for center column rectangle info\n   * Invalidates on window resize\n   *\n   * @type {DOMRect}\n   */\n  private contentRectCache: DOMRect = undefined;\n\n  /**\n   * Handle window resize only when it finished\n   *\n   * @type {() => void}\n   */\n  private resizeDebouncer: () => void = _.debounce(() => {\n    this.windowResize();\n    // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n  }, 200);\n\n  /**\n   * Making main interface\n   */\n  public async prepare(): Promise<void> {\n    /**\n     * Detect mobile version\n     */\n    this.checkIsMobile();\n\n    /**\n     * Make main UI elements\n     */\n    this.make();\n\n    /**\n     * Load and append CSS\n     */\n    this.loadStyles();\n  }\n\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - removes all listeners from main UI module elements\n   *\n   * if readOnly is false:\n   *  - enables all listeners to UI module elements\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    /**\n     * Prepare components based on read-only state\n     */\n    if (!readOnlyEnabled) {\n      /**\n       * Unbind all events\n       */\n      this.enableModuleBindings();\n    } else {\n      /**\n       * Bind events for the UI elements\n       */\n      this.disableModuleBindings();\n    }\n  }\n\n  /**\n   * Check if Editor is empty and set CSS class to wrapper\n   */\n  public checkEmptiness(): void {\n    const { BlockManager } = this.Editor;\n\n    this.nodes.wrapper.classList.toggle(\n      this.CSS.editorEmpty,\n      BlockManager.isEditorEmpty\n    );\n  }\n\n  /**\n   * Check if one of Toolbar is opened\n   * Used to prevent global keydowns (for example, Enter) conflicts with Enter-on-toolbar\n   *\n   * @returns {boolean}\n   */\n  public get someToolbarOpened(): boolean {\n    const { Toolbar, BlockSettings, InlineToolbar, ConversionToolbar } =\n      this.Editor;\n\n    return (\n      BlockSettings.opened ||\n      InlineToolbar.opened ||\n      ConversionToolbar.opened ||\n      Toolbar.toolbox.opened\n    );\n  }\n\n  /**\n   * Check for some Flipper-buttons is under focus\n   */\n  public get someFlipperButtonFocused(): boolean {\n    /**\n     * Toolbar has internal module (Toolbox) that has own Flipper,\n     * so we check it manually\n     */\n    if (this.Editor.Toolbar.toolbox.hasFocus()) {\n      return true;\n    }\n\n    /* eslint-disable @typescript-eslint/no-unused-vars, no-unused-vars */\n    return Object.entries(this.Editor)\n      .filter(([_moduleName, moduleClass]) => {\n        return moduleClass.flipper instanceof Flipper;\n      })\n      .some(([_moduleName, moduleClass]) => {\n        return moduleClass.flipper.hasFocus();\n      });\n\n    /* eslint-enable @typescript-eslint/no-unused-vars, no-unused-vars */\n  }\n\n  /**\n   * Clean editor`s UI\n   */\n  public destroy(): void {\n    this.nodes.holder.innerHTML = \"\";\n  }\n\n  /**\n   * Close all Editor's toolbars\n   */\n  public closeAllToolbars(): void {\n    const { Toolbar, BlockSettings, InlineToolbar, ConversionToolbar } =\n      this.Editor;\n\n    BlockSettings.close();\n    InlineToolbar.close();\n    ConversionToolbar.close();\n    Toolbar.toolbox.close();\n  }\n\n  /**\n   * Check for mobile mode and cache a result\n   */\n  private checkIsMobile(): void {\n    this.isMobile = window.innerWidth < mobileScreenBreakpoint;\n  }\n\n  /**\n   * Makes Editor.js interface\n   */\n  private make(): void {\n    /**\n     * Element where we need to append Editor.js\n     *\n     * @type {Element}\n     */\n    this.nodes.holder = $.getHolder(this.config.holder);\n\n    /**\n     * Create and save main UI elements\n     */\n    this.nodes.wrapper = $.make(\"div\", [\n      this.CSS.editorWrapper,\n      ...(this.isRtl ? [this.CSS.editorRtlFix] : []),\n    ]);\n    this.nodes.redactor = $.make(\"div\", this.CSS.editorZone);\n\n    /**\n     * If Editor has injected into the narrow container, enable Narrow Mode\n     *\n     * @todo Forced layout. Get rid of this feature\n     */\n    // if (this.nodes.holder.offsetWidth < this.contentRect.width) {\n    //   this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow);\n    // }\n\n    /**\n     * Set customizable bottom zone height\n     */\n    this.nodes.redactor.style.paddingBottom = this.config.minHeight + \"px\";\n\n    this.nodes.wrapper.appendChild(this.nodes.redactor);\n    this.nodes.holder.appendChild(this.nodes.wrapper);\n  }\n\n  /**\n   * Appends CSS\n   */\n  private loadStyles(): void {\n    /**\n     * Load CSS\n     */\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const styleTagId = \"editor-js-styles\";\n\n    /**\n     * Do not append styles again if they are already on the page\n     */\n    if ($.get(styleTagId)) {\n      return;\n    }\n\n    /**\n     * Make tag\n     */\n    const tag = $.make(\"style\", null, {\n      id: styleTagId,\n      textContent: styles.toString(),\n    });\n\n    /**\n     * Append styles at the top of HEAD tag\n     */\n    $.prepend(document.head, tag);\n  }\n\n  /**\n   * Bind events on the Editor.js interface\n   */\n  private enableModuleBindings(): void {\n    this.readOnlyMutableListeners.on(\n      this.nodes.redactor,\n      \"click\",\n      (event: MouseEvent) => {\n        this.redactorClicked(event);\n      },\n      false\n    );\n\n    this.readOnlyMutableListeners.on(\n      this.nodes.redactor,\n      \"mousedown\",\n      (event: MouseEvent | TouchEvent) => {\n        this.documentTouched(event);\n      },\n      true\n    );\n\n    this.readOnlyMutableListeners.on(\n      this.nodes.redactor,\n      \"touchstart\",\n      (event: MouseEvent | TouchEvent) => {\n        this.documentTouched(event);\n      },\n      true\n    );\n\n    this.readOnlyMutableListeners.on(\n      document,\n      \"keydown\",\n      (event: KeyboardEvent) => {\n        this.documentKeydown(event);\n      },\n      true\n    );\n\n    this.readOnlyMutableListeners.on(\n      document,\n      \"mousedown\",\n      (event: MouseEvent) => {\n        this.documentClicked(event);\n      },\n      true\n    );\n\n    /**\n     * Handle selection change to manipulate Inline Toolbar appearance\n     */\n    this.readOnlyMutableListeners.on(\n      document,\n      \"selectionchange\",\n      () => {\n        this.selectionChanged();\n      },\n      true\n    );\n\n    this.readOnlyMutableListeners.on(\n      window,\n      \"resize\",\n      () => {\n        this.resizeDebouncer();\n      },\n      {\n        passive: true,\n      }\n    );\n\n    /**\n     * Start watching 'block-hovered' events that is used by Toolbar for moving\n     */\n    this.watchBlockHoveredEvents();\n  }\n\n  /**\n   * Listen redactor mousemove to emit 'block-hovered' event\n   */\n  private watchBlockHoveredEvents(): void {\n    /**\n     * Used to not emit the same block multiple times to the 'block-hovered' event on every mousemove\n     */\n    let blockHoveredEmitted;\n\n    this.readOnlyMutableListeners.on(\n      this.nodes.redactor,\n      \"mousemove\",\n      _.throttle((event: MouseEvent | TouchEvent) => {\n        const hoveredBlock = (event.target as Element).closest(\".ce-block\");\n\n        /**\n         * Do not trigger 'block-hovered' for cross-block selection\n         */\n        if (this.Editor.BlockSelection.anyBlockSelected) {\n          return;\n        }\n\n        if (!hoveredBlock) {\n          return;\n        }\n\n        if (blockHoveredEmitted === hoveredBlock) {\n          return;\n        }\n\n        blockHoveredEmitted = hoveredBlock;\n\n        this.eventsDispatcher.emit(BlockHovered, {\n          block: this.Editor.BlockManager.getBlockByChildNode(hoveredBlock),\n        });\n        // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n      }, 20),\n      {\n        passive: true,\n      }\n    );\n  }\n\n  /**\n   * Unbind events on the Editor.js interface\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Resize window handler\n   */\n  private windowResize(): void {\n    /**\n     * Invalidate content zone size cached, because it may be changed\n     */\n    this.contentRectCache = null;\n\n    /**\n     * Detect mobile version\n     */\n    this.checkIsMobile();\n  }\n\n  /**\n   * All keydowns on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private documentKeydown(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case _.keyCodes.ENTER:\n        this.enterPressed(event);\n        break;\n\n      case _.keyCodes.BACKSPACE:\n      case _.keyCodes.DELETE:\n        this.backspacePressed(event);\n        break;\n\n      case _.keyCodes.ESC:\n        this.escapePressed(event);\n        break;\n\n      default:\n        this.defaultBehaviour(event);\n        break;\n    }\n  }\n\n  /**\n   * Ignore all other document's keydown events\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private defaultBehaviour(event: KeyboardEvent): void {\n    const { currentBlock } = this.Editor.BlockManager;\n    const keyDownOnEditor = (event.target as HTMLElement).closest(\n      `.${this.CSS.editorWrapper}`\n    );\n    const isMetaKey =\n      event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n\n    /**\n     * When some block is selected, but the caret is not set inside the editor, treat such keydowns as keydown on selected block.\n     */\n    if (currentBlock !== undefined && keyDownOnEditor === null) {\n      this.Editor.BlockEvents.keydown(event);\n\n      return;\n    }\n\n    /**\n     * Ignore keydowns on editor and meta keys\n     */\n    if (keyDownOnEditor || (currentBlock && isMetaKey)) {\n      return;\n    }\n\n    /**\n     * Remove all highlights and remove caret\n     */\n    this.Editor.BlockManager.dropPointer();\n\n    /**\n     * Close Toolbar\n     */\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private backspacePressed(event: KeyboardEvent): void {\n    const { BlockManager, BlockSelection, Caret } = this.Editor;\n\n    /**\n     * If any block selected and selection doesn't exists on the page (that means no other editable element is focused),\n     * remove selected blocks\n     */\n    if (BlockSelection.anyBlockSelected && !Selection.isSelectionExists) {\n      const selectionPositionIndex = BlockManager.removeSelectedBlocks();\n\n      Caret.setToBlock(\n        BlockManager.insertDefaultBlockAtIndex(selectionPositionIndex, true),\n        Caret.positions.START\n      );\n\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n\n      /**\n       * Stop propagations\n       * Manipulation with BlockSelections is handled in global backspacePress because they may occur\n       * with CMD+A or RectangleSelection and they can be handled on document event\n       */\n      event.preventDefault();\n      event.stopPropagation();\n      event.stopImmediatePropagation();\n    }\n  }\n\n  /**\n   * Escape pressed\n   * If some of Toolbar components are opened, then close it otherwise close Toolbar\n   *\n   * @param {Event} event - escape keydown event\n   */\n  private escapePressed(event): void {\n    /**\n     * Clear blocks selection by ESC\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n\n    if (this.Editor.Toolbar.toolbox.opened) {\n      this.Editor.Toolbar.toolbox.close();\n      this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock);\n    } else if (this.Editor.BlockSettings.opened) {\n      this.Editor.BlockSettings.close();\n    } else if (this.Editor.ConversionToolbar.opened) {\n      this.Editor.ConversionToolbar.close();\n    } else if (this.Editor.InlineToolbar.opened) {\n      this.Editor.InlineToolbar.close();\n    } else {\n      this.Editor.Toolbar.close();\n    }\n  }\n\n  /**\n   * Enter pressed on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private enterPressed(event: KeyboardEvent): void {\n    const { BlockManager, BlockSelection } = this.Editor;\n    const hasPointerToBlock = BlockManager.currentBlockIndex >= 0;\n\n    /**\n     * If any block selected and selection doesn't exists on the page (that means no other editable element is focused),\n     * remove selected blocks\n     */\n    if (BlockSelection.anyBlockSelected && !Selection.isSelectionExists) {\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n\n      /**\n       * Stop propagations\n       * Manipulation with BlockSelections is handled in global enterPress because they may occur\n       * with CMD+A or RectangleSelection\n       */\n      event.preventDefault();\n      event.stopImmediatePropagation();\n      event.stopPropagation();\n\n      return;\n    }\n\n    /**\n     * If Caret is not set anywhere, event target on Enter is always Element that we handle\n     * In our case it is document.body\n     *\n     * So, BlockManager points some Block and Enter press is on Body\n     * We can create a new block\n     */\n    if (\n      !this.someToolbarOpened &&\n      hasPointerToBlock &&\n      (event.target as HTMLElement).tagName === \"BODY\"\n    ) {\n      /**\n       * Insert the default typed Block\n       */\n      const newBlock = this.Editor.BlockManager.insert();\n\n      this.Editor.Caret.setToBlock(newBlock);\n\n      /**\n       * And highlight\n       */\n      this.Editor.BlockManager.highlightCurrentNode();\n\n      /**\n       * Move toolbar and show plus button because new Block is empty\n       */\n      this.Editor.Toolbar.moveAndOpen(newBlock);\n    }\n\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * All clicks on document\n   *\n   * @param {MouseEvent} event - Click event\n   */\n  private documentClicked(event: MouseEvent): void {\n    /**\n     * Sometimes we emulate click on some UI elements, for example by Enter on Block Settings button\n     * We don't need to handle such events, because they handled in other place.\n     */\n    if (!event.isTrusted) {\n      return;\n    }\n    /**\n     * Close Inline Toolbar when nothing selected\n     * Do not fire check on clicks at the Inline Toolbar buttons\n     */\n    const target = event.target as HTMLElement;\n    const clickedInsideOfEditor =\n      this.nodes.holder.contains(target) || Selection.isAtEditor;\n\n    if (!clickedInsideOfEditor) {\n      /**\n       * Clear highlights and pointer on BlockManager\n       *\n       * Current page might contain several instances\n       * Click between instances MUST clear focus, pointers and close toolbars\n       */\n      this.Editor.BlockManager.dropPointer();\n      this.Editor.Toolbar.close();\n    }\n\n    /**\n     * If Block Settings opened, close them by click on document.\n     *\n     * But allow clicking inside Block Settings.\n     * Also, do not process clicks on the Block Settings Toggler, because it has own click listener\n     */\n    const isClickedInsideBlockSettings =\n      this.Editor.BlockSettings.nodes.wrapper.contains(target);\n    const isClickedInsideBlockSettingsToggler =\n      this.Editor.Toolbar.nodes.settingsToggler.contains(target);\n    const doNotProcess =\n      isClickedInsideBlockSettings || isClickedInsideBlockSettingsToggler;\n\n    if (this.Editor.BlockSettings.opened && !doNotProcess) {\n      this.Editor.BlockSettings.close();\n\n      const clickedBlock = this.Editor.BlockManager.getBlockByChildNode(target);\n\n      this.Editor.Toolbar.moveAndOpen(clickedBlock);\n    }\n\n    /**\n     * Clear Selection if user clicked somewhere\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * First touch on editor\n   * Fired before click\n   *\n   * Used to change current block  we need to do it before 'selectionChange' event.\n   * Also:\n   * - Move and show the Toolbar\n   * - Set a Caret\n   *\n   * @param {MouseEvent | TouchEvent} event - touch or mouse event\n   */\n  private documentTouched(event: MouseEvent | TouchEvent): void {\n    let clickedNode = event.target as HTMLElement;\n\n    /**\n     * If click was fired on Editor`s wrapper, try to get clicked node by elementFromPoint method\n     */\n    if (clickedNode === this.nodes.redactor) {\n      const clientX =\n        event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n      const clientY =\n        event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n\n      clickedNode = document.elementFromPoint(clientX, clientY) as HTMLElement;\n    }\n\n    /**\n     * Select clicked Block as Current\n     */\n    try {\n      this.Editor.BlockManager.setCurrentBlockByChildNode(clickedNode);\n\n      /**\n       * Highlight Current Node\n       */\n      this.Editor.BlockManager.highlightCurrentNode();\n    } catch (e) {\n      /**\n       * If clicked outside first-level Blocks and it is not RectSelection, set Caret to the last empty Block\n       */\n      if (!this.Editor.RectangleSelection.isRectActivated()) {\n        this.Editor.Caret.setToTheLastBlock();\n      }\n    }\n\n    /**\n     * Move and open toolbar\n     * (used for showing Block Settings toggler after opening and closing Inline Toolbar)\n     */\n    this.Editor.Toolbar.moveAndOpen();\n  }\n\n  /**\n   * All clicks on the redactor zone\n   *\n   * @param {MouseEvent} event - click event\n   * @description\n   * - By clicks on the Editor's bottom zone:\n   *      - if last Block is empty, set a Caret to this\n   *      - otherwise, add a new empty Block and set a Caret to that\n   */\n  private redactorClicked(event: MouseEvent): void {\n    const { BlockSelection } = this.Editor;\n\n    if (!Selection.isCollapsed) {\n      return;\n    }\n\n    const stopPropagation = (): void => {\n      event.stopImmediatePropagation();\n      event.stopPropagation();\n    };\n\n    /**\n     * case when user clicks on anchor element\n     * if it is clicked via ctrl key, then we open new window with url\n     */\n    const element = event.target as Element;\n    const ctrlKey = event.metaKey || event.ctrlKey;\n\n    if ($.isAnchor(element) && ctrlKey) {\n      stopPropagation();\n\n      const href = element.getAttribute(\"href\");\n      const validUrl = _.getValidUrl(href);\n\n      _.openTab(validUrl);\n\n      return;\n    }\n\n    const lastBlock = this.Editor.BlockManager.getBlockByIndex(-1);\n    const lastBlockBottomCoord = $.offset(lastBlock.holder).bottom;\n    const clickedCoord = event.pageY;\n\n    const isClickedBottom =\n      event.target instanceof Element &&\n      event.target.isEqualNode(this.nodes.redactor) &&\n      /**\n       * If there is cross block selection started, target will be equal to redactor so we need additional check\n       */\n      !BlockSelection.anyBlockSelected &&\n      /**\n       * Prevent caret jumping (to last block) when clicking between blocks\n       */\n      lastBlockBottomCoord < clickedCoord;\n\n    if (isClickedBottom) {\n      stopPropagation();\n\n      const { BlockManager, Caret, Toolbar } = this.Editor;\n\n      /**\n       * Insert a default-block at the bottom if:\n       * - last-block is not a default-block (Text)\n       *   to prevent unnecessary tree-walking on Tools with many nodes (for ex. Table)\n       * - Or, default-block is not empty\n       */\n      if (\n        !BlockManager.lastBlock.tool.isDefault ||\n        !BlockManager.lastBlock.isEmpty\n      ) {\n        BlockManager.insertAtEnd();\n      }\n\n      /**\n       * Set the caret and toolbar to empty Block\n       */\n      Caret.setToTheLastBlock();\n      Toolbar.moveAndOpen(BlockManager.lastBlock);\n    }\n  }\n\n  /**\n   * Handle selection changes on mobile devices\n   * Uses for showing the Inline Toolbar\n   */\n  private selectionChanged(): void {\n    const { CrossBlockSelection, BlockSelection } = this.Editor;\n    const focusedElement = Selection.anchorElement;\n\n    if (CrossBlockSelection.isCrossBlockSelectionStarted) {\n      // Removes all ranges when any Block is selected\n      if (BlockSelection.anyBlockSelected) {\n        Selection.get().removeAllRanges();\n      }\n    }\n\n    /**\n     * Usual clicks on some controls, for example, Block Tunes Toggler\n     */\n    if (!focusedElement) {\n      /**\n       * If there is no selected range, close inline toolbar\n       *\n       * @todo Make this method more straightforward\n       */\n      if (!Selection.range) {\n        this.Editor.InlineToolbar.close();\n      }\n\n      return;\n    }\n\n    /**\n     * Event can be fired on clicks at non-block-content elements,\n     * for example, at the Inline Toolbar or some Block Tune element\n     */\n    const clickedOutsideBlockContent =\n      focusedElement.closest(`.${Block.CSS.content}`) === null;\n\n    if (clickedOutsideBlockContent) {\n      /**\n       * If new selection is not on Inline Toolbar, we need to close it\n       */\n      if (!this.Editor.InlineToolbar.containsNode(focusedElement)) {\n        this.Editor.InlineToolbar.close();\n      }\n\n      /**\n       * Case when we click on external tool elements,\n       * for example some Block Tune element.\n       * If this external content editable element has data-inline-toolbar=\"true\"\n       */\n      const inlineToolbarEnabledForExternalTool =\n        (focusedElement as HTMLElement).dataset.inlineToolbar === \"true\";\n\n      if (!inlineToolbarEnabledForExternalTool) {\n        return;\n      }\n    }\n\n    /**\n     * Set current block when entering to Editor.js by tab key\n     */\n    if (!this.Editor.BlockManager.currentBlock) {\n      this.Editor.BlockManager.setCurrentBlockByChildNode(focusedElement);\n    }\n\n    const isNeedToShowConversionToolbar = clickedOutsideBlockContent !== true;\n\n    /**\n     * @todo add debounce\n     */\n    this.Editor.InlineToolbar.tryToShow(true, isNeedToShowConversionToolbar);\n  }\n}\n","'use strict';\n\n/**\n * Extend Element interface to include prefixed and experimental properties\n */\ninterface Element {\n  matchesSelector: (selector: string) => boolean;\n  mozMatchesSelector: (selector: string) => boolean;\n  msMatchesSelector: (selector: string) => boolean;\n  oMatchesSelector: (selector: string) => boolean;\n\n  prepend: (...nodes: Array<string | Node>) => void;\n  append: (...nodes: Array<string | Node>) => void;\n}\n\n/**\n * The Element.matches() method returns true if the element\n * would be selected by the specified selector string;\n * otherwise, returns false.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill}\n * @param {string} s - selector\n */\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function (s): boolean {\n      const matches = (this.document || this.ownerDocument).querySelectorAll(s);\n      let i = matches.length;\n\n      while (--i >= 0 && matches.item(i) !== this) {\n      }\n\n      return i > -1;\n    };\n}\n\n/**\n * The Element.closest() method returns the closest ancestor\n * of the current element (or the current element itself) which\n * matches the selectors given in parameter.\n * If there isn't such an ancestor, it returns null.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill}\n * @param {string} s - selector\n */\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function (s): Element | null {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let el = this;\n\n    if (!document.documentElement.contains(el)) {\n      return null;\n    }\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = el.parentElement || el.parentNode;\n    } while (el !== null);\n\n    return null;\n  };\n}\n\n/**\n * The ParentNode.prepend method inserts a set of Node objects\n * or DOMString objects before the first child of the ParentNode.\n * DOMString objects are inserted as equivalent Text nodes.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/prepend#Polyfill}\n * @param {Node | Node[] | string | string[]} nodes - nodes to prepend\n */\nif (!Element.prototype.prepend) {\n  Element.prototype.prepend = function prepend(nodes: Array<Node | string> | Node | string): void {\n    const docFrag = document.createDocumentFragment();\n\n    if (!Array.isArray(nodes)) {\n      nodes = [ nodes ];\n    }\n\n    nodes.forEach((node: Node | string) => {\n      const isNode = node instanceof Node;\n\n      docFrag.appendChild(isNode ? node as Node : document.createTextNode(node as string));\n    });\n\n    this.insertBefore(docFrag, this.firstChild);\n  };\n}\n\ninterface Element {\n  /**\n   * Scrolls the current element into the visible area of the browser window\n   *\n   * @param centerIfNeeded - true, if the element should be aligned so it is centered within the visible area of the scrollable ancestor.\n   */\n  scrollIntoViewIfNeeded(centerIfNeeded?: boolean): void;\n}\n\n/**\n * ScrollIntoViewIfNeeded polyfill by KilianSSL (forked from hsablonniere)\n *\n * @see {@link https://gist.github.com/KilianSSL/774297b76378566588f02538631c3137}\n * @param centerIfNeeded - true, if the element should be aligned so it is centered within the visible area of the scrollable ancestor.\n */\nif (!Element.prototype.scrollIntoViewIfNeeded) {\n  Element.prototype.scrollIntoViewIfNeeded = function (centerIfNeeded): void {\n    centerIfNeeded = arguments.length === 0 ? true : !!centerIfNeeded;\n\n    const parent = this.parentNode,\n        parentComputedStyle = window.getComputedStyle(parent, null),\n        parentBorderTopWidth = parseInt(parentComputedStyle.getPropertyValue('border-top-width')),\n        parentBorderLeftWidth = parseInt(parentComputedStyle.getPropertyValue('border-left-width')),\n        overTop = this.offsetTop - parent.offsetTop < parent.scrollTop,\n        overBottom = (this.offsetTop - parent.offsetTop + this.clientHeight - parentBorderTopWidth) > (parent.scrollTop + parent.clientHeight),\n        overLeft = this.offsetLeft - parent.offsetLeft < parent.scrollLeft,\n        overRight = (this.offsetLeft - parent.offsetLeft + this.clientWidth - parentBorderLeftWidth) > (parent.scrollLeft + parent.clientWidth),\n        alignWithTop = overTop && !overBottom;\n\n    if ((overTop || overBottom) && centerIfNeeded) {\n      parent.scrollTop = this.offsetTop - parent.offsetTop - parent.clientHeight / 2 - parentBorderTopWidth + this.clientHeight / 2;\n    }\n\n    if ((overLeft || overRight) && centerIfNeeded) {\n      parent.scrollLeft = this.offsetLeft - parent.offsetLeft - parent.clientWidth / 2 - parentBorderLeftWidth + this.clientWidth / 2;\n    }\n\n    if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded) {\n      this.scrollIntoView(alignWithTop);\n    }\n  };\n}\n\n/**\n * RequestIdleCallback polyfill (shims)\n *\n * @see https://developer.chrome.com/blog/using-requestidlecallback/\n * @param cb - callback to be executed when the browser is idle\n */\nwindow.requestIdleCallback = window.requestIdleCallback || function (cb) {\n  const start = Date.now();\n\n  return setTimeout(function () {\n    cb({\n      didTimeout: false,\n      timeRemaining: function () {\n        // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n        return Math.max(0, 50 - (Date.now() - start));\n      },\n    });\n  }, 1);\n};\n\nwindow.cancelIdleCallback = window.cancelIdleCallback || function (id) {\n  clearTimeout(id);\n};\n","/**\n * TextRange interface for IE9-\n */\nimport * as _ from './utils';\nimport $ from './dom';\n\ninterface TextRange {\n  boundingTop: number;\n  boundingLeft: number;\n  boundingBottom: number;\n  boundingRight: number;\n  boundingHeight: number;\n  boundingWidth: number;\n}\n\n/**\n * Interface for object returned by document.selection in IE9-\n */\ninterface MSSelection {\n  createRange: () => TextRange;\n  type: string;\n}\n\n/**\n * Extends Document interface for IE9-\n */\ninterface Document {\n  selection?: MSSelection;\n}\n\n/**\n * Working with selection\n *\n * @typedef {SelectionUtils} SelectionUtils\n */\nexport default class SelectionUtils {\n  /**\n   * Selection instances\n   *\n   * @todo Check if this is still relevant\n   */\n  public instance: Selection = null;\n  public selection: Selection = null;\n\n  /**\n   * This property can store SelectionUtils's range for restoring later\n   *\n   * @type {Range|null}\n   */\n  public savedSelectionRange: Range = null;\n\n  /**\n   * Fake background is active\n   *\n   * @returns {boolean}\n   */\n  public isFakeBackgroundEnabled = false;\n\n  /**\n   * Native Document's commands for fake background\n   */\n  private readonly commandBackground: string = 'backColor';\n  private readonly commandRemoveFormat: string = 'removeFormat';\n\n  /**\n   * Editor styles\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  public static get CSS(): { editorWrapper: string; editorZone: string } {\n    return {\n      editorWrapper: 'codex-editor',\n      editorZone: 'codex-editor__redactor',\n    };\n  }\n\n  /**\n   * Returns selected anchor\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorNode}\n   *\n   * @returns {Node|null}\n   */\n  public static get anchorNode(): Node | null {\n    const selection = window.getSelection();\n\n    return selection ? selection.anchorNode : null;\n  }\n\n  /**\n   * Returns selected anchor element\n   *\n   * @returns {Element|null}\n   */\n  public static get anchorElement(): Element | null {\n    const selection = window.getSelection();\n\n    if (!selection) {\n      return null;\n    }\n\n    const anchorNode = selection.anchorNode;\n\n    if (!anchorNode) {\n      return null;\n    }\n\n    if (!$.isElement(anchorNode)) {\n      return anchorNode.parentElement;\n    } else {\n      return anchorNode;\n    }\n  }\n\n  /**\n   * Returns selection offset according to the anchor node\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorOffset}\n   *\n   * @returns {number|null}\n   */\n  public static get anchorOffset(): number | null {\n    const selection = window.getSelection();\n\n    return selection ? selection.anchorOffset : null;\n  }\n\n  /**\n   * Is current selection range collapsed\n   *\n   * @returns {boolean|null}\n   */\n  public static get isCollapsed(): boolean | null {\n    const selection = window.getSelection();\n\n    return selection ? selection.isCollapsed : null;\n  }\n\n  /**\n   * Check current selection if it is at Editor's zone\n   *\n   * @returns {boolean}\n   */\n  public static get isAtEditor(): boolean {\n    return this.isSelectionAtEditor(SelectionUtils.get());\n  }\n\n  /**\n   * Check if passed selection is at Editor's zone\n   *\n   * @param selection - Selection object to check\n   */\n  public static isSelectionAtEditor(selection: Selection): boolean {\n    if (!selection) {\n      return false;\n    }\n\n    /**\n     * Something selected on document\n     */\n    let selectedNode = (selection.anchorNode || selection.focusNode) as HTMLElement;\n\n    if (selectedNode && selectedNode.nodeType === Node.TEXT_NODE) {\n      selectedNode = selectedNode.parentNode as HTMLElement;\n    }\n\n    let editorZone = null;\n\n    if (selectedNode && selectedNode instanceof Element) {\n      editorZone = selectedNode.closest(`.${SelectionUtils.CSS.editorZone}`);\n    }\n\n    /**\n     * SelectionUtils is not out of Editor because Editor's wrapper was found\n     */\n    return editorZone ? editorZone.nodeType === Node.ELEMENT_NODE : false;\n  }\n\n  /**\n   * Check if passed range at Editor zone\n   *\n   * @param range - range to check\n   */\n  public static isRangeAtEditor(range: Range): boolean {\n    if (!range) {\n      return;\n    }\n\n    let selectedNode = range.startContainer as HTMLElement;\n\n    if (selectedNode && selectedNode.nodeType === Node.TEXT_NODE) {\n      selectedNode = selectedNode.parentNode as HTMLElement;\n    }\n\n    let editorZone = null;\n\n    if (selectedNode && selectedNode instanceof Element) {\n      editorZone = selectedNode.closest(`.${SelectionUtils.CSS.editorZone}`);\n    }\n\n    /**\n     * SelectionUtils is not out of Editor because Editor's wrapper was found\n     */\n    return editorZone ? editorZone.nodeType === Node.ELEMENT_NODE : false;\n  }\n\n  /**\n   * Methods return boolean that true if selection exists on the page\n   */\n  public static get isSelectionExists(): boolean {\n    const selection = SelectionUtils.get();\n\n    return !!selection.anchorNode;\n  }\n\n  /**\n   * Return first range\n   *\n   * @returns {Range|null}\n   */\n  public static get range(): Range | null {\n    return this.getRangeFromSelection(this.get());\n  }\n\n  /**\n   * Returns range from passed Selection object\n   *\n   * @param selection - Selection object to get Range from\n   */\n  public static getRangeFromSelection(selection: Selection): Range | null {\n    return selection && selection.rangeCount ? selection.getRangeAt(0) : null;\n  }\n\n  /**\n   * Calculates position and size of selected text\n   *\n   * @returns {DOMRect | ClientRect}\n   */\n  public static get rect(): DOMRect | ClientRect {\n    let sel: Selection | MSSelection = (document as Document).selection,\n        range: TextRange | Range;\n\n    let rect = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    } as DOMRect;\n\n    if (sel && sel.type !== 'Control') {\n      sel = sel as MSSelection;\n      range = sel.createRange() as TextRange;\n      rect.x = range.boundingLeft;\n      rect.y = range.boundingTop;\n      rect.width = range.boundingWidth;\n      rect.height = range.boundingHeight;\n\n      return rect;\n    }\n\n    if (!window.getSelection) {\n      _.log('Method window.getSelection is not supported', 'warn');\n\n      return rect;\n    }\n\n    sel = window.getSelection();\n\n    if (sel.rangeCount === null || isNaN(sel.rangeCount)) {\n      _.log('Method SelectionUtils.rangeCount is not supported', 'warn');\n\n      return rect;\n    }\n\n    if (sel.rangeCount === 0) {\n      return rect;\n    }\n\n    range = sel.getRangeAt(0).cloneRange() as Range;\n\n    if (range.getBoundingClientRect) {\n      rect = range.getBoundingClientRect() as DOMRect;\n    }\n    // Fall back to inserting a temporary element\n    if (rect.x === 0 && rect.y === 0) {\n      const span = document.createElement('span');\n\n      if (span.getBoundingClientRect) {\n        // Ensure span has dimensions and position by\n        // adding a zero-width space character\n        span.appendChild(document.createTextNode('\\u200b'));\n        range.insertNode(span);\n        rect = span.getBoundingClientRect() as DOMRect;\n\n        const spanParent = span.parentNode;\n\n        spanParent.removeChild(span);\n\n        // Glue any broken text nodes back together\n        spanParent.normalize();\n      }\n    }\n\n    return rect;\n  }\n\n  /**\n   * Returns selected text as String\n   *\n   * @returns {string}\n   */\n  public static get text(): string {\n    return window.getSelection ? window.getSelection().toString() : '';\n  }\n\n  /**\n   * Returns window SelectionUtils\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Window/getSelection}\n   *\n   * @returns {Selection}\n   */\n  public static get(): Selection {\n    return window.getSelection();\n  }\n\n  /**\n   * Set focus to contenteditable or native input element\n   *\n   * @param element - element where to set focus\n   * @param offset - offset of cursor\n   */\n  public static setCursor(element: HTMLElement, offset = 0): DOMRect {\n    const range = document.createRange();\n    const selection = window.getSelection();\n\n    /** if found deepest node is native input */\n    if ($.isNativeInput(element)) {\n      if (!$.canSetCaret(element)) {\n        return;\n      }\n\n      element.focus();\n      element.selectionStart = element.selectionEnd = offset;\n\n      return element.getBoundingClientRect();\n    }\n\n    range.setStart(element, offset);\n    range.setEnd(element, offset);\n\n    selection.removeAllRanges();\n    selection.addRange(range);\n\n    return range.getBoundingClientRect();\n  }\n\n  /**\n   * Check if current range exists and belongs to container\n   *\n   * @param container - where range should be\n   */\n  public static isRangeInsideContainer(container: HTMLElement): boolean {\n    const range = SelectionUtils.range;\n\n    if (range === null) {\n      return false;\n    }\n\n    return container.contains(range.startContainer);\n  }\n\n  /**\n   * Adds fake cursor to the current range\n   */\n  public static addFakeCursor(): void {\n    const range = SelectionUtils.range;\n\n    if (range === null) {\n      return;\n    }\n\n    const fakeCursor = $.make('span', 'codex-editor__fake-cursor');\n\n    fakeCursor.dataset.mutationFree = 'true';\n\n    range.collapse();\n    range.insertNode(fakeCursor);\n  }\n\n  /**\n   * Check if passed element contains a fake cursor\n   *\n   * @param el - where to check\n   */\n  public static isFakeCursorInsideContainer(el: HTMLElement): boolean {\n    return $.find(el, `.codex-editor__fake-cursor`) !== null;\n  }\n\n  /**\n   * Removes fake cursor from a container\n   *\n   * @param container - container to look for\n   */\n  public static removeFakeCursor(container: HTMLElement = document.body): void {\n    const fakeCursor = $.find(container, `.codex-editor__fake-cursor`);\n\n    if (!fakeCursor) {\n      return;\n    }\n\n    fakeCursor.remove();\n  }\n\n  /**\n   * Removes fake background\n   */\n  public removeFakeBackground(): void {\n    if (!this.isFakeBackgroundEnabled) {\n      return;\n    }\n\n    this.isFakeBackgroundEnabled = false;\n    document.execCommand(this.commandRemoveFormat);\n  }\n\n  /**\n   * Sets fake background\n   */\n  public setFakeBackground(): void {\n    document.execCommand(this.commandBackground, false, '#a8d6ff');\n\n    this.isFakeBackgroundEnabled = true;\n  }\n\n  /**\n   * Save SelectionUtils's range\n   */\n  public save(): void {\n    this.savedSelectionRange = SelectionUtils.range;\n  }\n\n  /**\n   * Restore saved SelectionUtils's range\n   */\n  public restore(): void {\n    if (!this.savedSelectionRange) {\n      return;\n    }\n\n    const sel = window.getSelection();\n\n    sel.removeAllRanges();\n    sel.addRange(this.savedSelectionRange);\n  }\n\n  /**\n   * Clears saved selection\n   */\n  public clearSaved(): void {\n    this.savedSelectionRange = null;\n  }\n\n  /**\n   * Collapse current selection\n   */\n  public collapseToEnd(): void {\n    const sel = window.getSelection();\n    const range = document.createRange();\n\n    range.selectNodeContents(sel.focusNode);\n    range.collapse(false);\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n\n  /**\n   * Looks ahead to find passed tag from current selection\n   *\n   * @param  {string} tagName       - tag to found\n   * @param  {string} [className]   - tag's class name\n   * @param  {number} [searchDepth] - count of tags that can be included. For better performance.\n   * @returns {HTMLElement|null}\n   */\n  public findParentTag(tagName: string, className?: string, searchDepth = 10): HTMLElement | null {\n    const selection = window.getSelection();\n    let parentTag = null;\n\n    /**\n     * If selection is missing or no anchorNode or focusNode were found then return null\n     */\n    if (!selection || !selection.anchorNode || !selection.focusNode) {\n      return null;\n    }\n\n    /**\n     * Define Nodes for start and end of selection\n     */\n    const boundNodes = [\n      /** the Node in which the selection begins */\n      selection.anchorNode as HTMLElement,\n      /** the Node in which the selection ends */\n      selection.focusNode as HTMLElement,\n    ];\n\n    /**\n     * For each selection parent Nodes we try to find target tag [with target class name]\n     * It would be saved in parentTag variable\n     */\n    boundNodes.forEach((parent) => {\n      /** Reset tags limit */\n      let searchDepthIterable = searchDepth;\n\n      while (searchDepthIterable > 0 && parent.parentNode) {\n        /**\n         * Check tag's name\n         */\n        if (parent.tagName === tagName) {\n          /**\n           * Save the result\n           */\n          parentTag = parent;\n\n          /**\n           * Optional additional check for class-name mismatching\n           */\n          if (className && parent.classList && !parent.classList.contains(className)) {\n            parentTag = null;\n          }\n\n          /**\n           * If we have found required tag with class then go out from the cycle\n           */\n          if (parentTag) {\n            break;\n          }\n        }\n\n        /**\n         * Target tag was not found. Go up to the parent and check it\n         */\n        parent = parent.parentNode as HTMLElement;\n        searchDepthIterable--;\n      }\n    });\n\n    /**\n     * Return found tag or null\n     */\n    return parentTag;\n  }\n\n  /**\n   * Expands selection range to the passed parent node\n   *\n   * @param {HTMLElement} element - element which contents should be selected\n   */\n  public expandToTag(element: HTMLElement): void {\n    const selection = window.getSelection();\n\n    selection.removeAllRanges();\n    const range = document.createRange();\n\n    range.selectNodeContents(element);\n    selection.addRange(range);\n  }\n}\n","import { Tool, ToolConstructable, ToolSettings } from '../../../types/tools';\nimport { SanitizerConfig } from '../../../types';\nimport * as _ from '../utils';\nimport type InlineTool from './inline';\nimport type BlockTool from './block';\nimport type BlockTune from './tune';\nimport API from '../modules/api';\n\n/**\n * What kind of plugins developers can create\n */\nexport enum ToolType {\n  /**\n   * Block tool\n   */\n  Block,\n  /**\n   * Inline tool\n   */\n  Inline,\n\n  /**\n   * Block tune\n   */\n  Tune,\n}\n\n/**\n * Enum of Tool options provided by user\n */\nexport enum UserSettings {\n  /**\n   * Shortcut for Tool\n   */\n  Shortcut = 'shortcut',\n  /**\n   * Toolbox config for Tool\n   */\n  Toolbox = 'toolbox',\n  /**\n   * Enabled Inline Tools for Block Tool\n   */\n  EnabledInlineTools = 'inlineToolbar',\n  /**\n   * Enabled Block Tunes for Block Tool\n   */\n  EnabledBlockTunes = 'tunes',\n  /**\n   * Tool configuration\n   */\n  Config = 'config',\n}\n\n/**\n * Enum of Tool options provided by Tool\n */\nexport enum CommonInternalSettings {\n  /**\n   * Shortcut for Tool\n   */\n  Shortcut = 'shortcut',\n  /**\n   * Sanitize configuration for Tool\n   */\n  SanitizeConfig = 'sanitize',\n\n}\n\n/**\n * Enum of Tool options provided by Block Tool\n */\nexport enum InternalBlockToolSettings {\n  /**\n   * Is line breaks enabled for Tool\n   */\n  IsEnabledLineBreaks = 'enableLineBreaks',\n  /**\n   * Tool Toolbox config\n   */\n  Toolbox = 'toolbox',\n  /**\n   * Tool conversion config\n   */\n  ConversionConfig = 'conversionConfig',\n  /**\n   * Is readonly mode supported for Tool\n   */\n  IsReadOnlySupported = 'isReadOnlySupported',\n  /**\n   * Tool paste config\n   */\n  PasteConfig = 'pasteConfig'\n}\n\n/**\n * Enum of Tool options provided by Inline Tool\n */\nexport enum InternalInlineToolSettings {\n  /**\n   * Flag specifies Tool is inline\n   */\n  IsInline = 'isInline',\n  /**\n   * Inline Tool title for toolbar\n   */\n  Title = 'title', // for Inline Tools. Block Tools can pass title along with icon through the 'toolbox' static prop.\n}\n\n/**\n * Enum of Tool options provided by Block Tune\n */\nexport enum InternalTuneSettings {\n  /**\n   * Flag specifies Tool is Block Tune\n   */\n  IsTune = 'isTune',\n}\n\nexport type ToolOptions = Omit<ToolSettings, 'class'>;\n\ninterface ConstructorOptions {\n  name: string;\n  constructable: ToolConstructable;\n  config: ToolOptions;\n  api: API;\n  isDefault: boolean;\n  isInternal: boolean;\n  defaultPlaceholder?: string | false;\n}\n\n/**\n * Base abstract class for Tools\n */\nexport default abstract class BaseTool<Type extends Tool = Tool> {\n  /**\n   * Tool type: Block, Inline or Tune\n   */\n  public type: ToolType;\n\n  /**\n   * Tool name specified in EditorJS config\n   */\n  public name: string;\n\n  /**\n   * Flag show is current Tool internal (bundled with EditorJS core) or not\n   */\n  public readonly isInternal: boolean;\n\n  /**\n   * Flag show is current Tool default or not\n   */\n  public readonly isDefault: boolean;\n\n  /**\n   * EditorJS API for current Tool\n   */\n  protected api: API;\n\n  /**\n   * Current tool user configuration\n   */\n  protected config: ToolOptions;\n\n  /**\n   * Tool's constructable blueprint\n   */\n  protected constructable: ToolConstructable;\n\n  /**\n   * Default placeholder specified in EditorJS user configuration\n   */\n  protected defaultPlaceholder?: string | false;\n\n  /**\n   * @class\n   * @param {ConstructorOptions} options - Constructor options\n   */\n  constructor({\n    name,\n    constructable,\n    config,\n    api,\n    isDefault,\n    isInternal = false,\n    defaultPlaceholder,\n  }: ConstructorOptions) {\n    this.api = api;\n    this.name = name;\n    this.constructable = constructable;\n    this.config = config;\n    this.isDefault = isDefault;\n    this.isInternal = isInternal;\n    this.defaultPlaceholder = defaultPlaceholder;\n  }\n\n  /**\n   * Returns Tool user configuration\n   */\n  public get settings(): ToolOptions {\n    const config = this.config[UserSettings.Config] || {};\n\n    if (this.isDefault && !('placeholder' in config) && this.defaultPlaceholder) {\n      config.placeholder = this.defaultPlaceholder;\n    }\n\n    return config;\n  }\n\n  /**\n   * Calls Tool's reset method\n   */\n  public reset(): void | Promise<void> {\n    if (_.isFunction(this.constructable.reset)) {\n      return this.constructable.reset();\n    }\n  }\n\n  /**\n   * Calls Tool's prepare method\n   */\n  public prepare(): void | Promise<void> {\n    if (_.isFunction(this.constructable.prepare)) {\n      return this.constructable.prepare({\n        toolName: this.name,\n        config: this.settings,\n      });\n    }\n  }\n\n  /**\n   * Returns shortcut for Tool (internal or specified by user)\n   */\n  public get shortcut(): string | undefined {\n    const toolShortcut = this.constructable[CommonInternalSettings.Shortcut];\n    const userShortcut = this.config[UserSettings.Shortcut];\n\n    return userShortcut || toolShortcut;\n  }\n\n  /**\n   * Returns Tool's sanitizer configuration\n   */\n  public get sanitizeConfig(): SanitizerConfig {\n    return this.constructable[CommonInternalSettings.SanitizeConfig] || {};\n  }\n\n  /**\n   * Returns true if Tools is inline\n   */\n  public isInline(): this is InlineTool {\n    return this.type === ToolType.Inline;\n  }\n\n  /**\n   * Returns true if Tools is block\n   */\n  public isBlock(): this is BlockTool {\n    return this.type === ToolType.Block;\n  }\n\n  /**\n   * Returns true if Tools is tune\n   */\n  public isTune(): this is BlockTune {\n    return this.type === ToolType.Tune;\n  }\n\n  /**\n   * Constructs new Tool instance from constructable blueprint\n   *\n   * @param args\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public abstract create(...args: any[]): Type;\n}\n","import BaseTool, { InternalBlockToolSettings, ToolType, UserSettings } from './base';\nimport {\n  BlockAPI,\n  BlockTool as IBlockTool,\n  BlockToolConstructable,\n  BlockToolData,\n  ConversionConfig,\n  PasteConfig, SanitizerConfig, ToolboxConfig,\n  ToolboxConfigEntry\n} from '../../../types';\nimport * as _ from '../utils';\nimport InlineTool from './inline';\nimport BlockTune from './tune';\nimport ToolsCollection from './collection';\n\n/**\n * Class to work with Block tools constructables\n */\nexport default class BlockTool extends BaseTool<IBlockTool> {\n  /**\n   * Tool type  Block\n   */\n  public type = ToolType.Block;\n\n  /**\n   * InlineTool collection for current Block Tool\n   */\n  public inlineTools: ToolsCollection<InlineTool> = new ToolsCollection<InlineTool>();\n\n  /**\n   * BlockTune collection for current Block Tool\n   */\n  public tunes: ToolsCollection<BlockTune> = new ToolsCollection<BlockTune>();\n\n  /**\n   * Tool's constructable blueprint\n   */\n  protected constructable: BlockToolConstructable;\n\n  /**\n   * Creates new Tool instance\n   *\n   * @param data - Tool data\n   * @param block - BlockAPI for current Block\n   * @param readOnly - True if Editor is in read-only mode\n   */\n  public create(data: BlockToolData, block: BlockAPI, readOnly: boolean): IBlockTool {\n    // eslint-disable-next-line new-cap\n    return new this.constructable({\n      data,\n      block,\n      readOnly,\n      api: this.api.getMethodsForTool(this),\n      config: this.settings,\n    }) as IBlockTool;\n  }\n\n  /**\n   * Returns true if read-only mode is supported by Tool\n   */\n  public get isReadOnlySupported(): boolean {\n    return this.constructable[InternalBlockToolSettings.IsReadOnlySupported] === true;\n  }\n\n  /**\n   * Returns true if Tool supports linebreaks\n   */\n  public get isLineBreaksEnabled(): boolean {\n    return this.constructable[InternalBlockToolSettings.IsEnabledLineBreaks];\n  }\n\n  /**\n   * Returns Tool toolbox configuration (internal or user-specified).\n   *\n   * Merges internal and user-defined toolbox configs based on the following rules:\n   *\n   * - If both internal and user-defined toolbox configs are arrays their items are merged.\n   * Length of the second one is kept.\n   *\n   * - If both are objects their properties are merged.\n   *\n   * - If one is an object and another is an array than internal config is replaced with user-defined\n   * config. This is made to allow user to override default tool's toolbox representation (single/multiple entries)\n   */\n  public get toolbox(): ToolboxConfigEntry[] | undefined {\n    const toolToolboxSettings = this.constructable[InternalBlockToolSettings.Toolbox] as ToolboxConfig;\n    const userToolboxSettings = this.config[UserSettings.Toolbox];\n\n    if (_.isEmpty(toolToolboxSettings)) {\n      return;\n    }\n    if (userToolboxSettings === false) {\n      return;\n    }\n    /**\n     * Return tool's toolbox settings if user settings are not defined\n     */\n    if (!userToolboxSettings) {\n      return Array.isArray(toolToolboxSettings) ? toolToolboxSettings : [ toolToolboxSettings ];\n    }\n\n    /**\n     * Otherwise merge user settings with tool's settings\n     */\n    if (Array.isArray(toolToolboxSettings)) {\n      if (Array.isArray(userToolboxSettings)) {\n        return userToolboxSettings.map((item, i) => {\n          const toolToolboxEntry = toolToolboxSettings[i];\n\n          if (toolToolboxEntry) {\n            return {\n              ...toolToolboxEntry,\n              ...item,\n            };\n          }\n\n          return item;\n        });\n      }\n\n      return [ userToolboxSettings ];\n    } else {\n      if (Array.isArray(userToolboxSettings)) {\n        return userToolboxSettings;\n      }\n\n      return [\n        {\n          ...toolToolboxSettings,\n          ...userToolboxSettings,\n        },\n      ];\n    }\n  }\n\n  /**\n   * Returns Tool conversion configuration\n   */\n  public get conversionConfig(): ConversionConfig | undefined {\n    return this.constructable[InternalBlockToolSettings.ConversionConfig];\n  }\n\n  /**\n   * Returns enabled inline tools for Tool\n   */\n  public get enabledInlineTools(): boolean | string[] {\n    return this.config[UserSettings.EnabledInlineTools] || false;\n  }\n\n  /**\n   * Returns enabled tunes for Tool\n   */\n  public get enabledBlockTunes(): boolean | string[] {\n    return this.config[UserSettings.EnabledBlockTunes];\n  }\n\n  /**\n   * Returns Tool paste configuration\n   */\n  public get pasteConfig(): PasteConfig {\n    return this.constructable[InternalBlockToolSettings.PasteConfig] ?? {};\n  }\n\n  /**\n   * Returns sanitize configuration for Block Tool including configs from related Inline Tools and Block Tunes\n   */\n  @_.cacheable\n  public get sanitizeConfig(): SanitizerConfig {\n    const toolRules = super.sanitizeConfig;\n    const baseConfig = this.baseSanitizeConfig;\n\n    if (_.isEmpty(toolRules)) {\n      return baseConfig;\n    }\n\n    const toolConfig = {} as SanitizerConfig;\n\n    for (const fieldName in toolRules) {\n      if (Object.prototype.hasOwnProperty.call(toolRules, fieldName)) {\n        const rule = toolRules[fieldName];\n\n        /**\n         * If rule is object, merge it with Inline Tools configuration\n         *\n         * Otherwise pass as it is\n         */\n        if (_.isObject(rule)) {\n          toolConfig[fieldName] = Object.assign({}, baseConfig, rule);\n        } else {\n          toolConfig[fieldName] = rule;\n        }\n      }\n    }\n\n    return toolConfig;\n  }\n\n  /**\n   * Returns sanitizer configuration composed from sanitize config of Inline Tools enabled for Tool\n   */\n  @_.cacheable\n  public get baseSanitizeConfig(): SanitizerConfig {\n    const baseConfig = {};\n\n    Array\n      .from(this.inlineTools.values())\n      .forEach(tool => Object.assign(baseConfig, tool.sanitizeConfig));\n\n    Array\n      .from(this.tunes.values())\n      .forEach(tune => Object.assign(baseConfig, tune.sanitizeConfig));\n\n    return baseConfig;\n  }\n}\n","import BlockTool from './block';\nimport InlineTool from './inline';\nimport BlockTune from './tune';\n\nexport type ToolClass = BlockTool | InlineTool | BlockTune;\n\n/**\n * Class to store Editor Tools\n */\nexport default class ToolsCollection<V extends ToolClass = ToolClass> extends Map<string, V> {\n  /**\n   * Returns Block Tools collection\n   */\n  public get blockTools(): ToolsCollection<BlockTool> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => tool.isBlock()) as [string, BlockTool][];\n\n    return new ToolsCollection<BlockTool>(tools);\n  }\n\n  /**\n   * Returns Inline Tools collection\n   */\n  public get inlineTools(): ToolsCollection<InlineTool> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => tool.isInline()) as [string, InlineTool][];\n\n    return new ToolsCollection<InlineTool>(tools);\n  }\n\n  /**\n   * Returns Block Tunes collection\n   */\n  public get blockTunes(): ToolsCollection<BlockTune> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => tool.isTune()) as [string, BlockTune][];\n\n    return new ToolsCollection<BlockTune>(tools);\n  }\n\n  /**\n   * Returns internal Tools collection\n   */\n  public get internalTools(): ToolsCollection<V> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => tool.isInternal);\n\n    return new ToolsCollection<V>(tools);\n  }\n\n  /**\n   * Returns Tools collection provided by user\n   */\n  public get externalTools(): ToolsCollection<V> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => !tool.isInternal);\n\n    return new ToolsCollection<V>(tools);\n  }\n}\n","import { ToolConstructable, ToolSettings } from '../../../types/tools';\nimport { InternalInlineToolSettings, InternalTuneSettings } from './base';\nimport InlineTool from './inline';\nimport BlockTune from './tune';\nimport BlockTool from './block';\nimport API from '../modules/api';\nimport { EditorConfig } from '../../../types/configs';\n\ntype ToolConstructor = typeof InlineTool | typeof BlockTool | typeof BlockTune;\n\n/**\n * Factory to construct classes to work with tools\n */\nexport default class ToolsFactory {\n  /**\n   * Tools configuration specified by user\n   */\n  private config: {[name: string]: ToolSettings & { isInternal?: boolean }};\n\n  /**\n   * EditorJS API Module\n   */\n  private api: API;\n\n  /**\n   * EditorJS configuration\n   */\n  private editorConfig: EditorConfig;\n\n  /**\n   * @class\n   * @param config - tools config\n   * @param editorConfig - EditorJS config\n   * @param api - EditorJS API module\n   */\n  constructor(\n    config: {[name: string]: ToolSettings & { isInternal?: boolean }},\n    editorConfig: EditorConfig,\n    api: API\n  ) {\n    this.api = api;\n    this.config = config;\n    this.editorConfig = editorConfig;\n  }\n\n  /**\n   * Returns Tool object based on it's type\n   *\n   * @param name - tool name\n   */\n  public get(name: string): InlineTool | BlockTool | BlockTune {\n    const { class: constructable, isInternal = false, ...config } = this.config[name];\n\n    const Constructor = this.getConstructor(constructable);\n\n    return new Constructor({\n      name,\n      constructable,\n      config,\n      api: this.api,\n      isDefault: name === this.editorConfig.defaultBlock,\n      defaultPlaceholder: this.editorConfig.placeholder,\n      isInternal,\n    });\n  }\n\n  /**\n   * Find appropriate Tool object constructor for Tool constructable\n   *\n   * @param constructable - Tools constructable\n   */\n  private getConstructor(constructable: ToolConstructable): ToolConstructor {\n    switch (true) {\n      case constructable[InternalInlineToolSettings.IsInline]:\n        return InlineTool;\n      case constructable[InternalTuneSettings.IsTune]:\n        return BlockTune;\n      default:\n        return BlockTool;\n    }\n  }\n}\n","import BaseTool, { InternalInlineToolSettings, ToolType } from './base';\nimport { InlineTool as IInlineTool, InlineToolConstructable } from '../../../types';\n\n/**\n * InlineTool object to work with Inline Tools constructables\n */\nexport default class InlineTool extends BaseTool<IInlineTool> {\n  /**\n   * Tool type  Inline\n   */\n  public type = ToolType.Inline;\n\n  /**\n   * Tool's constructable blueprint\n   */\n  protected constructable: InlineToolConstructable;\n\n  /**\n   * Returns title for Inline Tool if specified by user\n   */\n  public get title(): string {\n    return this.constructable[InternalInlineToolSettings.Title];\n  }\n\n  /**\n   * Constructs new InlineTool instance from constructable\n   */\n  public create(): IInlineTool {\n    // eslint-disable-next-line new-cap\n    return new this.constructable({\n      api: this.api.getMethodsForTool(this),\n      config: this.settings,\n    }) as IInlineTool;\n  }\n}\n","import BaseTool, { ToolType } from './base';\nimport { BlockAPI, BlockTune as IBlockTune, BlockTuneConstructable } from '../../../types';\nimport { BlockTuneData } from '../../../types/block-tunes/block-tune-data';\n\n/**\n * Stub class for BlockTunes\n *\n * @todo Implement\n */\nexport default class BlockTune extends BaseTool<IBlockTune> {\n  /**\n   * Tool type  Tune\n   */\n  public type = ToolType.Tune;\n\n  /**\n   * Tool's constructable blueprint\n   */\n  protected readonly constructable: BlockTuneConstructable;\n\n  /**\n   * Constructs new BlockTune instance from constructable\n   *\n   * @param data - Tune data\n   * @param block - Block API object\n   */\n  public create(data: BlockTuneData, block: BlockAPI): IBlockTune {\n    // eslint-disable-next-line new-cap\n    return new this.constructable({\n      api: this.api.getMethodsForTool(this),\n      config: this.settings,\n      block,\n      data,\n    });\n  }\n}\n","import * as _ from '../utils';\nimport { BlockToolAPI } from '../block';\nimport Shortcuts from '../utils/shortcuts';\nimport BlockTool from '../tools/block';\nimport ToolsCollection from '../tools/collection';\nimport { API, BlockToolData, ToolboxConfigEntry, PopoverItem, BlockAPI } from '../../../types';\nimport EventsDispatcher from '../utils/events';\nimport Popover, { PopoverEvent } from '../utils/popover';\nimport I18n from '../i18n';\nimport { I18nInternalNS } from '../i18n/namespace-internal';\n\n/**\n * @todo the first Tab on the Block  focus Plus Button, the second  focus Block Tunes Toggler, the third  focus next Block\n */\n\n/**\n * Event that can be triggered by the Toolbox\n */\nexport enum ToolboxEvent {\n  /**\n   * When the Toolbox is opened\n   */\n  Opened = 'toolbox-opened',\n\n  /**\n   * When the Toolbox is closed\n   */\n  Closed = 'toolbox-closed',\n\n  /**\n   * When the new Block added by Toolbox\n   */\n  BlockAdded = 'toolbox-block-added',\n}\n\n/**\n * Events fired by the Toolbox\n *\n * Event name -> payload\n */\nexport interface ToolboxEventMap {\n  [ToolboxEvent.Opened]: undefined;\n  [ToolboxEvent.Closed]: undefined;\n  [ToolboxEvent.BlockAdded]: {\n    block: BlockAPI\n  };\n}\n\n/**\n * Available i18n dict keys that should be passed to the constructor\n */\ntype ToolboxTextLabelsKeys = 'filter' | 'nothingFound';\n\n/**\n * Toolbox\n * This UI element contains list of Block Tools available to be inserted\n * It appears after click on the Plus Button\n *\n * @implements {EventsDispatcher} with some events, see {@link ToolboxEvent}\n */\nexport default class Toolbox extends EventsDispatcher<ToolboxEventMap> {\n  /**\n   * Returns True if Toolbox is Empty and nothing to show\n   *\n   * @returns {boolean}\n   */\n  public get isEmpty(): boolean {\n    return this.toolsToBeDisplayed.length === 0;\n  }\n\n  /**\n   * Opening state\n   *\n   * @type {boolean}\n   */\n  public opened = false;\n\n  /**\n   * Editor API\n   */\n  private api: API;\n\n  /**\n   * Popover instance. There is a util for vertical lists.\n   */\n  private popover: Popover | undefined;\n\n  /**\n   * List of Tools available. Some of them will be shown in the Toolbox\n   */\n  private tools: ToolsCollection<BlockTool>;\n\n  /**\n   * Text labels used in the Toolbox. Should be passed from the i18n module\n   */\n  private i18nLabels: Record<ToolboxTextLabelsKeys, string>;\n\n  /**\n   * Current module HTML Elements\n   */\n  private nodes: {\n    toolbox: HTMLElement | null;\n  } = {\n      toolbox: null,\n    };\n\n  /**\n   * CSS styles\n   *\n   * @returns {Object<string, string>}\n   */\n  private static get CSS(): { [name: string]: string } {\n    return {\n      toolbox: 'ce-toolbox',\n    };\n  }\n\n  /**\n   * Toolbox constructor\n   *\n   * @param options - available parameters\n   * @param options.api - Editor API methods\n   * @param options.tools - Tools available to check whether some of them should be displayed at the Toolbox or not\n   */\n  constructor({ api, tools, i18nLabels }: {api: API; tools: ToolsCollection<BlockTool>; i18nLabels: Record<ToolboxTextLabelsKeys, string>}) {\n    super();\n\n    this.api = api;\n    this.tools = tools;\n    this.i18nLabels = i18nLabels;\n  }\n\n  /**\n   * Makes the Toolbox\n   */\n  public make(): Element {\n    // this.nodes.toolbox = $.make(\"div\", Toolbox.CSS.toolbox);\n    this.popover = new Popover({\n      scopeElement: this.api.ui.nodes.redactor,\n      searchable: true,\n      messages: {\n        nothingFound: this.i18nLabels.nothingFound,\n        search: this.i18nLabels.filter,\n      },\n      items: this.toolboxItemsToBeDisplayed,\n    });\n\n    this.popover.on(PopoverEvent.Close, this.onPopoverClose);\n\n    /**\n     * Enable tools shortcuts\n     */\n    this.enableShortcuts();\n\n    this.nodes.toolbox = this.popover.getElement();\n    this.nodes.toolbox.classList.add(Toolbox.CSS.toolbox);\n\n    return this.nodes.toolbox;\n  }\n\n  /**\n   * Returns true if the Toolbox has the Flipper activated and the Flipper has selected button\n   */\n  public hasFocus(): boolean | undefined {\n    return this.popover?.hasFocus();\n  }\n\n  /**\n   * Destroy Module\n   */\n  public destroy(): void {\n    super.destroy();\n\n    if (this.nodes && this.nodes.toolbox) {\n      this.nodes.toolbox.remove();\n      this.nodes.toolbox = null;\n    }\n\n    this.removeAllShortcuts();\n    this.popover?.off(PopoverEvent.Close, this.onPopoverClose);\n  }\n\n  /**\n   * Toolbox Tool's button click handler\n   *\n   * @param toolName - tool type to be activated\n   * @param blockDataOverrides - Block data predefined by the activated Toolbox item\n   */\n  public toolButtonActivated(toolName: string, blockDataOverrides: BlockToolData): void {\n    this.insertNewBlock(toolName, blockDataOverrides);\n  }\n\n  /**\n   * Open Toolbox with Tools\n   */\n  public open(): void {\n    if (this.isEmpty) {\n      return;\n    }\n\n    this.popover?.show();\n    this.opened = true;\n    this.emit(ToolboxEvent.Opened);\n  }\n\n  /**\n   * Close Toolbox\n   */\n  public close(): void {\n    this.popover?.hide();\n    this.opened = false;\n    this.emit(ToolboxEvent.Closed);\n  }\n\n  /**\n   * Close Toolbox\n   */\n  public toggle(): void {\n    if (!this.opened) {\n      this.open();\n    } else {\n      this.close();\n    }\n  }\n\n  /**\n   * Handles popover close event\n   */\n  private onPopoverClose = (): void => {\n    this.opened = false;\n    this.emit(ToolboxEvent.Closed);\n  };\n\n  /**\n   * Returns list of tools that enables the Toolbox (by specifying the 'toolbox' getter)\n   */\n  @_.cacheable\n  private get toolsToBeDisplayed(): BlockTool[] {\n    const result: BlockTool[] = [];\n\n    this.tools.forEach((tool) => {\n      const toolToolboxSettings = tool.toolbox;\n\n      if (toolToolboxSettings) {\n        result.push(tool);\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * Returns list of items that will be displayed in toolbox\n   */\n  @_.cacheable\n  private get toolboxItemsToBeDisplayed(): PopoverItem[] {\n    /**\n     * Maps tool data to popover item structure\n     */\n    const toPopoverItem = (toolboxItem: ToolboxConfigEntry, tool: BlockTool): PopoverItem => {\n      return {\n        icon: toolboxItem.icon,\n        title: I18n.t(I18nInternalNS.toolNames, toolboxItem.title || _.capitalize(tool.name)),\n        name: tool.name,\n        onActivate: (): void => {\n          this.toolButtonActivated(tool.name, toolboxItem.data);\n        },\n        secondaryLabel: tool.shortcut ? _.beautifyShortcut(tool.shortcut) : '',\n      };\n    };\n\n    return this.toolsToBeDisplayed\n      .reduce<PopoverItem[]>((result, tool) => {\n        if (Array.isArray(tool.toolbox)) {\n          tool.toolbox.forEach(item => {\n            result.push(toPopoverItem(item, tool));\n          });\n        } else if (tool.toolbox !== undefined)  {\n          result.push(toPopoverItem(tool.toolbox, tool));\n        }\n\n        return result;\n      }, []);\n  }\n\n  /**\n   * Iterate all tools and enable theirs shortcuts if specified\n   */\n  private enableShortcuts(): void {\n    this.toolsToBeDisplayed.forEach((tool: BlockTool) => {\n      const shortcut = tool.shortcut;\n\n      if (shortcut) {\n        this.enableShortcutForTool(tool.name, shortcut);\n      }\n    });\n  }\n\n  /**\n   * Enable shortcut Block Tool implemented shortcut\n   *\n   * @param {string} toolName - Tool name\n   * @param {string} shortcut - shortcut according to the ShortcutData Module format\n   */\n  private enableShortcutForTool(toolName: string, shortcut: string): void {\n    Shortcuts.add({\n      name: shortcut,\n      on: this.api.ui.nodes.redactor,\n      handler: (event: KeyboardEvent) => {\n        event.preventDefault();\n\n        const currentBlockIndex = this.api.blocks.getCurrentBlockIndex();\n        const currentBlock = this.api.blocks.getBlockByIndex(currentBlockIndex);\n\n        /**\n         * Try to convert current Block to shortcut's tool\n         * If conversion is not possible, insert a new Block below\n         */\n        if (currentBlock) {\n          try {\n            this.api.blocks.convert(currentBlock.id, toolName);\n\n            window.requestAnimationFrame(() => {\n              this.api.caret.setToBlock(currentBlockIndex, 'end');\n            });\n\n            return;\n          } catch (error) {}\n        }\n\n        this.insertNewBlock(toolName);\n      },\n    });\n  }\n\n  /**\n   * Removes all added shortcuts\n   * Fired when the Read-Only mode is activated\n   */\n  private removeAllShortcuts(): void {\n    this.toolsToBeDisplayed.forEach((tool: BlockTool) => {\n      const shortcut = tool.shortcut;\n\n      if (shortcut) {\n        Shortcuts.remove(this.api.ui.nodes.redactor, shortcut);\n      }\n    });\n  }\n\n  /**\n   * Inserts new block\n   * Can be called when button clicked on Toolbox or by ShortcutData\n   *\n   * @param {string} toolName - Tool name\n   * @param blockDataOverrides - predefined Block data\n   */\n  private async insertNewBlock(toolName: string, blockDataOverrides?: BlockToolData): Promise<void> {\n    const currentBlockIndex = this.api.blocks.getCurrentBlockIndex();\n    const currentBlock = this.api.blocks.getBlockByIndex(currentBlockIndex);\n\n    if (!currentBlock) {\n      return;\n    }\n\n    /**\n     * On mobile version, we see the Plus Button even near non-empty blocks,\n     * so if current block is not empty, add the new block below the current\n     */\n    const index = currentBlock.isEmpty\n      ? currentBlockIndex\n      : currentBlockIndex + 1;\n\n    let blockData;\n\n    if (blockDataOverrides) {\n      /**\n       * Merge real tool's data with data overrides\n       */\n      const defaultBlockData = await this.api.blocks.composeBlockData(toolName);\n\n      blockData = Object.assign(defaultBlockData, blockDataOverrides);\n    }\n\n    const newBlock = this.api.blocks.insert(\n      toolName,\n      blockData,\n      undefined,\n      index,\n      undefined,\n      currentBlock.isEmpty\n    );\n\n    /**\n     * Apply callback before inserting html\n     */\n    newBlock.call(BlockToolAPI.APPEND_CALLBACK);\n\n    this.api.caret.setToBlock(index);\n\n    this.emit(ToolboxEvent.BlockAdded, {\n      block: newBlock,\n    });\n\n    /**\n     * close toolbar when node is changed\n     */\n    this.api.toolbar.close();\n  }\n}\n","/**\n * Class Util\n */\n\nimport { nanoid } from 'nanoid';\nimport Dom from './dom';\n\n/**\n * Possible log levels\n */\nexport enum LogLevels {\n  VERBOSE = 'VERBOSE',\n  INFO = 'INFO',\n  WARN = 'WARN',\n  ERROR = 'ERROR',\n}\n\n/**\n * Allow to use global VERSION, that will be overwritten by Webpack\n */\ndeclare const VERSION: string;\n\n/**\n * @typedef {object} ChainData\n * @property {object} data - data that will be passed to the success or fallback\n * @property {Function} function - function's that must be called asynchronously\n * @interface ChainData\n */\nexport interface ChainData {\n  data?: object;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function: (...args: any[]) => any;\n}\n\n/**\n * Editor.js utils\n */\n\n/**\n * Returns basic key codes as constants\n *\n * @returns {{}}\n */\nexport const keyCodes = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  DOWN: 40,\n  RIGHT: 39,\n  DELETE: 46,\n  META: 91,\n};\n\n/**\n * Return mouse buttons codes\n */\nexport const mouseButtons = {\n  LEFT: 0,\n  WHEEL: 1,\n  RIGHT: 2,\n  BACKWARD: 3,\n  FORWARD: 4,\n};\n\n/**\n * Custom logger\n *\n * @param {boolean} labeled  if true, Editor.js label is shown\n * @param {string} msg  - message\n * @param {string} type - logging type 'log'|'warn'|'error'|'info'\n * @param {*} [args]      - argument to log with a message\n * @param {string} style  - additional styling to message\n */\nfunction _log(\n  labeled: boolean,\n  msg: string,\n  type = 'log',\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  args?: any,\n  style = 'color: inherit'\n): void {\n  if (!('console' in window) || !window.console[type]) {\n    return;\n  }\n\n  const isSimpleType = ['info', 'log', 'warn', 'error'].includes(type);\n  const argsToPass = [];\n\n  switch (_log.logLevel) {\n    case LogLevels.ERROR:\n      if (type !== 'error') {\n        return;\n      }\n      break;\n\n    case LogLevels.WARN:\n      if (!['error', 'warn'].includes(type)) {\n        return;\n      }\n      break;\n\n    case LogLevels.INFO:\n      if (!isSimpleType || labeled) {\n        return;\n      }\n      break;\n  }\n\n  if (args) {\n    argsToPass.push(args);\n  }\n\n  const editorLabelText = `Editor.js ${VERSION}`;\n  const editorLabelStyle = `line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;`;\n\n  if (labeled) {\n    if (isSimpleType) {\n      argsToPass.unshift(editorLabelStyle, style);\n      msg = `%c${editorLabelText}%c ${msg}`;\n    } else {\n      msg = `( ${editorLabelText} )${msg}`;\n    }\n  }\n\n  try {\n    if (!isSimpleType) {\n      console[type](msg);\n    } else if (args) {\n      console[type](`${msg} %o`, ...argsToPass);\n    } else {\n      console[type](msg, ...argsToPass);\n    }\n  } catch (ignored) {}\n}\n\n/**\n * Current log level\n */\n_log.logLevel = LogLevels.VERBOSE;\n\n/**\n * Set current log level\n *\n * @param {LogLevels} logLevel - log level to set\n */\nexport function setLogLevel(logLevel: LogLevels): void {\n  _log.logLevel = logLevel;\n}\n\n/**\n * _log method proxy without Editor.js label\n */\nexport const log = _log.bind(window, false);\n\n/**\n * _log method proxy with Editor.js label\n */\nexport const logLabeled = _log.bind(window, true);\n\n/**\n * Return string representation of the object type\n *\n * @param {*} object - object to get type\n * @returns {string}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function typeOf(object: any): string {\n  return Object.prototype.toString\n    .call(object)\n    .match(/\\s([a-zA-Z]+)/)[1]\n    .toLowerCase();\n}\n\n/**\n * Check if passed variable is a function\n *\n * @param {*} fn - function to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isFunction(fn: any): fn is (...args: any[]) => any {\n  return typeOf(fn) === 'function' || typeOf(fn) === 'asyncfunction';\n}\n\n/**\n * Checks if passed argument is an object\n *\n * @param {*} v - object to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isObject(v: any): v is object {\n  return typeOf(v) === 'object';\n}\n\n/**\n * Checks if passed argument is a string\n *\n * @param {*} v - variable to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isString(v: any): v is string {\n  return typeOf(v) === 'string';\n}\n\n/**\n * Checks if passed argument is boolean\n *\n * @param {*} v - variable to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isBoolean(v: any): v is boolean {\n  return typeOf(v) === 'boolean';\n}\n\n/**\n * Checks if passed argument is number\n *\n * @param {*} v - variable to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isNumber(v: any): v is number {\n  return typeOf(v) === 'number';\n}\n\n/**\n * Checks if passed argument is undefined\n *\n * @param {*} v - variable to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isUndefined(v: any): v is undefined {\n  return typeOf(v) === 'undefined';\n}\n\n/**\n * Check if passed function is a class\n *\n * @param {Function} fn - function to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isClass(fn: any): boolean {\n  return isFunction(fn) && /^\\s*class\\s+/.test(fn.toString());\n}\n\n/**\n * Checks if object is empty\n *\n * @param {object} object - object to check\n * @returns {boolean}\n */\nexport function isEmpty(object: object): boolean {\n  if (!object) {\n    return true;\n  }\n\n  return Object.keys(object).length === 0 && object.constructor === Object;\n}\n\n/**\n * Check if passed object is a Promise\n *\n * @param  {*}  object - object to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isPromise(object: any): object is Promise<any> {\n  return Promise.resolve(object) === object;\n}\n\n/* eslint-disable @typescript-eslint/no-magic-numbers */\n/**\n * Returns true if passed key code is printable (a-Z, 0-9, etc) character.\n *\n * @param {number} keyCode - key code\n * @returns {boolean}\n */\nexport function isPrintableKey(keyCode: number): boolean {\n  return (keyCode > 47 && keyCode < 58) || // number keys\n    keyCode === 32 || keyCode === 13 || // Space bar & return key(s)\n    keyCode === 229 || // processing key input for certain languages  Chinese, Japanese, etc.\n    (keyCode > 64 && keyCode < 91) || // letter keys\n    (keyCode > 95 && keyCode < 112) || // Numpad keys\n    (keyCode > 185 && keyCode < 193) || // ;=,-./` (in order)\n    (keyCode > 218 && keyCode < 223); // [\\]' (in order)\n}\n/* eslint-enable @typescript-eslint/no-magic-numbers */\n\n/**\n * Fires a promise sequence asynchronously\n *\n * @param {ChainData[]} chains - list or ChainData's\n * @param {Function} success - success callback\n * @param {Function} fallback - callback that fires in case of errors\n * @returns {Promise}\n * @deprecated use PromiseQueue.ts instead\n */\nexport async function sequence(\n  chains: ChainData[],\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  success: (data: object) => void = (): void => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  fallback: (data: object) => void = (): void => {}\n): Promise<void> {\n  /**\n   * Decorator\n   *\n   * @param {ChainData} chainData - Chain data\n   * @param {Function} successCallback - success callback\n   * @param {Function} fallbackCallback - fail callback\n   * @returns {Promise}\n   */\n  async function waitNextBlock(\n    chainData: ChainData,\n    successCallback: (data: object) => void,\n    fallbackCallback: (data: object) => void\n  ): Promise<void> {\n    try {\n      await chainData.function(chainData.data);\n      await successCallback(!isUndefined(chainData.data) ? chainData.data : {});\n    } catch (e) {\n      fallbackCallback(!isUndefined(chainData.data) ? chainData.data : {});\n    }\n  }\n\n  /**\n   * pluck each element from queue\n   * First, send resolved Promise as previous value\n   * Each plugins \"prepare\" method returns a Promise, that's why\n   * reduce current element will not be able to continue while can't get\n   * a resolved Promise\n   */\n  return chains.reduce(async (previousValue, currentValue) => {\n    await previousValue;\n\n    return waitNextBlock(currentValue, success, fallback);\n  }, Promise.resolve());\n}\n\n/**\n * Make array from array-like collection\n *\n * @param {ArrayLike} collection - collection to convert to array\n * @returns {Array}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function array(collection: ArrayLike<any>): any[] {\n  return Array.prototype.slice.call(collection);\n}\n\n/**\n * Delays method execution\n *\n * @param {Function} method - method to execute\n * @param {number} timeout - timeout in ms\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function delay(method: (...args: any[]) => any, timeout: number) {\n  return function (): void {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this,\n        // eslint-disable-next-line prefer-rest-params\n        args = arguments;\n\n    window.setTimeout(() => method.apply(context, args), timeout);\n  };\n}\n\n/**\n * Get file extension\n *\n * @param {File} file - file\n * @returns {string}\n */\nexport function getFileExtension(file: File): string {\n  return file.name.split('.').pop();\n}\n\n/**\n * Check if string is MIME type\n *\n * @param {string} type - string to check\n * @returns {boolean}\n */\nexport function isValidMimeType(type: string): boolean {\n  return /^[-\\w]+\\/([-+\\w]+|\\*)$/.test(type);\n}\n\n/**\n * Debouncing method\n * Call method after passed time\n *\n * Note that this method returns Function and declared variable need to be called\n *\n * @param {Function} func - function that we're throttling\n * @param {number} wait - time in milliseconds\n * @param {boolean} immediate - call now\n * @returns {Function}\n */\nexport function debounce(\n  func: (...args: unknown[]) => void,\n  wait?: number,\n  immediate?: boolean\n): () => void {\n  let timeout;\n\n  return (...args: unknown[]): void => {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this;\n\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\n/**\n * Returns a function, that, when invoked, will only be triggered at most once during a given window of time.\n *\n * @param func - function to throttle\n * @param wait - function will be called only once for that period\n * @param options - Normally, the throttled function will run as much as it can\n *                  without ever going more than once per `wait` duration;\n *                  but if you'd like to disable the execution on the leading edge, pass\n *                  `{leading: false}`. To disable execution on the trailing edge, ditto.\n */\nexport function throttle(\n  func,\n  wait,\n  options: { leading?: boolean; trailing?: boolean } = undefined\n): () => void {\n  let context, args, result;\n  let timeout = null;\n  let previous = 0;\n\n  if (!options) {\n    options = {};\n  }\n\n  const later = function (): void {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n\n    if (!timeout) {\n      context = args = null;\n    }\n  };\n\n  return function (): unknown {\n    const now = Date.now();\n\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n\n    const remaining = wait - (now - previous);\n\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    context = this;\n\n    // eslint-disable-next-line prefer-rest-params\n    args = arguments;\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n\n      if (!timeout) {\n        context = args = null;\n      }\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n\n/**\n * Copies passed text to the clipboard\n *\n * @param text - text to copy\n */\nexport function copyTextToClipboard(text): void {\n  const el = Dom.make('div', 'codex-editor-clipboard', {\n    innerHTML: text,\n  });\n\n  document.body.appendChild(el);\n\n  const selection = window.getSelection();\n  const range = document.createRange();\n\n  range.selectNode(el);\n\n  window.getSelection().removeAllRanges();\n  selection.addRange(range);\n\n  document.execCommand('copy');\n  document.body.removeChild(el);\n}\n\n/**\n * Returns object with os name as key and boolean as value. Shows current user OS\n */\nexport function getUserOS(): { [key: string]: boolean } {\n  const OS = {\n    win: false,\n    mac: false,\n    x11: false,\n    linux: false,\n  };\n\n  const userOS = Object.keys(OS).find((os: string) => window.navigator.appVersion.toLowerCase().indexOf(os) !== -1);\n\n  if (userOS) {\n    OS[userOS] = true;\n\n    return OS;\n  }\n\n  return OS;\n}\n\n/**\n * Capitalizes first letter of the string\n *\n * @param {string} text - text to capitalize\n * @returns {string}\n */\nexport function capitalize(text: string): string {\n  return text[0].toUpperCase() + text.slice(1);\n}\n\n/**\n * Merge to objects recursively\n *\n * @param {object} target - merge target\n * @param {object[]} sources - merge sources\n * @returns {object}\n */\nexport function deepMerge<T extends object>(target, ...sources): T {\n  if (!sources.length) {\n    return target;\n  }\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) {\n          Object.assign(target, { [key]: {} });\n        }\n\n        deepMerge(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return deepMerge(target, ...sources);\n}\n\n/**\n * Return true if current device supports touch events\n *\n * Note! This is a simple solution, it can give false-positive results.\n * To detect touch devices more carefully, use 'touchstart' event listener\n *\n * @see http://www.stucox.com/blog/you-cant-detect-a-touchscreen/\n * @returns {boolean}\n */\nexport const isTouchSupported: boolean =\n  'ontouchstart' in document.documentElement;\n\n/**\n * Make shortcut command more human-readable\n *\n * @param {string} shortcut  string like 'CMD+B'\n */\nexport function beautifyShortcut(shortcut: string): string {\n  const OS = getUserOS();\n\n  shortcut = shortcut\n    .replace(/shift/gi, '')\n    .replace(/backspace/gi, '')\n    .replace(/enter/gi, '')\n    .replace(/up/gi, '')\n    .replace(/left/gi, '')\n    .replace(/down/gi, '')\n    .replace(/right/gi, '')\n    .replace(/escape/gi, '')\n    .replace(/insert/gi, 'Ins')\n    .replace(/delete/gi, '')\n    .replace(/\\+/gi, ' + ');\n\n  if (OS.mac) {\n    shortcut = shortcut.replace(/ctrl|cmd/gi, '').replace(/alt/gi, '');\n  } else {\n    shortcut = shortcut.replace(/cmd/gi, 'Ctrl').replace(/windows/gi, 'WIN');\n  }\n\n  return shortcut;\n}\n\n/**\n * Returns valid URL. If it is going outside and valid, it returns itself\n * If url has `one slash`, then it concatenates with window location origin\n * or when url has `two lack` it appends only protocol\n *\n * @param {string} url - url to prettify\n */\nexport function getValidUrl(url: string): string {\n  try {\n    const urlObject = new URL(url);\n\n    return urlObject.href;\n  } catch (e) {\n    // do nothing but handle below\n  }\n\n  if (url.substring(0, 2) === '//') {\n    return window.location.protocol + url;\n  } else {\n    return window.location.origin + url;\n  }\n}\n\n/**\n * Create a block id\n *\n * @returns {string}\n */\nexport function generateBlockId(): string {\n  const idLen = 10;\n\n  return nanoid(idLen);\n}\n\n/**\n * Opens new Tab with passed URL\n *\n * @param {string} url - URL address to redirect\n */\nexport function openTab(url: string): void {\n  window.open(url, '_blank');\n}\n\n/**\n * Returns random generated identifier\n *\n * @param {string} prefix - identifier prefix\n * @returns {string}\n */\nexport function generateId(prefix = ''): string {\n  // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n  return `${prefix}${(Math.floor(Math.random() * 1e8)).toString(16)}`;\n}\n\n/**\n * Common method for printing a warning about the usage of deprecated property or method.\n *\n * @param condition - condition for deprecation.\n * @param oldProperty - deprecated property.\n * @param newProperty - the property that should be used instead.\n */\nexport function deprecationAssert(\n  condition: boolean,\n  oldProperty: string,\n  newProperty: string\n): void {\n  const message = `${oldProperty} is deprecated and will be removed in the next major release. Please use the ${newProperty} instead.`;\n\n  if (condition) {\n    logLabeled(message, 'warn');\n  }\n}\n\n/**\n * Decorator which provides ability to cache method or accessor result\n *\n * @param target - target instance or constructor function\n * @param propertyKey - method or accessor name\n * @param descriptor - property descriptor\n */\nexport function cacheable<\n  Target,\n  Value,\n  Arguments extends unknown[] = unknown[]\n>(\n  target: Target,\n  propertyKey: string,\n  descriptor: PropertyDescriptor\n): PropertyDescriptor {\n  const propertyToOverride = descriptor.value ? 'value' : 'get';\n  const originalMethod = descriptor[propertyToOverride];\n  const cacheKey = `#${propertyKey}Cache`;\n\n  /**\n   * Override get or value descriptor property to cache return value\n   *\n   * @param args - method args\n   */\n  descriptor[propertyToOverride] = function (...args: Arguments): Value {\n    /**\n     * If there is no cache, create it\n     */\n    if (this[cacheKey] === undefined) {\n      this[cacheKey] = originalMethod.apply(this, ...args);\n    }\n\n    return this[cacheKey];\n  };\n\n  /**\n   * If get accessor has been overridden, we need to override set accessor to clear cache\n   *\n   * @param value - value to set\n   */\n  if (propertyToOverride === 'get' && descriptor.set) {\n    const originalSet = descriptor.set;\n\n    descriptor.set = function (value: unknown): void {\n      delete target[cacheKey];\n\n      originalSet.apply(this, value);\n    };\n  }\n\n  return descriptor;\n}\n\n/**\n * All screens below this width will be treated as mobile;\n */\nexport const mobileScreenBreakpoint = 200;\n\n/**\n * True if screen has mobile size\n */\nexport function isMobileScreen(): boolean {\n  return window.matchMedia(`(max-width: ${mobileScreenBreakpoint}px)`).matches;\n}\n\n/**\n * True if current device runs iOS\n */\nexport const isIosDevice =\n  typeof window !== 'undefined' &&\n  window.navigator &&\n  window.navigator.platform &&\n  (/iP(ad|hone|od)/.test(window.navigator.platform) ||\n    (window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1));\n\n/**\n * Compares two values with unknown type\n *\n * @param var1 - value to compare\n * @param var2 - value to compare with\n * @returns {boolean} true if they are equal\n */\nexport function equals(var1: unknown, var2: unknown): boolean {\n  const isVar1NonPrimitive = Array.isArray(var1) || isObject(var1);\n  const isVar2NonPrimitive = Array.isArray(var2) || isObject(var2);\n\n  if (isVar1NonPrimitive || isVar2NonPrimitive) {\n    return JSON.stringify(var1) === JSON.stringify(var2);\n  }\n\n  return var1 === var2;\n}\n","import type { ConversionConfig } from '../../../types/configs/conversion-config';\nimport type { BlockToolData } from '../../../types/tools/block-tool-data';\nimport type Block from '../block';\nimport { isFunction, isString, log } from '../utils';\n\n/**\n * Check if two blocks could be merged.\n *\n * We can merge two blocks if:\n *  - they have the same type\n *  - they have a merge function (.mergeable = true)\n *\n * @param targetBlock - block to merge to\n * @param blockToMerge - block to merge from\n */\nexport function areBlocksMergeable(targetBlock: Block, blockToMerge: Block): boolean {\n  return targetBlock.mergeable && targetBlock.name === blockToMerge.name;\n}\n\n/**\n * Using conversionConfig, convert block data to string.\n *\n * @param blockData - block data to convert\n * @param conversionConfig - tool's conversion config\n */\nexport function convertBlockDataToString(blockData: BlockToolData, conversionConfig?: ConversionConfig ): string {\n  const exportProp = conversionConfig?.export;\n\n  if (isFunction(exportProp)) {\n    return exportProp(blockData);\n  } else if (isString(exportProp)) {\n    return blockData[exportProp];\n  } else {\n    /**\n     * Tool developer provides 'export' property, but it is not correct. Warn him.\n     */\n    if (exportProp !== undefined) {\n      log('Conversion export property must be a string or function. ' +\n      'String means key of saved data object to export. Function should export processed string to export.');\n    }\n\n    return '';\n  }\n}\n\n/**\n * Using conversionConfig, convert string to block data.\n *\n * @param stringToImport - string to convert\n * @param conversionConfig - tool's conversion config\n */\nexport function convertStringToBlockData(stringToImport: string, conversionConfig?: ConversionConfig): BlockToolData {\n  const importProp = conversionConfig?.import;\n\n  if (isFunction(importProp)) {\n    return importProp(stringToImport);\n  } else if (isString(importProp)) {\n    return {\n      [importProp]: stringToImport,\n    };\n  } else {\n    /**\n     * Tool developer provides 'import' property, but it is not correct. Warn him.\n     */\n    if (importProp !== undefined) {\n      log('Conversion import property must be a string or function. ' +\n      'String means key of tool data to import. Function accepts a imported string and return composed tool data.');\n    }\n\n    return {};\n  }\n}\n","import { isEmpty } from '../utils';\n\n/**\n * Event Dispatcher event listener\n */\ntype Listener<Data> = (data?: Data) => void;\n\n/**\n * Mapped type with subscriptions list\n *\n * event name -> array of callbacks\n */\ntype Subscriptions<EventMap> = {\n  [Key in keyof EventMap]: Listener<EventMap[Key]>[];\n};\n\n/**\n * Provides methods for working with Event Bus:\n *    - {Function} on - appends subscriber to the event. If event doesn't exist - creates new one\n *    - {Function} emit - fires all subscribers with data\n *    - {Function off - unsubscribes callback\n */\nexport default class EventsDispatcher<EventMap> {\n  /**\n   * All subscribers grouped by event name\n   * Object with events` names as key and array of callback functions as value\n   */\n  private subscribers = <Subscriptions<EventMap>>{};\n\n  /**\n   * Subscribe any event on callback\n   *\n   * @param eventName - event name\n   * @param callback - subscriber\n   */\n  public on<Name extends keyof EventMap>(eventName: Name, callback: Listener<EventMap[Name]>): void {\n    if (!(eventName in this.subscribers)) {\n      this.subscribers[eventName] = [];\n    }\n\n    // group by events\n    this.subscribers[eventName].push(callback);\n  }\n\n  /**\n   * Subscribe any event on callback. Callback will be called once and be removed from subscribers array after call.\n   *\n   * @param eventName - event name\n   * @param callback - subscriber\n   */\n  public once<Name extends keyof EventMap>(eventName: Name, callback: Listener<EventMap[Name]>): void {\n    if (!(eventName in this.subscribers)) {\n      this.subscribers[eventName] = [];\n    }\n\n    const wrappedCallback = (data: EventMap[typeof eventName]): void => {\n      const result = callback(data);\n\n      const indexOfHandler = this.subscribers[eventName].indexOf(wrappedCallback);\n\n      if (indexOfHandler !== -1) {\n        this.subscribers[eventName].splice(indexOfHandler, 1);\n      }\n\n      return result;\n    };\n\n    // group by events\n    this.subscribers[eventName].push(wrappedCallback);\n  }\n\n  /**\n   * Emit callbacks with passed data\n   *\n   * @param eventName - event name\n   * @param data - subscribers get this data when they were fired\n   */\n  public emit<Name extends keyof EventMap>(eventName: Name, data?: EventMap[Name]): void {\n    if (isEmpty(this.subscribers) || !this.subscribers[eventName]) {\n      return;\n    }\n\n    this.subscribers[eventName].reduce((previousData, currentHandler) => {\n      const newData = currentHandler(previousData);\n\n      return newData !== undefined ? newData : previousData;\n    }, data);\n  }\n\n  /**\n   * Unsubscribe callback from event\n   *\n   * @param eventName - event name\n   * @param callback - event handler\n   */\n  public off<Name extends keyof EventMap>(eventName: Name, callback: Listener<EventMap[Name]>): void {\n    if (this.subscribers[eventName] === undefined) {\n      console.warn(`EventDispatcher .off(): there is no subscribers for event \"${eventName.toString()}\". Probably, .off() called before .on()`);\n\n      return;\n    }\n\n    for (let i = 0; i < this.subscribers[eventName].length; i++) {\n      if (this.subscribers[eventName][i] === callback) {\n        delete this.subscribers[eventName][i];\n        break;\n      }\n    }\n  }\n\n  /**\n   * Destroyer\n   * clears subscribers list\n   */\n  public destroy(): void {\n    this.subscribers = {} as Subscriptions<EventMap>;\n  }\n}\n","import * as _ from '../utils';\n\n/**\n * Event listener information\n *\n * @interface ListenerData\n */\nexport interface ListenerData {\n  /**\n   * Listener unique identifier\n   */\n  id: string;\n\n  /**\n   * Element where to listen to dispatched events\n   */\n  element: EventTarget;\n\n  /**\n   * Event to listen\n   */\n  eventType: string;\n\n  /**\n   * Event handler\n   *\n   * @param {Event} event - event object\n   */\n  handler: (event: Event) => void;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n   */\n  options: boolean | AddEventListenerOptions;\n}\n\n/**\n * Editor.js Listeners helper\n *\n * Decorator for event listeners assignment\n *\n * @author Codex Team\n * @version 2.0.0\n */\n\n/**\n * @typedef {Listeners} Listeners\n * @property {ListenerData[]} allListeners - listeners store\n */\nexport default class Listeners {\n  /**\n   * Stores all listeners data to find/remove/process it\n   *\n   * @type {ListenerData[]}\n   */\n  private allListeners: ListenerData[] = [];\n\n  /**\n   * Assigns event listener on element and returns unique identifier\n   *\n   * @param {EventTarget} element - DOM element that needs to be listened\n   * @param {string} eventType - event type\n   * @param {Function} handler - method that will be fired on event\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   */\n  public on(\n    element: EventTarget,\n    eventType: string,\n    handler: (event: Event) => void,\n    options: boolean | AddEventListenerOptions = false\n  ): string {\n    const id = _.generateId('l');\n    const assignedEventData = {\n      id,\n      element,\n      eventType,\n      handler,\n      options,\n    };\n\n    const alreadyExist = this.findOne(element, eventType, handler);\n\n    if (alreadyExist) {\n      return;\n    }\n\n    this.allListeners.push(assignedEventData);\n    element.addEventListener(eventType, handler, options);\n\n    return id;\n  }\n\n  /**\n   * Removes event listener from element\n   *\n   * @param {EventTarget} element - DOM element that we removing listener\n   * @param {string} eventType - event type\n   * @param {Function} handler - remove handler, if element listens several handlers on the same event type\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   */\n  public off(\n    element: EventTarget,\n    eventType: string,\n    handler?: (event: Event) => void,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    const existingListeners = this.findAll(element, eventType, handler);\n\n    existingListeners.forEach((listener, i) => {\n      const index = this.allListeners.indexOf(existingListeners[i]);\n\n      if (index > -1) {\n        this.allListeners.splice(index, 1);\n\n        listener.element.removeEventListener(listener.eventType, listener.handler, listener.options);\n      }\n    });\n  }\n\n  /**\n   * Removes listener by id\n   *\n   * @param {string} id - listener identifier\n   */\n  public offById(id: string): void {\n    const listener = this.findById(id);\n\n    if (!listener) {\n      return;\n    }\n\n    listener.element.removeEventListener(listener.eventType, listener.handler, listener.options);\n  }\n\n  /**\n   * Finds and returns first listener by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} [eventType] - event type\n   * @param {Function} [handler] - event handler\n   * @returns {ListenerData|null}\n   */\n  public findOne(element: EventTarget, eventType?: string, handler?: (event: Event) => void): ListenerData {\n    const foundListeners = this.findAll(element, eventType, handler);\n\n    return foundListeners.length > 0 ? foundListeners[0] : null;\n  }\n\n  /**\n   * Return all stored listeners by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} eventType - event type\n   * @param {Function} handler - event handler\n   * @returns {ListenerData[]}\n   */\n  public findAll(element: EventTarget, eventType?: string, handler?: (event: Event) => void): ListenerData[] {\n    let found;\n    const foundByEventTargets = element ? this.findByEventTarget(element) : [];\n\n    if (element && eventType && handler) {\n      found = foundByEventTargets.filter((event) => event.eventType === eventType && event.handler === handler);\n    } else if (element && eventType) {\n      found = foundByEventTargets.filter((event) => event.eventType === eventType);\n    } else {\n      found = foundByEventTargets;\n    }\n\n    return found;\n  }\n\n  /**\n   * Removes all listeners\n   */\n  public removeAll(): void {\n    this.allListeners.map((current) => {\n      current.element.removeEventListener(current.eventType, current.handler, current.options);\n    });\n\n    this.allListeners = [];\n  }\n\n  /**\n   * Module cleanup on destruction\n   */\n  public destroy(): void {\n    this.removeAll();\n  }\n\n  /**\n   * Search method: looks for listener by passed element\n   *\n   * @param {EventTarget} element - searching element\n   * @returns {Array} listeners that found on element\n   */\n  private findByEventTarget(element: EventTarget): ListenerData[] {\n    return this.allListeners.filter((listener) => {\n      if (listener.element === element) {\n        return listener;\n      }\n    });\n  }\n\n  /**\n   * Search method: looks for listener by passed event type\n   *\n   * @param {string} eventType - event type\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  private findByType(eventType: string): ListenerData[] {\n    return this.allListeners.filter((listener) => {\n      if (listener.eventType === eventType) {\n        return listener;\n      }\n    });\n  }\n\n  /**\n   * Search method: looks for listener by passed handler\n   *\n   * @param {Function} handler - event handler\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  private findByHandler(handler: (event: Event) => void): ListenerData[] {\n    return this.allListeners.filter((listener) => {\n      if (listener.handler === handler) {\n        return listener;\n      }\n    });\n  }\n\n  /**\n   * Returns listener data found by id\n   *\n   * @param {string} id - listener identifier\n   * @returns {ListenerData}\n   */\n  private findById(id: string): ListenerData {\n    return this.allListeners.find((listener) => listener.id === id);\n  }\n}\n","/**\n * Check if passed mutation belongs to a passed element\n *\n * @param mutationRecord - mutation to check\n * @param element - element that is expected to contain mutation\n */\nexport function isMutationBelongsToElement(mutationRecord: MutationRecord, element: Element): boolean {\n  const { type, target, addedNodes, removedNodes } = mutationRecord;\n\n  /**\n   * In case of removing the whole text in element, mutation type will be 'childList',\n   * 'removedNodes' will contain text node that is not existed anymore, so we can't check it with 'contains' method\n   * But Target will be the element itself, so we can detect it.\n   */\n  if (target === element) {\n    return true;\n  }\n\n  /**\n   * Check typing and attributes changes\n   */\n  if (['characterData', 'attributes'].includes(type)) {\n    const targetElement = target.nodeType === Node.TEXT_NODE ? target.parentNode : target;\n\n    return element.contains(targetElement);\n  }\n\n  /**\n   * Check new/removed nodes\n   */\n  const addedNodesBelongsToBlock = Array.from(addedNodes).some(node => element.contains(node));\n  const removedNodesBelongsToBlock = Array.from(removedNodes).some(node => element.contains(node));\n\n  return addedNodesBelongsToBlock || removedNodesBelongsToBlock;\n}\n","/**\n * Use external package module for notifications\n *\n * @see https://github.com/codex-team/js-notifier\n */\nimport notifier, { ConfirmNotifierOptions, NotifierOptions, PromptNotifierOptions } from 'codex-notifier';\n\n/**\n * Util for showing notifications\n */\nexport default class Notifier {\n  /**\n   * Show web notification\n   *\n   * @param {NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions} options - notification options\n   */\n  public show(options: NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions): void {\n    notifier.show(options);\n  }\n}\n","import Dom from '../dom';\nimport Listeners from './listeners';\nimport Flipper from '../flipper';\n// import SearchInput from './search-input';\nimport EventsDispatcher from './events';\nimport { isMobileScreen, keyCodes, cacheable } from '../utils';\nimport ScrollLocker from './scroll-locker';\nimport { PopoverItem, PopoverItemWithConfirmation } from '../../../types';\n\n/**\n * Event that can be triggered by the Popover\n */\nexport enum PopoverEvent {\n  /**\n   * When popover overlay is clicked\n   */\n  OverlayClicked = 'overlay-clicked',\n\n  /**\n   * When popover closes\n   */\n  Close = 'close'\n}\n\n/**\n * Popover is the UI element for displaying vertical lists\n */\nexport default class Popover extends EventsDispatcher<PopoverEvent> {\n  /**\n   * Flipper - module for keyboard iteration between elements\n   */\n  public flipper: Flipper;\n\n  /**\n   * Items list to be displayed\n   */\n  private readonly items: PopoverItem[];\n\n  /**\n   * Arbitrary html element to be inserted before items list\n   */\n  private readonly customContent: HTMLElement;\n\n  /**\n   * List of html elements inside custom content area that should be available for keyboard navigation\n   */\n  private readonly customContentFlippableItems: HTMLElement[] = [];\n\n  /**\n   * Stores the visibility state.\n   */\n  private isShown = false;\n\n  /**\n   * Created nodes\n   */\n  private nodes: {\n    wrapper: HTMLElement;\n    popover: HTMLElement;\n    items: HTMLElement;\n    nothingFound: HTMLElement;\n    overlay: HTMLElement;\n  } = {\n      wrapper: null,\n      popover: null,\n      items: null,\n      nothingFound: null,\n      overlay: null,\n    };\n\n  /**\n   * Additional wrapper's class name\n   */\n  private readonly className: string;\n\n  /**\n   * Listeners util instance\n   */\n  private listeners: Listeners;\n\n  /**\n   * Pass true to enable local search field\n   */\n  private readonly searchable: boolean;\n\n  /**\n   * Instance of the Search Input\n   */\n  // private search: SearchInput;\n\n  /**\n   * Label for the 'Filter' placeholder\n   */\n  private readonly filterLabel: string;\n\n  /**\n   * Label for the 'Nothing found' message\n   */\n  private readonly nothingFoundLabel: string;\n\n  /**\n   * Style classes\n   */\n  public static get CSS(): {\n    popover: string;\n    popoverOpened: string;\n    itemsWrapper: string;\n    item: string;\n    itemHidden: string;\n    itemFocused: string;\n    itemActive: string;\n    itemDisabled: string;\n    itemLabel: string;\n    itemIcon: string;\n    itemSecondaryLabel: string;\n    itemConfirmation: string;\n    itemNoHover: string;\n    itemNoFocus: string;\n    noFoundMessage: string;\n    noFoundMessageShown: string;\n    popoverOverlay: string;\n    popoverOverlayHidden: string;\n    customContent: string;\n    customContentHidden: string;\n    } {\n    return {\n      popover: 'ce-popover',\n      popoverOpened: 'ce-popover--opened',\n      itemsWrapper: 'ce-popover__items',\n      item: 'ce-popover__item',\n      itemHidden: 'ce-popover__item--hidden',\n      itemFocused: 'ce-popover__item--focused',\n      itemActive: 'ce-popover__item--active',\n      itemDisabled: 'ce-popover__item--disabled',\n      itemConfirmation: 'ce-popover__item--confirmation',\n      itemNoHover: 'ce-popover__item--no-visible-hover',\n      itemNoFocus: 'ce-popover__item--no-visible-focus',\n      itemLabel: 'ce-popover__item-label',\n      itemIcon: 'ce-popover__item-icon',\n      itemSecondaryLabel: 'ce-popover__item-secondary-label',\n      noFoundMessage: 'ce-popover__no-found',\n      noFoundMessageShown: 'ce-popover__no-found--shown',\n      popoverOverlay: 'ce-popover__overlay',\n      popoverOverlayHidden: 'ce-popover__overlay--hidden',\n      customContent: 'ce-popover__custom-content',\n      customContentHidden: 'ce-popover__custom-content--hidden',\n    };\n  }\n\n  /**\n   * ScrollLocker instance\n   */\n  private scrollLocker = new ScrollLocker();\n\n  /**\n   * Editor container element\n   */\n  private scopeElement: HTMLElement;\n\n  /**\n   * Stores data on popover items that are in confirmation state\n   */\n  private itemsRequiringConfirmation: { [itemIndex: number]: PopoverItem } = {};\n\n  /**\n   * Creates the Popover\n   *\n   * @param options - config\n   * @param options.items - config for items to be displayed\n   * @param options.className - additional class name to be added to the popover wrapper\n   * @param options.filterLabel - label for the search Field\n   * @param options.nothingFoundLabel - label of the 'nothing found' message\n   * @param options.customContent - arbitrary html element to be inserted before items list\n   * @param options.customContentFlippableItems - list of html elements inside custom content area that should be available for keyboard navigation\n   * @param options.scopeElement - editor container element\n   */\n  constructor({ items, className, searchable, filterLabel, nothingFoundLabel, customContent, customContentFlippableItems, scopeElement }: {\n    items: PopoverItem[];\n    className?: string;\n    searchable?: boolean;\n    filterLabel: string;\n    nothingFoundLabel: string;\n    customContent?: HTMLElement;\n    customContentFlippableItems?: HTMLElement[];\n    scopeElement: HTMLElement;\n  }) {\n    super();\n    this.items = items;\n    this.customContent = customContent;\n    this.customContentFlippableItems = customContentFlippableItems;\n    this.className = className || '';\n    this.searchable = searchable;\n    this.listeners = new Listeners();\n    this.scopeElement = scopeElement;\n\n    this.filterLabel = filterLabel;\n    this.nothingFoundLabel = nothingFoundLabel;\n\n    this.render();\n    this.enableFlipper();\n  }\n\n  /**\n   * Returns rendered wrapper\n   */\n  public getElement(): HTMLElement {\n    return this.nodes.wrapper;\n  }\n\n  /**\n   * Shows the Popover\n   */\n  public show(): void {\n    /**\n     * Open the popover above the button\n     * if there is not enough available space below it\n     */\n    if (!this.shouldOpenPopoverBottom) {\n      this.nodes.wrapper.style.setProperty('--popover-height', this.calculateHeight() + 'px');\n      this.nodes.wrapper.classList.add(this.className + '--opened-top');\n    }\n\n    /**\n     * Clear search and items scrolling\n     */\n    // if (this.search) {\n    //   this.search.clear();\n    // }\n\n    this.nodes.items.scrollTop = 0;\n\n    this.nodes.popover.classList.add(Popover.CSS.popoverOpened);\n    this.nodes.overlay.classList.remove(Popover.CSS.popoverOverlayHidden);\n    this.flipper.activate(this.flippableElements);\n\n    // if (this.searchable) {\n    //   setTimeout(() => {\n    //     this.search.focus();\n    //   // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n    //   }, 100);\n    // }\n\n    if (isMobileScreen()) {\n      this.scrollLocker.lock();\n    }\n\n    this.isShown = true;\n  }\n\n  /**\n   * Hides the Popover\n   */\n  public hide(): void {\n    /**\n     * If it's already hidden, do nothing\n     * to prevent extra DOM operations\n     */\n    if (!this.isShown) {\n      return;\n    }\n\n    this.nodes.popover.classList.remove(Popover.CSS.popoverOpened);\n    this.nodes.overlay.classList.add(Popover.CSS.popoverOverlayHidden);\n    this.flipper.deactivate();\n\n    if (isMobileScreen()) {\n      this.scrollLocker.unlock();\n    }\n\n    this.isShown = false;\n    this.nodes.wrapper.classList.remove(this.className + '--opened-top');\n\n    /**\n     * Remove confirmation state from items\n     */\n    const confirmationStateItems = Array.from(this.nodes.items.querySelectorAll(`.${Popover.CSS.itemConfirmation}`));\n\n    confirmationStateItems.forEach((itemEl: HTMLElement) => this.cleanUpConfirmationStateForItem(itemEl));\n\n    this.disableSpecialHoverAndFocusBehavior();\n\n    this.emit(PopoverEvent.Close);\n  }\n\n  /**\n   * Clears memory\n   */\n  public destroy(): void {\n    this.flipper.deactivate();\n    this.listeners.removeAll();\n    this.disableSpecialHoverAndFocusBehavior();\n\n    if (isMobileScreen()) {\n      this.scrollLocker.unlock();\n    }\n  }\n\n  /**\n   * Returns true if some item is focused\n   */\n  public hasFocus(): boolean {\n    return this.flipper.hasFocus();\n  }\n\n  /**\n   * Helps to calculate height of popover while it is not displayed on screen.\n   * Renders invisible clone of popover to get actual height.\n   */\n  @cacheable\n  private calculateHeight(): number {\n    let height = 0;\n    const popoverClone = this.nodes.popover.cloneNode(true) as HTMLElement;\n\n    popoverClone.style.visibility = 'hidden';\n    popoverClone.style.position = 'absolute';\n    popoverClone.style.top = '-1000px';\n    popoverClone.classList.add(Popover.CSS.popoverOpened);\n    document.body.appendChild(popoverClone);\n    height = popoverClone.offsetHeight;\n    popoverClone.remove();\n\n    return height;\n  }\n\n  /**\n   * Makes the UI\n   */\n  private render(): void {\n    this.nodes.wrapper = Dom.make('div', this.className);\n    this.nodes.popover = Dom.make('div', Popover.CSS.popover);\n    this.nodes.wrapper.appendChild(this.nodes.popover);\n\n    this.nodes.overlay = Dom.make('div', [Popover.CSS.popoverOverlay, Popover.CSS.popoverOverlayHidden]);\n    this.nodes.wrapper.appendChild(this.nodes.overlay);\n\n    // if (this.searchable) {\n    //   this.addSearch(this.nodes.popover);\n    // }\n\n    if (this.customContent) {\n      this.customContent.classList.add(Popover.CSS.customContent);\n      this.nodes.popover.appendChild(this.customContent);\n    }\n\n    this.nodes.items = Dom.make('div', Popover.CSS.itemsWrapper);\n    this.items.forEach(item => {\n      this.nodes.items.appendChild(this.createItem(item));\n    });\n\n    this.nodes.popover.appendChild(this.nodes.items);\n    this.nodes.nothingFound = Dom.make('div', [ Popover.CSS.noFoundMessage ], {\n      textContent: this.nothingFoundLabel,\n    });\n\n    this.nodes.popover.appendChild(this.nodes.nothingFound);\n\n    this.listeners.on(this.nodes.popover, 'click', (event: PointerEvent) => {\n      const clickedItem = (event.target as HTMLElement).closest(`.${Popover.CSS.item}`) as HTMLElement;\n\n      if (clickedItem) {\n        this.itemClicked(clickedItem, event as PointerEvent);\n      }\n    });\n\n    this.listeners.on(this.nodes.overlay, 'click', () => {\n      this.emit(PopoverEvent.OverlayClicked);\n    });\n  }\n\n  /**\n   * Adds the s4arch field to passed element\n   *\n   * @param holder - where to append search input\n   */\n  // private addSearch(holder: HTMLElement): void {\n  // this.search = new SearchInput({\n  //   items: this.items,\n  //   placeholder: this.filterLabel,\n  //   onSearch: (filteredItems): void => {\n  //     const searchResultElements = [];\n\n  //     this.items.forEach((item, index) => {\n  //       const itemElement = this.nodes.items.children[index];\n\n  //       if (filteredItems.includes(item)) {\n  //         searchResultElements.push(itemElement);\n  //         itemElement.classList.remove(Popover.CSS.itemHidden);\n  //       } else {\n  //         itemElement.classList.add(Popover.CSS.itemHidden);\n  //       }\n  //     });\n\n  //     this.nodes.nothingFound.classList.toggle(Popover.CSS.noFoundMessageShown, searchResultElements.length === 0);\n\n  //     /**\n  //      * In order to make keyboard navigation work correctly, flipper should be reactivated with only visible items.\n  //      * As custom html content is not displayed while search, it should be excluded from keyboard navigation.\n  //      */\n  //     const allItemsDisplayed = filteredItems.length === this.items.length;\n\n  //     /**\n  //      * Contains list of elements available for keyboard navigation considering search query applied\n  //      */\n  //     const flippableElements = allItemsDisplayed ? this.flippableElements : searchResultElements;\n\n  //     if (this.customContent) {\n  //       this.customContent.classList.toggle(Popover.CSS.customContentHidden, !allItemsDisplayed);\n  //     }\n\n  //     if (this.flipper.isActivated) {\n  //       /**\n  //        * Update flipper items with only visible\n  //        */\n  //       this.reactivateFlipper(flippableElements);\n  //       this.flipper.focusFirst();\n  //     }\n  //   },\n  // });\n\n  // const searchField = this.search.getElement();\n\n  // holder.appendChild(searchField);\n  // }\n\n  /**\n   * Renders the single item\n   *\n   * @param item - item data to be rendered\n   */\n  private createItem(item: PopoverItem): HTMLElement {\n    const el = Dom.make('div', Popover.CSS.item);\n\n    if (item.name) {\n      el.dataset.itemName = item.name;\n    }\n    const label = Dom.make('div', Popover.CSS.itemLabel, {\n      innerHTML: item.label,\n    });\n\n    el.appendChild(Dom.make('div', Popover.CSS.itemIcon, {\n      innerHTML: item.icon || item.name.substring(0, 1).toUpperCase(),\n    }));\n\n    el.appendChild(label);\n\n    if (item.secondaryLabel) {\n      el.appendChild(Dom.make('div', Popover.CSS.itemSecondaryLabel, {\n        textContent: item.secondaryLabel,\n      }));\n    }\n\n    if (item.isActive) {\n      el.classList.add(Popover.CSS.itemActive);\n    }\n\n    if (item.isDisabled) {\n      el.classList.add(Popover.CSS.itemDisabled);\n    }\n\n    return el;\n  }\n\n  /**\n   * Item click handler\n   *\n   * @param itemEl - clicked item\n   * @param event - click event\n   */\n  private itemClicked(itemEl: HTMLElement, event: PointerEvent): void {\n    const allItems = Array.from(this.nodes.items.children);\n    const itemIndex = allItems.indexOf(itemEl);\n    const clickedItem = this.items[itemIndex];\n\n    if (clickedItem.isDisabled) {\n      return;\n    }\n\n    /**\n     * If there is any other item in confirmation state except the clicked one, clean it up\n     */\n    allItems\n      .filter(item => item !== itemEl)\n      .forEach(item => {\n        this.cleanUpConfirmationStateForItem(item);\n      });\n\n    if (clickedItem.confirmation) {\n      this.enableConfirmationStateForItem(clickedItem as PopoverItemWithConfirmation, itemEl, itemIndex);\n\n      return;\n    }\n    clickedItem.onActivate(clickedItem, event);\n\n    this.toggleIfNeeded(itemIndex, allItems);\n\n    if (clickedItem.closeOnActivate) {\n      this.hide();\n    }\n  }\n\n  /**\n   * - Toggles item active state, if the item has property 'toggle' set to true.\n   *\n   * - Performs radiobutton-like behavior if the item has property 'toggle' set to string key.\n   * (All the other items with the same key get unactive, and the item gets active)\n   *\n   * @param index - clicked item index\n   * @param itemEls - array of html elements representing popover items\n   */\n  private toggleIfNeeded(index: number, itemEls: Element[]): void {\n    const clickedItem = this.items[index];\n\n    if (clickedItem.toggle === true) {\n      clickedItem.isActive = !clickedItem.isActive;\n      itemEls[index].classList.toggle(Popover.CSS.itemActive);\n\n      return;\n    }\n\n    if (typeof clickedItem.toggle === 'string') {\n      const itemsInToggleGroup = this.items.filter(item => item.toggle === clickedItem.toggle);\n\n      /** If there's only one item in toggle group, toggle it */\n      if (itemsInToggleGroup.length === 1) {\n        clickedItem.isActive = !clickedItem.isActive;\n        itemEls[index].classList.toggle(Popover.CSS.itemActive);\n\n        return;\n      }\n\n      /** Set clicked item as active and the rest items with same toggle key value as inactive */\n      itemsInToggleGroup.forEach((item: PopoverItem) => {\n        const i = this.items.indexOf(item);\n        const newState = item === clickedItem;\n\n        item.isActive = newState;\n        itemEls[i].classList.toggle(Popover.CSS.itemActive, newState);\n      });\n    }\n  }\n\n  /**\n   * Enables confirmation state for specified item.\n   * Replaces item element in popover so that is becomes highlighted in a special way\n   *\n   * @param item - item to enable confirmation state for\n   * @param itemEl - html element corresponding to the item\n   * @param itemIndex - index of the item in all items list\n   */\n  private enableConfirmationStateForItem(item: PopoverItemWithConfirmation, itemEl: HTMLElement, itemIndex: number): void {\n    /** Save root item requiring confirmation to restore original state on popover hide */\n    if (this.itemsRequiringConfirmation[itemIndex] === undefined) {\n      this.itemsRequiringConfirmation[itemIndex] = item;\n    }\n    const newItemData = {\n      ...item,\n      ...item.confirmation,\n      confirmation: item.confirmation.confirmation,\n    } as PopoverItem;\n\n    this.items[itemIndex] = newItemData;\n\n    const confirmationStateItemEl = this.createItem(newItemData as PopoverItem);\n\n    confirmationStateItemEl.classList.add(Popover.CSS.itemConfirmation, ...Array.from(itemEl.classList));\n    itemEl.parentElement.replaceChild(confirmationStateItemEl, itemEl);\n\n    this.enableSpecialHoverAndFocusBehavior(confirmationStateItemEl);\n\n    this.reactivateFlipper(\n      this.flippableElements,\n      this.flippableElements.indexOf(confirmationStateItemEl)\n    );\n  }\n\n  /**\n   * Brings specified element corresponding to popover item to its original state\n   *\n   * @param itemEl - item in confirmation state\n   */\n  private cleanUpConfirmationStateForItem(itemEl: Element): void {\n    const allItems = Array.from(this.nodes.items.children);\n    const index = allItems.indexOf(itemEl);\n\n    const originalItem = this.itemsRequiringConfirmation[index];\n\n    if (originalItem === undefined) {\n      return;\n    }\n    const originalStateItemEl = this.createItem(originalItem);\n\n    itemEl.parentElement.replaceChild(originalStateItemEl, itemEl);\n    this.items[index] = originalItem;\n\n    delete this.itemsRequiringConfirmation[index];\n\n    itemEl.removeEventListener('mouseleave', this.removeSpecialHoverBehavior);\n    this.disableSpecialHoverAndFocusBehavior();\n\n    this.reactivateFlipper(\n      this.flippableElements,\n      this.flippableElements.indexOf(originalStateItemEl)\n    );\n  }\n\n  /**\n   * Enables special focus and hover behavior for item in confirmation state.\n   * This is needed to prevent item from being highlighted as hovered/focused just after click.\n   *\n   * @param item - html element of the item to enable special behavior for\n   */\n  private enableSpecialHoverAndFocusBehavior(item: HTMLElement): void {\n    item.classList.add(Popover.CSS.itemNoHover);\n    item.classList.add(Popover.CSS.itemNoFocus);\n\n    item.addEventListener('mouseleave', this.removeSpecialHoverBehavior, { once: true });\n    this.flipper.onFlip(this.onFlip);\n  }\n\n  /**\n   * Disables special focus and hover behavior.\n   */\n  private disableSpecialHoverAndFocusBehavior(): void {\n    this.removeSpecialFocusBehavior();\n    this.removeSpecialHoverBehavior();\n\n    this.flipper.removeOnFlip(this.onFlip);\n  }\n\n  /**\n   * Removes class responsible for special hover behavior on an item\n   */\n  private removeSpecialHoverBehavior = (): void => {\n    const el = this.nodes.items.querySelector(`.${Popover.CSS.itemNoHover}`);\n\n    if (!el) {\n      return;\n    }\n\n    el.classList.remove(Popover.CSS.itemNoHover);\n  };\n\n  /**\n   * Removes class responsible for special focus behavior on an item\n   */\n  private removeSpecialFocusBehavior(): void {\n    const el = this.nodes.items.querySelector(`.${Popover.CSS.itemNoFocus}`);\n\n    if (!el) {\n      return;\n    }\n\n    el.classList.remove(Popover.CSS.itemNoFocus);\n  }\n\n  /**\n   * Called on flipper navigation\n   */\n  private onFlip = (): void => {\n    this.disableSpecialHoverAndFocusBehavior();\n  };\n\n  /**\n   * Reactivates flipper instance.\n   * Should be used if popover items html elements get replaced to preserve workability of keyboard navigation\n   *\n   * @param items - html elements to navigate through\n   * @param focusedIndex - index of element to be focused\n   */\n  private reactivateFlipper(items: HTMLElement[], focusedIndex?: number): void {\n    this.flipper.deactivate();\n    this.flipper.activate(items, focusedIndex);\n  }\n\n  /**\n   * Creates Flipper instance to be able to leaf tools\n   */\n  private enableFlipper(): void {\n    this.flipper = new Flipper({\n      items: this.flippableElements,\n      focusedItemClass: Popover.CSS.itemFocused,\n      allowedKeys: [\n        keyCodes.TAB,\n        keyCodes.UP,\n        keyCodes.DOWN,\n        keyCodes.ENTER,\n      ],\n    });\n  }\n\n  /**\n   * Returns list of elements available for keyboard navigation.\n   * Contains both usual popover items elements and custom html content.\n   */\n  private get flippableElements(): HTMLElement[] {\n    /**\n     * Select html elements of popover items\n     */\n    const popoverItemsElements = Array.from(this.nodes.wrapper.querySelectorAll(`.${Popover.CSS.item}`)) as HTMLElement[];\n\n    const customContentControlsElements = this.customContentFlippableItems || [];\n\n    /**\n     * Combine elements inside custom content area with popover items elements\n     */\n    return customContentControlsElements.concat(popoverItemsElements);\n  }\n\n  /**\n   * Checks if popover should be opened bottom.\n   * It should happen when there is enough space below or not enough space above\n   */\n  private get shouldOpenPopoverBottom(): boolean {\n    const toolboxRect = this.nodes.wrapper.getBoundingClientRect();\n    const scopeElementRect = this.scopeElement.getBoundingClientRect();\n    const popoverHeight = this.calculateHeight();\n    const popoverPotentialBottomEdge = toolboxRect.top + popoverHeight;\n    const popoverPotentialTopEdge = toolboxRect.top - popoverHeight;\n    const bottomEdgeForComparison = Math.min(window.innerHeight, scopeElementRect.bottom);\n\n    return popoverPotentialTopEdge < scopeElementRect.top || popoverPotentialBottomEdge <= bottomEdgeForComparison;\n  }\n}\n","/**\n * Class allows to make a queue of async jobs and wait until they all will be finished one by one\n *\n * @example const queue = new PromiseQueue();\n *            queue.add(async () => { ... });\n *            queue.add(async () => { ... });\n *            await queue.completed;\n */\nexport default class PromiseQueue {\n  /**\n   * Queue of promises to be executed\n   */\n  public completed = Promise.resolve();\n\n  /**\n   * Add new promise to queue\n   *\n   * @param operation - promise should be added to queue\n   */\n  public add(operation: (value: void) => void | PromiseLike<void>): Promise<void> {\n    return new Promise((resolve, reject) => {\n      this.completed = this.completed\n        .then(operation)\n        .then(resolve)\n        .catch(reject);\n    });\n  }\n}\n","/**\n * Resolves aliases in specified object according to passed aliases info\n *\n * @example resolveAliases(obj, { label: 'title' })\n * here 'label' is alias for 'title'\n * @param obj - object with aliases to be resolved\n * @param aliases - object with aliases info where key is an alias property name and value is an aliased property name\n */\nexport function resolveAliases<ObjectType>(obj: ObjectType, aliases: { [alias: string]: string }): ObjectType {\n  const result = {} as ObjectType;\n\n  Object.keys(obj).forEach(property => {\n    const aliasedProperty = aliases[property];\n\n    if (aliasedProperty !== undefined) {\n      result[aliasedProperty] = obj[property];\n    } else {\n      result[property] = obj[property];\n    }\n  });\n\n  return result;\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\n/**\n * CodeX Sanitizer\n *\n * Clears HTML from taint tags\n *\n * @version 2.0.0\n * @example\n *\n * clean(yourTaintString, yourConfig);\n *\n * {@link SanitizerConfig}\n */\n\nimport * as _ from '../utils';\n\n/**\n * @typedef {object} SanitizerConfig\n * @property {object} tags - define tags restrictions\n * @example\n *\n * tags : {\n *     p: true,\n *     a: {\n *       href: true,\n *       rel: \"nofollow\",\n *       target: \"_blank\"\n *     }\n * }\n */\n\nimport HTMLJanitor from 'html-janitor';\nimport { BlockToolData, SanitizerConfig } from '../../../types';\nimport { SavedData } from '../../../types/data-formats';\n\n/**\n * Sanitize Blocks\n *\n * Enumerate blocks and clean data\n *\n * @param blocksData - blocks' data to sanitize\n * @param sanitizeConfig  sanitize config to use or function to get config for Tool\n */\nexport function sanitizeBlocks(\n  blocksData: Array<Pick<SavedData, 'data' | 'tool'>>,\n  sanitizeConfig: SanitizerConfig | ((toolName: string) => SanitizerConfig)\n): Array<Pick<SavedData, 'data' | 'tool'>> {\n  return blocksData.map((block) => {\n    const toolConfig = _.isFunction(sanitizeConfig) ? sanitizeConfig(block.tool) : sanitizeConfig;\n\n    if (_.isEmpty(toolConfig)) {\n      return block;\n    }\n\n    block.data = deepSanitize(block.data, toolConfig) as BlockToolData;\n\n    return block;\n  });\n}\n/**\n * Cleans string from unwanted tags\n * Method allows to use default config\n *\n * @param {string} taintString - taint string\n * @param {SanitizerConfig} customConfig - allowed tags\n * @returns {string} clean HTML\n */\nexport function clean(taintString: string, customConfig: SanitizerConfig = {} as SanitizerConfig): string {\n  const sanitizerConfig = {\n    tags: customConfig,\n  };\n\n  /**\n   * API client can use custom config to manage sanitize process\n   */\n  const sanitizerInstance = new HTMLJanitor(sanitizerConfig);\n\n  return sanitizerInstance.clean(taintString);\n}\n\n/**\n * Method recursively reduces Block's data and cleans with passed rules\n *\n * @param {BlockToolData|object|*} dataToSanitize - taint string or object/array that contains taint string\n * @param {SanitizerConfig} rules - object with sanitizer rules\n */\nfunction deepSanitize(dataToSanitize: object | string, rules: SanitizerConfig): object | string {\n  /**\n   * BlockData It may contain 3 types:\n   *  - Array\n   *  - Object\n   *  - Primitive\n   */\n  if (Array.isArray(dataToSanitize)) {\n    /**\n     * Array: call sanitize for each item\n     */\n    return cleanArray(dataToSanitize, rules);\n  } else if (_.isObject(dataToSanitize)) {\n    /**\n     * Objects: just clean object deeper.\n     */\n    return cleanObject(dataToSanitize, rules);\n  } else {\n    /**\n     * Primitives (number|string|boolean): clean this item\n     *\n     * Clean only strings\n     */\n    if (_.isString(dataToSanitize)) {\n      return cleanOneItem(dataToSanitize, rules);\n    }\n\n    return dataToSanitize;\n  }\n}\n\n/**\n * Clean array\n *\n * @param {Array} array - [1, 2, {}, []]\n * @param {SanitizerConfig} ruleForItem - sanitizer config for array\n */\nfunction cleanArray(array: Array<object | string>, ruleForItem: SanitizerConfig): Array<object | string> {\n  return array.map((arrayItem) => deepSanitize(arrayItem, ruleForItem));\n}\n\n/**\n * Clean object\n *\n * @param {object} object  - {level: 0, text: 'adada', items: [1,2,3]}}\n * @param {object} rules - { b: true } or true|false\n * @returns {object}\n */\nfunction cleanObject(object: object, rules: SanitizerConfig|{[field: string]: SanitizerConfig}): object {\n  const cleanData = {};\n\n  for (const fieldName in object) {\n    if (!Object.prototype.hasOwnProperty.call(object, fieldName)) {\n      continue;\n    }\n\n    const currentIterationItem = object[fieldName];\n\n    /**\n     *  Get object from config by field name\n     *   - if it is a HTML Janitor rule, call with this rule\n     *   - otherwise, call with parent's config\n     */\n    const ruleForItem = isRule(rules[fieldName] as SanitizerConfig) ? rules[fieldName] : rules;\n\n    cleanData[fieldName] = deepSanitize(currentIterationItem, ruleForItem as SanitizerConfig);\n  }\n\n  return cleanData;\n}\n\n/**\n * Clean primitive value\n *\n * @param {string} taintString - string to clean\n * @param {SanitizerConfig|boolean} rule - sanitizer rule\n * @returns {string}\n */\nfunction cleanOneItem(taintString: string, rule: SanitizerConfig|boolean): string {\n  if (_.isObject(rule)) {\n    return clean(taintString, rule);\n  } else if (rule === false) {\n    return clean(taintString, {} as SanitizerConfig);\n  } else {\n    return taintString;\n  }\n}\n\n/**\n * Check if passed item is a HTML Janitor rule:\n *  { a : true }, {}, false, true, function(){}  correct rules\n *  undefined, null, 0, 1, 2  not a rules\n *\n * @param {SanitizerConfig} config - config to check\n */\nfunction isRule(config: SanitizerConfig): boolean {\n  return _.isObject(config) || _.isBoolean(config) || _.isFunction(config);\n}\n","import { isIosDevice } from '../utils';\n\n/**\n * Utility allowing to lock body scroll on demand\n */\nexport default class ScrollLocker {\n  /**\n   * Style classes\n   */\n  private static CSS = {\n    scrollLocked: 'ce-scroll-locked',\n    scrollLockedHard: 'ce-scroll-locked--hard',\n  };\n\n  /**\n   * Stores scroll position, used for hard scroll lock\n   */\n  private scrollPosition: null|number;\n\n  /**\n   * Locks body element scroll\n   */\n  public lock(): void {\n    if (isIosDevice) {\n      this.lockHard();\n    } else {\n      document.body.classList.add(ScrollLocker.CSS.scrollLocked);\n    }\n  }\n\n  /**\n   * Unlocks body element scroll\n   */\n  public unlock(): void {\n    if (isIosDevice) {\n      this.unlockHard();\n    } else {\n      document.body.classList.remove(ScrollLocker.CSS.scrollLocked);\n    }\n  }\n\n  /**\n   * Locks scroll in a hard way (via setting fixed position to body element)\n   */\n  private lockHard(): void {\n    this.scrollPosition = window.pageYOffset;\n    document.documentElement.style.setProperty(\n      '--window-scroll-offset',\n      `${this.scrollPosition}px`\n    );\n    document.body.classList.add(ScrollLocker.CSS.scrollLockedHard);\n  }\n\n  /**\n   * Unlocks hard scroll lock\n   */\n  private unlockHard(): void {\n    document.body.classList.remove(ScrollLocker.CSS.scrollLockedHard);\n    if (this.scrollPosition !== null) {\n      window.scrollTo(0, this.scrollPosition);\n    }\n    this.scrollPosition = null;\n  }\n}\n","import Shortcut from '@codexteam/shortcuts';\n\n/**\n * Contains keyboard and mouse events binded on each Block by Block Manager\n */\n\n/**\n * ShortcutData interface\n * Each shortcut must have name and handler\n * `name` is a shortcut, like 'CMD+K', 'CMD+B' etc\n * `handler` is a callback\n *\n * @interface ShortcutData\n */\nexport interface ShortcutData {\n\n  /**\n   * Shortcut name\n   * Ex. CMD+I, CMD+B ....\n   */\n  name: string;\n\n  /**\n   * Shortcut handler\n   */\n  handler(event): void;\n\n  /**\n   * Element handler should be added for\n   */\n  on: HTMLElement;\n}\n\n/**\n * @class Shortcut\n * @classdesc Allows to register new shortcut\n *\n * Internal Shortcuts Module\n */\nclass Shortcuts {\n  /**\n   * All registered shortcuts\n   *\n   * @type {Map<Element, Shortcut[]>}\n   */\n  private registeredShortcuts: Map<Element, Shortcut[]> = new Map();\n\n  /**\n   * Register shortcut\n   *\n   * @param shortcut - shortcut options\n   */\n  public add(shortcut: ShortcutData): void {\n    const foundShortcut = this.findShortcut(shortcut.on, shortcut.name);\n\n    if (foundShortcut) {\n      throw Error(\n        `Shortcut ${shortcut.name} is already registered for ${shortcut.on}. Please remove it before add a new handler.`\n      );\n    }\n\n    const newShortcut = new Shortcut({\n      name: shortcut.name,\n      on: shortcut.on,\n      callback: shortcut.handler,\n    });\n    const shortcuts = this.registeredShortcuts.get(shortcut.on) || [];\n\n    this.registeredShortcuts.set(shortcut.on, [...shortcuts, newShortcut]);\n  }\n\n  /**\n   * Remove shortcut\n   *\n   * @param element - Element shortcut is set for\n   * @param name - shortcut name\n   */\n  public remove(element: Element, name: string): void {\n    const shortcut = this.findShortcut(element, name);\n\n    if (!shortcut) {\n      return;\n    }\n\n    shortcut.remove();\n\n    const shortcuts = this.registeredShortcuts.get(element);\n\n    this.registeredShortcuts.set(element, shortcuts.filter(el => el !== shortcut));\n  }\n\n  /**\n   * Get Shortcut instance if exist\n   *\n   * @param element - Element shorcut is set for\n   * @param shortcut - shortcut name\n   * @returns {number} index - shortcut index if exist\n   */\n  private findShortcut(element: Element, shortcut: string): Shortcut | void {\n    const shortcuts = this.registeredShortcuts.get(element) || [];\n\n    return shortcuts.find(({ name }) => name === shortcut);\n  }\n}\n\nexport default new Shortcuts();\n","/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Use external module CodeX Tooltip\n */\nimport CodeXTooltips from 'codex-tooltip';\nimport type { TooltipOptions, TooltipContent } from 'codex-tooltip/types';\n\n/**\n * Tooltip\n *\n * Decorates any tooltip module like adapter\n */\nexport default class Tooltip {\n  /**\n   * Tooltips lib: CodeX Tooltips\n   *\n   * @see https://github.com/codex-team/codex.tooltips\n   */\n  private lib: CodeXTooltips = new CodeXTooltips();\n\n  /**\n   * Release the library\n   */\n  public destroy(): void {\n    this.lib.destroy();\n  }\n\n  /**\n   * Shows tooltip on element with passed HTML content\n   *\n   * @param {HTMLElement} element - any HTML element in DOM\n   * @param content - tooltip's content\n   * @param options - showing settings\n   */\n  public show(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.lib.show(element, content, options);\n  }\n\n  /**\n   * Hides tooltip\n   *\n   * @param skipHidingDelay  pass true to immediately hide the tooltip\n   */\n  public hide(skipHidingDelay = false): void {\n    this.lib.hide(skipHidingDelay);\n  }\n\n  /**\n   * Binds 'mouseenter' and 'mouseleave' events that shows/hides the Tooltip\n   *\n   * @param {HTMLElement} element - any HTML element in DOM\n   * @param content - tooltip's content\n   * @param options - showing settings\n   */\n  public onHover(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.lib.onHover(element, content, options);\n  }\n}\n","module.exports = \"@import './variables.css';\\n@import './ui.css';\\n@import './toolbar.css';\\n@import './toolbox.css';\\n@import './inline-toolbar.css';\\n@import './conversion-toolbar.css';\\n@import './settings.css';\\n@import './block.css';\\n@import './animations.css';\\n@import './export.css';\\n@import './stub.css';\\n@import './rtl.css';\\n@import './input.css';\\n@import './popover.css';\\n\\n\"","import $ from '../../components/dom';\nimport { API, BlockTool, BlockToolConstructorOptions, BlockToolData } from '../../../types';\nimport { IconWarning } from '@codexteam/icons';\n\nexport interface StubData extends BlockToolData {\n  title: string;\n  savedData: BlockToolData;\n}\n\n/**\n * This tool will be shown in place of a block without corresponding plugin\n * It will store its data inside and pass it back with article saving\n */\nexport default class Stub implements BlockTool {\n  /**\n   * Notify core that tool supports read-only mode\n   */\n  public static isReadOnlySupported = true;\n\n  /**\n   * Stub styles\n   *\n   * @type {{wrapper: string, info: string, title: string, subtitle: string}}\n   */\n  private CSS = {\n    wrapper: 'ce-stub',\n    info: 'ce-stub__info',\n    title: 'ce-stub__title',\n    subtitle: 'ce-stub__subtitle',\n  };\n\n  /**\n   * Main stub wrapper\n   */\n  private readonly wrapper: HTMLElement;\n\n  /**\n   * Editor.js API\n   */\n  private readonly api: API;\n\n  /**\n   * Stub title  tool name\n   */\n  private readonly title: string;\n\n  /**\n   * Stub hint\n   */\n  private readonly subtitle: string;\n\n  /**\n   * Original Tool data\n   */\n  private readonly savedData: BlockToolData;\n\n  /**\n   * @param options - constructor options\n   * @param options.data - stub tool data\n   * @param options.api - Editor.js API\n   */\n  constructor({ data, api }: BlockToolConstructorOptions<StubData>) {\n    this.api = api;\n    this.title = data.title || this.api.i18n.t('Error');\n    this.subtitle = this.api.i18n.t('The block can not be displayed correctly.');\n    this.savedData = data.savedData;\n\n    this.wrapper = this.make();\n  }\n\n  /**\n   * Returns stub holder\n   *\n   * @returns {HTMLElement}\n   */\n  public render(): HTMLElement {\n    return this.wrapper;\n  }\n\n  /**\n   * Return original Tool data\n   *\n   * @returns {BlockToolData}\n   */\n  public save(): BlockToolData {\n    return this.savedData;\n  }\n\n  /**\n   * Create Tool html markup\n   *\n   * @returns {HTMLElement}\n   */\n  private make(): HTMLElement {\n    const wrapper = $.make('div', this.CSS.wrapper);\n    const icon = IconWarning;\n    const infoContainer = $.make('div', this.CSS.info);\n    const title = $.make('div', this.CSS.title, {\n      textContent: this.title,\n    });\n    const subtitle = $.make('div', this.CSS.subtitle, {\n      textContent: this.subtitle,\n    });\n\n    wrapper.innerHTML = icon;\n\n    infoContainer.appendChild(title);\n    infoContainer.appendChild(subtitle);\n\n    wrapper.appendChild(infoContainer);\n\n    return wrapper;\n  }\n}\n","import { BlockMutationEventDetail } from './Base';\n\n/**\n * Type name of CustomEvent related to block added event\n */\nexport const BlockAddedMutationType = 'block-added';\n\n/**\n * Information about added block\n */\ninterface BlockAddedEventDetail extends BlockMutationEventDetail {\n  /**\n   * Index of added block\n   */\n  index: number;\n}\n\n/**\n * Event will be fired when the new block is added to the editor\n */\nexport type BlockAddedEvent = CustomEvent<BlockAddedEventDetail>;\n","import { BlockMutationEventDetail } from './Base';\n\n/**\n * Type name of CustomEvent related to block changed event\n */\nexport const BlockChangedMutationType = 'block-changed';\n\n/**\n * Information about changed block\n */\ninterface BlockChangedEventDetail extends BlockMutationEventDetail {\n  /**\n   * Index of changed block\n   */\n  index: number;\n}\n\n/**\n * Event will be fired when some block is changed\n */\nexport type BlockChangedEvent = CustomEvent<BlockChangedEventDetail>;\n","import { BlockMutationEventDetail } from './Base';\n\n/**\n * Type name of CustomEvent related to block moved event\n */\nexport const BlockMovedMutationType = 'block-moved';\n\n/**\n * Information about moved block\n */\ninterface BlockMovedEventDetail extends BlockMutationEventDetail {\n  /**\n   * Previous block position\n   */\n  fromIndex: number;\n\n  /**\n   * New block position\n   */\n  toIndex: number;\n}\n\n/**\n * Event will be fired when some block is moved to another position\n */\nexport type BlockMovedEvent = CustomEvent<BlockMovedEventDetail>;\n","import { BlockMutationEventDetail } from './Base';\n\n/**\n * Type name of CustomEvent related to block removed event\n */\nexport const BlockRemovedMutationType = 'block-removed';\n\n/**\n * Information about removed block\n */\ninterface BlockRemovedEventDetail extends BlockMutationEventDetail {\n  /**\n   * Index of removed block\n   */\n  index: number;\n}\n\n/**\n * Event will be fired when some block is removed\n */\nexport type BlockRemovedEvent = CustomEvent<BlockRemovedEventDetail>;\n"],"sourceRoot":""}