{"version":3,"sources":["webpack://EditorJS/webpack/universalModuleDefinition","webpack://EditorJS/webpack/bootstrap","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_export.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/createClass.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/inherits.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://EditorJS/./src/components/utils.ts","webpack://EditorJS/./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack://EditorJS/./src/components/__module.ts","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_global.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_fails.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_an-object.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-object.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_wks.js","webpack://EditorJS/./src/components/dom.ts","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-length.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_core.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_descriptors.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-dp.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-object.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_redefine.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-html.js","webpack://EditorJS/./node_modules/@babel/runtime/regenerator/index.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://EditorJS/./src/components/selection.ts","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_has.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_hide.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-iobject.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_strict-method.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_ctx.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_a-function.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gopd.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-sap.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-methods.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_cof.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_defined.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_typed-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-primitive.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_meta.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_property-desc.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_uid.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_library.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-absolute-index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gopn.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gpo.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_add-to-unscopables.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_validate-collection.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_set-to-string-tag.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-trim.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iterators.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_set-species.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_an-instance.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_redefine-all.js","webpack://EditorJS/./src/components/i18n/index.ts","webpack://EditorJS/./src/components/flipper.ts","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iobject.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-pie.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_classof.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_species-constructor.js","webpack://EditorJS/./src/components/utils/sanitizer.ts","webpack://EditorJS/./src/components/block/index.ts","webpack://EditorJS/./src/components/tools/base.ts","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_shared.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-includes.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gops.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-detect.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_flags.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_regexp-exec-abstract.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_fix-re-wks.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_for-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_user-agent.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_collection.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_typed.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/typeof.js","webpack://EditorJS/./src/components/modules/api/index.ts","webpack://EditorJS/./src/components/utils/tooltip.ts","webpack://EditorJS/./src/components/modules/toolbar/index.ts","webpack://EditorJS/./src/components/i18n/namespace-internal.ts","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_dom-create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_wks-ext.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_shared-key.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_enum-bug-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_html.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_set-proto.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-ws.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_inherit-if-required.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-repeat.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_math-sign.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_math-expm1.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-at.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-define.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-context.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-regexp.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_fails-is-regexp.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-array-iter.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_create-property.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/core.get-iterator-method.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-fill.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.iterator.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_regexp-exec.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_advance-string-index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_task.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_typed-buffer.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://EditorJS/./src/components/utils/events.ts","webpack://EditorJS/./src/components/block/api.ts","webpack://EditorJS/./node_modules/@babel/runtime/helpers/get.js","webpack://EditorJS/./src/components/utils/shortcuts.ts","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_ie8-dom-define.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_wks-define.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-keys-internal.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-dps.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-gopn-ext.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-assign.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_same-value.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_bind.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_invoke.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_parse-int.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_parse-float.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_a-number-value.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_is-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_math-log1p.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-call.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-species-create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-reduce.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-copy-within.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_iter-step.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.exec.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.flags.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.promise.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_new-promise-capability.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_promise-resolve.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_collection-strong.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_collection-weak.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_to-index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_own-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_string-pad.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_object-to-array.js","webpack://EditorJS/./node_modules/regenerator-runtime/runtime.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://EditorJS/./src/components/errors/critical.ts","webpack://EditorJS/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://EditorJS/./src/components/modules/api/blocks.ts","webpack://EditorJS/./src/components/modules/api/caret.ts","webpack://EditorJS/./src/components/modules/api/events.ts","webpack://EditorJS/./src/components/modules/api/i18n.ts","webpack://EditorJS/./src/components/modules/api/inlineToolbar.ts","webpack://EditorJS/./src/components/modules/api/listeners.ts","webpack://EditorJS/./src/components/modules/api/notifier.ts","webpack://EditorJS/./src/components/modules/api/readonly.ts","webpack://EditorJS/./src/components/modules/api/sanitizer.ts","webpack://EditorJS/./src/components/modules/api/saver.ts","webpack://EditorJS/./src/components/modules/api/selection.ts","webpack://EditorJS/./src/components/modules/api/styles.ts","webpack://EditorJS/./src/components/modules/api/toolbar.ts","webpack://EditorJS/./src/components/modules/api/tooltip.ts","webpack://EditorJS/./src/components/modules/api/ui.ts","webpack://EditorJS/./src/components/modules/blockEvents.ts","webpack://EditorJS/./src/components/modules/blockManager.ts","webpack://EditorJS/./src/components/modules/blockSelection.ts","webpack://EditorJS/./src/components/modules/caret.ts","webpack://EditorJS/./src/components/modules/crossBlockSelection.ts","webpack://EditorJS/./src/components/modules/dragNDrop.ts","webpack://EditorJS/./src/components/modules/modificationsObserver.ts","webpack://EditorJS/./src/components/modules/paste.ts","webpack://EditorJS/./src/components/modules/readonly.ts","webpack://EditorJS/./src/components/modules/rectangleSelection.ts","webpack://EditorJS/./src/components/modules/renderer.ts","webpack://EditorJS/./src/components/modules/saver.ts","webpack://EditorJS/./src/components/modules/toolbar/blockSettings.ts","webpack://EditorJS/./src/components/modules/toolbar/conversion.ts","webpack://EditorJS/./src/components/modules/toolbar/inline.ts","webpack://EditorJS/./src/components/modules/tools.ts","webpack://EditorJS/./src/components/tools/collection.ts","webpack://EditorJS/./src/components/modules/ui.ts","webpack://EditorJS/./node_modules/@babel/polyfill/noConflict.js","webpack://EditorJS/./node_modules/@babel/polyfill/lib/noConflict.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/es6/index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.symbol.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_function-to-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_enum-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.create.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.define-property.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.define-properties.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.get-own-property-descriptor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.get-prototype-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.get-own-property-names.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.freeze.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.seal.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.prevent-extensions.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.is-frozen.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.is-sealed.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.is-extensible.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.assign.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.is.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.set-prototype-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.object.to-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.function.bind.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.function.name.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.function.has-instance.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.parse-int.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.parse-float.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.constructor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.to-fixed.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.to-precision.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.epsilon.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.is-finite.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.is-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.is-nan.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.is-safe-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.max-safe-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.min-safe-integer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.parse-float.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.number.parse-int.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.acosh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.asinh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.atanh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.cbrt.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.clz32.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.cosh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.expm1.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.fround.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_math-fround.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.hypot.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.imul.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.log10.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.log1p.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.log2.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.sign.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.sinh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.tanh.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.math.trunc.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.from-code-point.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.raw.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.trim.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.iterator.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.code-point-at.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.ends-with.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.includes.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.repeat.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.starts-with.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.anchor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.big.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.blink.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.bold.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.fixed.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.fontcolor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.fontsize.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.italics.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.link.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.small.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.strike.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.sub.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.string.sup.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.now.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.to-json.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.to-iso-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_date-to-iso-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.to-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.date.to-primitive.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_date-to-primitive.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.is-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.from.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.join.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.slice.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.sort.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.for-each.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_array-species-constructor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.filter.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.some.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.every.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.reduce.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.reduce-right.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.index-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.last-index-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.copy-within.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.fill.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.find.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.find-index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.array.species.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.constructor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.to-string.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.match.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.replace.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.search.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.regexp.split.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_microtask.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_perform.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.set.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.weak-map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.weak-set.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.array-buffer.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.data-view.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.int8-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.uint8-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.int16-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.uint16-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.int32-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.uint32-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.float32-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.typed.float64-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.apply.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.construct.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.define-property.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.delete-property.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.enumerate.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.get.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.get-prototype-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.has.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.is-extensible.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.own-keys.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.prevent-extensions.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.set.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es6.reflect.set-prototype-of.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/array/includes.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.array.includes.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/array/flat-map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.array.flat-map.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/_flatten-into-array.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/string/pad-start.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.string.pad-start.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/string/pad-end.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.string.pad-end.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/string/trim-start.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.string.trim-left.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/string/trim-end.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.string.trim-right.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/symbol/async-iterator.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/object/get-own-property-descriptors.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/object/values.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.object.values.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/object/entries.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.object.entries.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/fn/promise/finally.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/es7.promise.finally.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/web/index.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/web.timers.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/web.immediate.js","webpack://EditorJS/./node_modules/@babel/polyfill/node_modules/core-js/modules/web.dom.iterable.js","webpack://EditorJS/./src/codex.ts","webpack://EditorJS/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://EditorJS/./node_modules/@babel/register/lib/index.js","webpack://EditorJS/./node_modules/@babel/register/lib/browser.js","webpack://EditorJS/./src/components/polyfills.ts","webpack://EditorJS/./src/components/core.ts","webpack://EditorJS/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/construct.js","webpack://EditorJS/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://EditorJS/./src/components/modules sync ^\\.\\/.*$","webpack://EditorJS/./src/components/utils/listeners.ts","webpack://EditorJS/./src/components/utils/notifier.ts","webpack://EditorJS/./node_modules/codex-notifier/dist/bundle.js","webpack://EditorJS/./node_modules/html-janitor/src/html-janitor.js","webpack://EditorJS/./node_modules/codex-tooltip/dist/tooltip.js","webpack://EditorJS/./src/components/domIterator.ts","webpack://EditorJS/./node_modules/@babel/runtime/helpers/superPropBase.js","webpack://EditorJS/./src/components/blocks.ts","webpack://EditorJS/./types/events/block/mutation-type.ts","webpack://EditorJS/./node_modules/@codexteam/shortcuts/dist/shortcuts.js","webpack://EditorJS/./src/components/ui/toolbox.ts","webpack://EditorJS/./src/tools/paragraph/dist/bundle.js","webpack://EditorJS/./src/components/inline-tools/inline-tool-bold.ts","webpack://EditorJS/./src/components/inline-tools/inline-tool-italic.ts","webpack://EditorJS/./src/components/inline-tools/inline-tool-link.ts","webpack://EditorJS/./src/tools/stub/index.ts","webpack://EditorJS/./src/components/tools/factory.ts","webpack://EditorJS/./src/components/tools/inline.ts","webpack://EditorJS/./src/components/tools/tune.ts","webpack://EditorJS/./src/components/tools/block.ts","webpack://EditorJS/./src/components/block-tunes/block-tune-move-down.ts","webpack://EditorJS/./src/components/block-tunes/block-tune-delete.ts","webpack://EditorJS/./src/components/block-tunes/block-tune-move-up.ts","webpack://EditorJS/./dist/sprite.svg","webpack://EditorJS/./src/styles/main.css","webpack://EditorJS/./node_modules/nanoid/url-alphabet/index.js","webpack://EditorJS/./node_modules/nanoid/index.browser.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","global","core","hide","redefine","ctx","$export","type","source","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","target","expProto","undefined","Function","U","W","R","obj","instance","Constructor","TypeError","_defineProperties","props","length","descriptor","configurable","writable","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","constructor","_typeof","assertThisInitialized","self","LogLevels","_log","labeled","msg","args","style","console","isSimpleType","includes","argsToPass","logLevel","ERROR","WARN","INFO","push","editorLabelText","editorLabelStyle","unshift","ignored","v","typeOf","fn","isFunction","test","toString","keys","Promise","resolve","keyCode","collection","Array","slice","method","timeout","context","this","arguments","setTimeout","apply","file","split","pop","func","wait","immediate","later","callNow","clearTimeout","result","options","previous","leading","Date","now","remaining","trailing","text","el","make","innerHTML","document","body","appendChild","selection","getSelection","range","createRange","selectNode","removeAllRanges","addRange","execCommand","removeChild","toUpperCase","deepMerge","sources","shift","isObject","assign","shortcut","OS","getUserOS","replace","mac","url","URL","href","e","substring","location","protocol","origin","nanoid","open","prefix","Math","floor","random","condition","oldProperty","newProperty","message","logLabeled","propertyKey","propertyToOverride","originalMethod","cacheKey","set","originalSet","BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","ESC","SPACE","LEFT","UP","DOWN","RIGHT","DELETE","META","WHEEL","BACKWARD","FORWARD","VERBOSE","log","match","toLowerCase","isUndefined","chains","waitNextBlock","chainData","successCallback","fallbackCallback","data","success","fallback","reduce","previousValue","currentValue","win","x11","linux","userOS","find","os","navigator","appVersion","indexOf","isTouchSupported","documentElement","_getRequireWildcardCache","WeakMap","cache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","Module","config","eventsDispatcher","nodes","listeners","readOnlyMutableListeners","on","element","eventType","handler","mutableListenerIds","clearAll","id","offById","node","HTMLElement","remove","Editor","i18n","direction","__g","exec","it","store","uid","USE_SYMBOL","Dom","tag","tagName","classNames","attributes","createElement","attrName","isArray","classList","add","content","createTextNode","width","height","icon","createElementNS","setAttribute","parent","elements","forEach","reverse","prepend","el1","el2","temp","parentNode","insertBefore","selector","querySelector","getElementById","querySelectorAll","holder","_","array","allInputsSelector","input","isNativeInput","containsOnlyInlineElements","getDeepestBlockElements","atLast","child","sibling","nodeType","Node","ELEMENT_NODE","nodeChild","isSingleTag","isLineBreakTag","getDeepestNode","isNumber","DOCUMENT_FRAGMENT_NODE","contentEditable","isContentEditable","isElement","textContent","trim","childNodes","normalize","treeWalker","isLeaf","isNodeEmpty","from","str","wrapper","childElementCount","TEXT_NODE","isString","children","every","check","blockElements","nodeName","rect","getBoundingClientRect","scrollLeft","pageXOffset","scrollTop","pageYOffset","top","left","bottom","right","map","join","toInteger","min","version","__e","a","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","Attributes","defined","SRC","$toString","TPL","inspectSource","val","safe","String","fails","quot","createHTML","string","attribute","p1","NAME","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","error","done","then","err","SelectionUtils","savedSelectionRange","isFakeBackgroundEnabled","commandBackground","commandRemoveFormat","sel","selectNodeContents","focusNode","collapse","className","searchDepth","parentTag","anchorNode","boundNodes","searchDepthIterable","contains","selectedNode","editorZone","Element","closest","CSS","startContainer","rangeCount","getRangeAt","offset","canSetCaret","focus","selectionStart","selectionEnd","setStart","setEnd","container","fakeCursor","dataset","mutationFree","insertNode","editorWrapper","parentElement","anchorOffset","isCollapsed","isSelectionAtEditor","getRangeFromSelection","x","y","boundingLeft","boundingTop","boundingWidth","boundingHeight","isNaN","cloneRange","span","spanParent","createDesc","IObject","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arr","aFunction","that","b","ceil","pIE","toIObject","gOPD","KEY","toObject","toLength","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","res","index","LIBRARY","$typed","$buffer","anInstance","propertyDesc","redefineAll","toIndex","toAbsoluteIndex","classof","isArrayIter","gOPN","getIterFn","wks","createArrayMethod","createArrayIncludes","speciesConstructor","ArrayIterators","Iterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","RangeError","Uint8Array","ArrayProto","$ArrayBuffer","ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayIndexOf","arrayValues","values","arrayKeys","arrayEntries","entries","arrayLastIndexOf","lastIndexOf","arrayReduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","sort","arraySlice","arrayToString","arrayToLocaleString","toLocaleString","ITERATOR","TAG","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","$map","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","toOffset","BYTES","validate","C","speciesFromList","list","fromList","addGetter","internal","_d","$from","step","iterator","aLen","mapfn","mapping","iterFn","next","$of","TO_LOCALE_BUG","$toLocaleString","proto","copyWithin","start","fill","filter","predicate","findIndex","searchElement","separator","middle","some","comparefn","subarray","begin","end","$begin","byteOffset","BYTES_PER_ELEMENT","$slice","$set","arrayLike","src","len","$iterators","isTAIndex","$getDesc","$setDesc","$TypedArrayPrototype$","CLAMPED","GETTER","SETTER","TypedArray","Base","TAC","FORCED","ABV","TypedArrayPrototype","addElement","round","setter","$offset","$length","byteLength","klass","$len","iter","concat","$nativeIterator","CORRECT_ITER_NAME","$iterator","of","valueOf","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","getWeak","onFreeze","arrayWithoutHoles","iterableToArray","nonIterableSpread","bitmap","px","$keys","enumBugKeys","max","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","display","contentWindow","write","lt","close","Properties","hiddenKeys","getOwnPropertyNames","ObjectProto","UNSCOPABLES","_t","def","stat","spaces","space","ltrim","RegExp","rtrim","exporter","ALIAS","FORCE","DESCRIPTORS","SPECIES","forbiddenField","I18n","internalNamespace","dictKey","namespace","dictionary","currentDictionary","section","getNamespace","part","Flipper","activated","allowArrows","onKeyDown","event","isEventReadyForHandling","usedKeys","preventDefault","keyCodes","handleTabPress","flipLeft","flipRight","handleEnterPress","isBoolean","items","focusedItemClass","activateCallback","setItems","addEventListener","dropCursor","removeEventListener","handlingKeyCodeList","isCurrentItemIsFocusedInput","currentItem","activeElement","shiftKey","directions","click","stopPropagation","cof","propertyIsEnumerable","ARG","T","tryGet","callee","D","clean","taintString","customConfig","sanitizerConfig","tags","sanitizerInstance","deepSanitize","dataToSanitize","rules","ruleForItem","arrayItem","cleanData","fieldName","currentIterationItem","cleanObject","rule","blocksData","sanitizeConfig","block","toolConfig","tool","isEmpty","BlockToolAPI","Block","generateBlockId","api","readOnly","tunesData","cachedInputs","tunesInstances","Map","defaultTunesInstances","unavailableTunesData","inputIndex","modificationDebounceTimer","didMutated","debounce","mutationsOrInputEvent","shouldFireUpdate","InputEvent","addedNodes","removedNodes","updateCurrentInput","UPDATED","emit","handleFocus","settings","blockAPI","mutationObserver","MutationObserver","toolInstance","tunes","composeTunes","compose","methodName","params","APPEND_CALLBACK","merge","save","pluginsContent","extractedBlock","tune","measuringStart","performance","finishedExtraction","measuringEnd","time","isValid","tunesElement","createDocumentFragment","defaultTunesElement","append","render","currentInput","observe","firstElementChild","childList","subtree","characterData","addInputEvents","disconnect","removeInputEvents","destroy","renderSettings","contentNode","wrappedContentNode","wrap","isInternal","inputs","findAllInputs","savedObject","emptyText","emptyMedia","hasMedia","state","toggle","focused","selected","addFakeCursor","removeFakeCursor","wrapperStretched","dropTarget","blockContentNodes","isExtensionNode","ToolType","UserSettings","CommonInternalSettings","InternalBlockToolSettings","InternalInlineToolSettings","InternalTuneSettings","BaseTool","constructable","isDefault","defaultPlaceholder","reset","prepare","toolName","Inline","Tune","Config","placeholder","toolShortcut","Shortcut","SanitizeConfig","copyright","IS_INCLUDES","fromIndex","getOwnPropertySymbols","SAFE_CLOSING","riter","skipClosing","ignoreCase","multiline","unicode","sticky","builtinExec","regexpExec","REPLACE_SUPPORTS_NAMED_GROUPS","re","groups","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","fns","nativeMethod","regexp","arg2","forceStringMethod","strfn","rxfn","BREAK","RETURN","iterable","userAgent","forOf","setToStringTag","inheritIfRequired","methods","common","IS_WEAK","ADDER","fixMethod","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","clear","getConstructor","setStrong","Typed","TypedArrayConstructors","API","I18nAPI","getMethodsForTool","blocks","BlocksAPI","caret","CaretAPI","events","EventsAPI","ListenersAPI","notifier","NotifierAPI","sanitizer","SanitizerAPI","saver","SaverAPI","SelectionAPI","styles","StylesAPI","classes","toolbar","ToolbarAPI","inlineToolbar","InlineToolbarAPI","tooltip","TooltipAPI","ReadOnlyAPI","ui","UiAPI","Tooltip","lib","show","skipHidingDelay","onHover","Toolbar","readOnlyEnabled","BlockSettings","disableModuleBindings","drawUI","enableModuleBindings","BlockManager","currentBlock","toolboxInstance","hoveredBlock","toolbarY","targetBlockHolder","isMobile","UI","renderedContent","renderedContentStyle","getComputedStyle","blockRenderedElementPaddingTop","parseInt","paddingTop","blockHeight","offsetHeight","offsetTop","transform","plusButton","ReadOnly","isEnabled","toolbarOpened","blockActions","withBlockActions","delay","actions","svg","plusButtonClicked","tooltipContent","I18nInternalNS","toolbox","plusButtonShortcut","hidingDelay","blockActionsButtons","settingsToggler","settingsIcon","blockTunes","toggler","makeToolbox","tools","Tools","blockTools","ToolboxEvent","Opened","openedToolboxHolderModifier","Closed","BlockAdded","Caret","newBlock","getBlockById","lastBlock","insertAtEnd","setToBlock","nextBlock","settingsTogglerClicked","blockHovered","opened","moveAndOpen","removeAllNodes","actionsOpened","plusButtonHidden","flipperHasFocus","getNamespaces","dict","keyPath","newPath","isLastSection","sectionValue","is","shared","buggy","count","Infinity","sign","$expm1","expm1","TO_STRING","pos","charCodeAt","charAt","$iterCreate","BUGGY","returnThis","DEFAULT","IS_SET","IteratorPrototype","getMethod","kind","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","isRegExp","searchString","MATCH","$defineProperty","getIteratorMethod","endPos","addToUnscopables","iterated","_i","_k","Arguments","re1","re2","regexpFlags","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","NPCG_INCLUDED","lastIndex","reCopy","at","defer","channel","port","invoke","html","cel","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","run","listener","nextTick","port2","port1","onmessage","postMessage","importScripts","BaseBuffer","abs","pow","LN2","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","rt","unpackIEEE754","nBits","NaN","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","intIndex","_b","pack","conversion","ArrayBufferProto","j","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","_setPrototypeOf","EventsDispatcher","subscribers","eventName","callback","wrappedCallback","indexOfHandler","splice","previousData","currentHandler","stretched","param","dispatchChange","superPropBase","_get","receiver","Reflect","base","Shortcuts","registeredShortcuts","findShortcut","Error","newShortcut","shortcuts","wksExt","$Symbol","names","getKeys","defineProperties","windowNames","getWindowNames","gOPS","$assign","A","K","k","getSymbols","isEnum","factories","construct","partArgs","bound","un","$parseInt","$trim","ws","hex","radix","$parseFloat","parseFloat","isFinite","log1p","ret","original","memo","isRight","to","inc","forced","flags","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","task","microtask","newPromiseCapabilityModule","perform","promiseResolve","versions","v8","$Promise","isNode","empty","newPromiseCapability","USE_NATIVE","promise","FakePromise","PromiseRejectionEvent","isThenable","notify","isReject","_n","chain","_c","_v","ok","_s","reaction","exited","fail","domain","_h","onHandleUnhandled","enter","exit","onUnhandled","unhandled","isUnhandled","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_w","$resolve","executor","onFulfilled","onRejected","capability","$$reject","all","$index","alreadyCalled","race","PromiseCapability","$$resolve","promiseCapability","$iterDefine","SIZE","getEntry","entry","_f","_l","prev","$has","uncaughtFrozenStore","UncaughtFrozenStore","findUncaughtFrozen","ufstore","number","ownKeys","repeat","maxLength","fillString","stringLength","fillStr","intMaxLength","fillLen","stringFiller","isEntries","runtime","Op","hasOwn","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","skipTempReset","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","arrayLikeToArray","minLen","arr2","CriticalError","ReferenceError","isNativeFunction","_wrapNativeSuper","Class","_cache","insert","defaultBlock","needToFocus","insertedBlock","update","blockIndex","getBlockIndex","currentBlockIndex","getBlockByIndex","swap","move","removeBlock","positions","END","InlineToolbar","Renderer","Paste","processText","status","deprecationAssert","renderFromHTML","delete","getById","getCurrentBlockIndex","getBlocksCount","stretchBlock","insertNewBlock","setToFirstBlock","position","firstBlock","setToLastBlock","setToPreviousBlock","previousBlock","setToNextBlock","atEnd","START","off","isTune","tryToShow","useCapture","errorText","Saver","findParentTag","expandToTag","inlineToolButton","inlineToolButtonActive","loader","button","settingsButton","settingsButtonActive","openingState","toggleBlockSettings","editorNodes","redactor","BlockEvents","beforeKeydownProcessing","backspace","arrowRightAndDown","arrowLeftAndUp","tabPressed","needToolbarClosing","isPrintableKey","ConversionToolbar","ctrlKey","metaKey","altKey","clearFocused","BlockSelection","clearSelection","checkEmptiness","isEmptyBlock","canOpenToolbox","conversionToolbarOpened","inlineToolbarOpened","activateToolbox","activateBlockSettings","getBlockByChildNode","anyBlockSelected","copySelectedBlocks","selectionPositionIndex","removeSelectedBlocks","insertDefaultBlockAtIndex","isLineBreaksEnabled","someToolbarOpened","someFlipperButtonFocused","newCurrent","isAtStart","firstInput","isFirstBlock","mergeBlocks","targetBlock","blockToMerge","mergeable","navigatePrevious","createShadow","restoreCaret","isFlipperCombination","shouldEnableCBS","isAtEnd","CrossBlockSelection","toggleBlockSelectedState","isRtl","navigateNext","closeAllToolbars","toolboxItemSelected","blockSettingsItemSelected","inlineToolbarItemSelected","conversionToolbarItemSelected","flippingToolbarItems","_currentBlockIndex","_blocks","Proxy","handleCommandC","bindBlockEvents","newIndex","composeBlock","blockDidMutated","BlockMutationType","Removed","Added","pasteEvent","ON_PASTE","blockToMergeIndex","blockToMergeData","mergeWith","validateIndex","blockToRemove","firstSelectedBlockIndex","extractedFragment","extractFragmentFromCaretPosition","firstLevelBlock","childNode","parentFirstLevelBlock","isEqualNode","Moved","needToAddDefaultBlock","removeAll","dropPointer","keydown","keyup","dragOver","dragLeave","affectedBlock","Changed","handleCommandX","mutationType","details","CustomEvent","detail","ModificationsObserver","onChange","willUnselect","willSelect","anyBlockSelectedCache","needToSelectAll","nativeInputSelected","readyToBlockSelection","selectAllBlocks","handleCommandA","allBlocksSelected","clearCache","restoreSelection","RectangleSelection","isKeyboard","KeyboardEvent","isSelectionExists","indexToInsert","eventKey","insertContentAtCaretPosition","isRectActivated","restore","fakeClipboard","selectedBlocks","cleanHTML","fragment","textPlain","textHTML","clipboardData","setData","savedData","MIME_TYPE","JSON","stringify","getBlock","selectBlockByIndex","h1","h2","h3","h4","h5","h6","ol","ul","li","br","img","u","lastInput","nodeToSet","contentLength","getContentLength","setCurrentBlockByChildNode","setCursor","innerHeight","scrollBy","selectRange","currentBlockInput","deleteContents","newFragment","inputRemainingText","fragmentText","endContainer","endOffset","extractContents","nextContentfulBlock","nextInput","setToInput","previousContentfulBlock","previousInput","shadowCaret","insertAdjacentElement","newRange","Text","lastChild","current","siblings","firstNode","firstLetterPosition","search","focusOffset","getHigherLevelSiblings","regularLineBreak","lineBreakInSafari","isLineBreak","lastNode","rightSiblings","rightTrimmedText","onMouseUp","onMouseOver","relatedBlock","relatedTarget","lastSelectedBlock","firstSelectedBlock","toggleBlocksSelectedState","enableCrossBlockSelection","mouseButtons","nextBlockIndex","scrollIntoView","fIndex","lIndex","watchSelection","shouldntSelectFirstBlock","DragNDrop","isStartedAtEditor","dropEvent","processDrop","processDragStart","dragEvent","processDragOver","isAtEditor","processDataTransfer","dataTransfer","disabled","toolsTags","tagsByTool","toolsPatterns","toolsFiles","exceptionList","processTool","pasteConfig","onPaste","getTagsConfig","getFilesConfig","getPatternsConfig","handlePasteEvent","isNativeBehaviour","types","processTools","unsetCallback","setCallback","isDragNDrop","processFiles","files","editorJSData","getData","plainData","htmlData","insertEditorJSData","parse","getAllInlineToolsSanitizeConfig","isHTMLString","isHTML","dataToInsert","processHTML","processPlain","isBlock","processSingleBlock","processInlinePaste","isCurrentBlockDefault","needToReplaceCurrentBlock","insertBlock","extensions","mimeTypes","isValidMimeType","patterns","pattern","item","processFile","paste","extension","getFileExtension","foundConfig","fileType","fileSubtype","foundExt","ext","foundMimeType","mime","subtype","composePasteEvent","getNodes","defaultTool","toolTags","baseSanitizeConfig","plain","PATTERN_PROCESSING_MAX_LENGTH","processPattern","blockData","currentToolSanitizeConfig","substitute","execResult","canReplaceCurrentBlock","sanitizeBlocks","destNode","isSubstitutable","isBlockElement","containsAnotherToolTags","containsBlockElements","elementNodeProcessingResult","reducer","DocumentFragment","isFragment","processElementNode","toolsDontSupportReadOnly","isReadOnlySupported","throwCriticalError","oldState","toggleReadOnly","savedBlocks","isRectSelectionActivated","SCROLL_SPEED","HEIGHT_OF_SCROLL_ZONE","BOTTOM_SCROLL_ZONE","TOP_SCROLL_ZONE","MAIN_MOUSE_BUTTON","mousedown","isScrolling","inScrollZone","startX","startY","mouseX","mouseY","stackOfSelected","listenerIds","pageX","pageY","elemWhereSelectionStart","elementFromPoint","selectorsToAvoid","startsInsideEditor","startsInSelectorToAvoid","overlayRectangle","genHTML","mouseEvent","processMouseDown","throttle","processMouseMove","passive","processMouseLeave","processScroll","processMouseUp","startSelection","changingRectangle","scrollByZones","clientY","endSelection","clientHeight","scrollVertical","overlay","overlayContainer","speed","lastOffset","genInfoForMouseSelection","rightPos","leftPos","rectIsOnRighSideOfredactor","rectISOnLeftSideOfRedactor","rectCrossesBlocks","shrinkRectangleToPoint","updateRectangleSize","trySelectNextBlock","inverseSelection","isSelectedMode","unSelectBlockByIndex","centerOfRedactor","offsetWidth","Y","elementUnderMouse","blockInCurrentPos","contentElement","centerOfBlock","Number","sameBlock","sizeStack","blockNumbersIncrease","selectionInDownDirection","selectionInUpDirection","reduction","addBlockInSelection","cmp","ind","topScrollZone","bottomScrollZone","function","disable","sequence","enable","available","stubData","title","unavailable","toolboxSettings","stubTool","getSavedData","extractedData","sanitizedData","makeOutput","allExtractedData","totalTime","output","buttons","flipper","toolSettings","defaultSettings","enableFlipper","deactivate","wrapperOpened","addToolSettings","addTunes","activate","blockTunesButtons","clearSaved","isCrossBlockSelectionStarted","closed","settingsElement","renderTunes","toolTunes","defaultTunes","focusedButton","focusedItem","focusedButtonAnimated","togglingCallback","conversionToolbarWrapper","editorRtlFix","conversionToolbarTools","label","conversionToolbarLabel","converter","addTools","filterTools","conversionToolbarShowed","focusFirst","replacingToolName","currentBlockTool","currentBlockName","savedBlock","replacingTool","exportData","exportProp","conversionConfig","cleaned","newBlockData","importProp","addTool","toolIcon","conversionTool","conversionToolIcon","checkIcon","conversionToolCheckIcon","toolNames","capitalize","replaceWithBlock","conversionToolCurrent","conversionToolFocused","conversionToolActive","inlineToolbarShowed","inlineToolbarLeftOriented","inlineToolbarRightOriented","inlineToolbarShortcut","buttonsWrapper","actionsWrapper","inputField","conversionToggler","conversionTogglerHidden","conversionTogglerContent","togglerAndButtonsWrapper","toolbarVerticalMargin","buttonsList","needToClose","needToShowConversionToolbar","allowedToShow","selectionRect","wrapperOffset","newCoords","toolbarWidth","getElementsByClassName","clientWidth","blockOffset","toolsInstances","getToolShortcut","addToolsFiltered","hasTools","setConversionTogglerContent","hidden","visibleTools","addConversionToggler","prepareConversionToolbar","recalculateWidth","currentSelection","selectedText","inlineTools","size","placement","exportRuleDefined","ct","renderActions","toolClicked","enableShortcuts","toolTitle","beautifyShortcut","checkState","internalTools","enabledInlineTools","surround","checkToolsState","toolsAvailable","toolsUnavailable","validateTools","prepareConfig","sequenceData","getListOfPrepareFunctions","toolPrepareMethodSuccess","toolPrepareMethodFallback","prepareBlockTools","inlineTool","isInline","notImplementedMethods","toolPreparationList","assignInlineToolsToBlockTool","assignBlockTunesToBlockTool","enabledBlockTunes","userTunes","class","bold","italic","link","paragraph","stub","moveUp","moveDown","cacheable","ToolsCollection","contentRectCache","resizeDebouncer","windowResize","editorLoader","editorZoneHidden","checkIsMobile","addLoader","appendSVGSprite","loadStyles","editorEmpty","isEditorEmpty","innerWidth","getHolder","paddingBottom","minHeight","head","redactorClicked","documentTouched","documentKeydown","documentClicked","selectionChanged","watchBlockHoveredEvents","blockHoveredEmitted","enterPressed","backspacePressed","escapePressed","defaultBehaviour","keyDownOnEditor","isMetaKey","stopImmediatePropagation","hasPointerToBlock","highlightCurrentNode","isTrusted","isClickedInsideBlockSettings","isClickedInsideBlockSettingsToggler","doNotProcess","clickedBlock","clickedNode","clientX","MouseEvent","touches","setToTheLastBlock","isAnchor","getAttribute","validUrl","getValidUrl","openTab","lastBlockBottomCoord","clickedCoord","focusedElement","anchorElement","clickedOutsideBlockContent","containsNode","isNeedToShowConversionToolbar","spriteHolder","editorWrapperNarrow","someBlock","$fails","wksDefine","enumKeys","_create","gOPNExt","$GOPS","$JSON","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","findChild","setSymbolDesc","protoDesc","sym","isSymbol","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","symbols","$getPrototypeOf","$freeze","$seal","$preventExtensions","$isFrozen","$isSealed","$isExtensible","FProto","nameRE","HAS_INSTANCE","FunctionProto","$Number","BROKEN_COF","TRIM","toNumber","argument","third","maxCode","first","code","digits","aNumberValue","$toFixed","toFixed","multiply","c2","divide","numToString","acc","fractionDigits","z","x2","$toPrecision","toPrecision","precision","EPSILON","_isFinite","isInteger","isSafeInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","sqrt","$acosh","acosh","MAX_VALUE","$asinh","asinh","$atanh","atanh","cbrt","clz32","LOG2E","cosh","fround","EPSILON32","MAX32","MIN32","$abs","$sign","hypot","value1","value2","div","sum","larg","$imul","imul","xn","yn","xl","yl","log10","LOG10E","log2","sinh","tanh","trunc","fromCharCode","$fromCodePoint","fromCodePoint","raw","callSite","tpl","$at","point","codePointAt","$endsWith","endsWith","endPosition","$startsWith","startsWith","color","getTime","toJSON","toISOString","pv","$toISOString","lz","num","getUTCFullYear","getUTCMilliseconds","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","DateProto","hint","createProperty","upTo","cloned","$sort","$forEach","STRICT","$filter","$some","$every","$reduce","$indexOf","NEGATIVE_ZERO","$find","$flags","$RegExp","CORRECT_NEW","tiRE","piRE","fiU","proxy","advanceStringIndex","regExpExec","$match","maybeCallNative","rx","fullUnicode","matchStr","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","REPLACE","$replace","searchValue","replaceValue","functionalReplace","results","accumulatedResult","nextSourcePosition","matched","captures","namedCaptures","replacerArgs","replacement","getSubstitution","tailPos","ch","capture","sameValue","SEARCH","$search","previousLastIndex","callRegExpExec","$min","$push","LENGTH","SUPPORTS_Y","SPLIT","$split","internalSplit","limit","lastLength","lastLastIndex","splitLimit","separatorCopy","splitter","unicodeMatching","lim","q","macrotask","Observer","WebKitMutationObserver","last","flush","standalone","strong","InternalMap","each","weak","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","$WeakMap","$isView","isView","fin","viewS","viewT","init","rApply","fApply","thisArgument","argumentsList","L","rConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","deleteProperty","Enumerate","enumerate","V","existingDescriptor","ownDesc","setProto","$includes","flatMap","flattenIntoArray","arraySpeciesCreate","sourceLen","IS_CONCAT_SPREADABLE","depth","mapper","thisArg","spreadable","targetIndex","sourceIndex","mapFn","padStart","$pad","WEBKIT_BUG","padEnd","trimLeft","trimRight","getOwnPropertyDescriptors","getDesc","$values","onFinally","MSIE","boundArgs","setInterval","$task","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","EditorJS","configuration","onReady","editor","isReady","exportAPI","field","moduleInstances","moduleInstance","alias","_arr","_e","register","default","revert","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","ownerDocument","docFrag","firstChild","contextRequire","filename","Core","onFail","autofocus","removeLoader","holderId","constructModules","configureModules","modulesToPrepare","getModulesDiff","diff","moduleName","setLogLevel","Boolean","initialBlock","defaultBlockData","hideToolbar","messages","setDictionary","isNativeReflectConstruct","_construct","Parent","sham","webpackContext","req","webpackContextResolve","Listeners","allListeners","generateId","assignedEventData","alreadyExist","findOne","existingListeners","findAll","findById","foundListeners","foundByEventTargets","findByEventTarget","Notifier","getWrapper","confirm","prompt","alert","hmr","insertInto","locals","btoa","unescape","encodeURIComponent","sourceRoot","atob","HTMLIFrameElement","contentDocument","refs","parts","h","css","media","sourceMap","insertAt","nextSibling","before","attrs","singleton","createObjectURL","revokeObjectURL","Blob","rel","convertToAbsoluteUrls","styleSheet","cssText","DEBUG","g","host","pathname","cancelHandler","okHandler","okText","cancelText","inputType","HTMLJanitor","tagDefinitions","blockElementNames","inlineElementNames","isInlineElement","getAllowedAttrs","shouldRejectNode","allowedAttrs","shouldRejectAttr","attr","sandbox","implementation","createHTMLDocument","_sanitize","createTreeWalker","NodeFilter","SHOW_TEXT","SHOW_ELEMENT","SHOW_COMMENT","COMMENT_NODE","containsBlockElement","isNotTopContainer","isNestedBlockElement","keepNestedBlockElements","removeAttribute","previousElementSibling","nextElementSibling","showed","offsetLeft","offsetRight","handleWindowScroll","tooltipShown","hidingTimeout","marginTop","marginLeft","marginRight","marginBottom","placeTop","placeLeft","placeRight","placeBottom","showingTimeout","applyPlacement","DomIterator","nodeList","focusedCssClass","cursor","leafNodesAndReturnIndex","focusedButtonIndex","Blocks","workingArea","insertToDOM","second","secondBlock","prevIndex","previousBlockIndex","composeBlockEvent","MOVED","REMOVED","deleteCount","RENDERED","commands","parseShortcutName","executeShortcut","execute","CMD","0","1","2","3","4","5","6","7","8","9","H","I","J","M","N","Q","X","Z","ESCAPE","INSERT","supportedCommands","Toolbox","displayedToolsCount","clickListenerId","removeAllShortcuts","toolboxOpened","toolToolboxSettings","toolboxBlockButton","buttonText","toolboxBlockButtonText","buttonIconContainer","toolboxBlockButtonIcon","toolButtonActivate","buttonTooltip","buttonShortcut","toolboxButtonActive","toolboxButton","_CSS","onKeyUp","_placeholder","DEFAULT_PLACEHOLDER","_data","_element","drawView","_preserveBlank","preserveBlank","export","import","identifier","references","updater","nonce","nc","BoldInlineTool","commandName","buttonActive","buttonModifier","isActive","queryCommandState","ItalicInlineTool","LinkInlineTool","commandLink","commandUnlink","ENTER_KEY","buttonUnlink","inputShowed","inputOpened","removeFakeBackground","setFakeBackground","parentAnchor","unlinkButton","unlink","toggleActions","anchorTag","openActions","hrefAttr","closeActions","needFocus","clearSavedSelection","validateURL","prepareLink","insertLink","collapseToEnd","addProtocol","isProtocolRelative","Stub","subtitle","infoContainer","ToolsFactory","editorConfig","IsInline","IsTune","InlineTool","Title","BlockTune","BlockTool","IsReadOnlySupported","IsEnabledLineBreaks","userToolboxSettings","ConversionConfig","EnabledInlineTools","EnabledBlockTunes","PasteConfig","toolRules","baseConfig","MoveDownTune","iconContainer","animation","moveDownButton","moveDownButtonContainer","moveDownText","handleClick","nextBlockElement","nextBlockCoords","scrollOffset","scrollY","scrollTo","DeleteTune","shortCutText","buttonDelete","deleteButton","deleteButtonContainer","deleteButtonText","MoveUpTune","moveUpButton","moveUpButtonContainer","moveUpText","scrollUpOffset","currentBlockElement","previousBlockElement","currentBlockCoords","previousBlockCoords","urlAlphabet","crypto","getRandomValues","customRandom","alphabet","getRandom","mask","customAlphabet","byte"],"mappings":"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","file":"editor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EditorJS\"] = factory();\n\telse\n\t\troot[\"EditorJS\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 186);\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","/**\n * Class Util\n */\n\nimport { nanoid } from 'nanoid';\nimport Dom from './dom';\n\n/**\n * Possible log levels\n */\nexport enum LogLevels {\n  VERBOSE = 'VERBOSE',\n  INFO = 'INFO',\n  WARN = 'WARN',\n  ERROR = 'ERROR',\n}\n\n/**\n * Allow to use global VERSION, that will be overwritten by Webpack\n */\ndeclare const VERSION: string;\n\n/**\n * @typedef {object} ChainData\n * @property {object} data - data that will be passed to the success or fallback\n * @property {Function} function - function's that must be called asynchronously\n *\n * @interface ChainData\n */\nexport interface ChainData {\n  data?: object;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function: (...args: any[]) => any;\n}\n\n/**\n * Editor.js utils\n */\n\n/**\n * Returns basic keycodes as constants\n *\n * @returns {{}}\n */\nexport const keyCodes = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  DOWN: 40,\n  RIGHT: 39,\n  DELETE: 46,\n  META: 91,\n};\n\n/**\n * Return mouse buttons codes\n */\nexport const mouseButtons = {\n  LEFT: 0,\n  WHEEL: 1,\n  RIGHT: 2,\n  BACKWARD: 3,\n  FORWARD: 4,\n};\n\n/**\n * Custom logger\n *\n * @param {boolean} labeled  if true, Editor.js label is shown\n * @param {string} msg  - message\n * @param {string} type - logging type 'log'|'warn'|'error'|'info'\n * @param {*} [args]      - argument to log with a message\n * @param {string} style  - additional styling to message\n */\nfunction _log(\n  labeled: boolean,\n  msg: string,\n  type = 'log',\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  args?: any,\n  style = 'color: inherit'\n): void {\n  if (!('console' in window) || !window.console[type]) {\n    return;\n  }\n\n  const isSimpleType = ['info', 'log', 'warn', 'error'].includes(type);\n  const argsToPass = [];\n\n  switch (_log.logLevel) {\n    case LogLevels.ERROR:\n      if (type !== 'error') {\n        return;\n      }\n      break;\n\n    case LogLevels.WARN:\n      if (!['error', 'warn'].includes(type)) {\n        return;\n      }\n      break;\n\n    case LogLevels.INFO:\n      if (!isSimpleType || labeled) {\n        return;\n      }\n      break;\n  }\n\n  if (args) {\n    argsToPass.push(args);\n  }\n\n  const editorLabelText = `Editor.js ${VERSION}`;\n  const editorLabelStyle = `line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;`;\n\n  if (labeled) {\n    if (isSimpleType) {\n      argsToPass.unshift(editorLabelStyle, style);\n      msg = `%c${editorLabelText}%c ${msg}`;\n    } else {\n      msg = `( ${editorLabelText} )${msg}`;\n    }\n  }\n\n  try {\n    if (!isSimpleType) {\n      console[type](msg);\n    } else if (args) {\n      console[type](`${msg} %o`, ...argsToPass);\n    } else {\n      console[type](msg, ...argsToPass);\n    }\n  } catch (ignored) {}\n}\n\n/**\n * Current log level\n */\n_log.logLevel = LogLevels.VERBOSE;\n\n/**\n * Set current log level\n *\n * @param {LogLevels} logLevel - log level to set\n */\nexport function setLogLevel(logLevel: LogLevels): void {\n  _log.logLevel = logLevel;\n}\n\n/**\n * _log method proxy without Editor.js label\n */\nexport const log = _log.bind(window, false);\n\n/**\n * _log method proxy with Editor.js label\n */\nexport const logLabeled = _log.bind(window, true);\n\n/**\n * Return string representation of the object type\n *\n * @param {*} object - object to get type\n *\n * @returns {string}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function typeOf(object: any): string {\n  return Object.prototype.toString.call(object).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}\n\n/**\n * Check if passed variable is a function\n *\n * @param {*} fn - function to check\n *\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isFunction(fn: any): fn is (...args: any[]) => any {\n  return typeOf(fn) === 'function' || typeOf(fn) === 'asyncfunction';\n}\n\n/**\n * Checks if passed argument is an object\n *\n * @param {*} v - object to check\n *\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isObject(v: any): v is object {\n  return typeOf(v) === 'object';\n}\n\n/**\n * Checks if passed argument is a string\n *\n * @param {*} v - variable to check\n *\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isString(v: any): v is string {\n  return typeOf(v) === 'string';\n}\n\n/**\n * Checks if passed argument is boolean\n *\n * @param {*} v - variable to check\n *\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isBoolean(v: any): v is boolean {\n  return typeOf(v) === 'boolean';\n}\n\n/**\n * Checks if passed argument is number\n *\n * @param {*} v - variable to check\n *\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isNumber(v: any): v is number {\n  return typeOf(v) === 'number';\n}\n\n/**\n * Checks if passed argument is undefined\n *\n * @param {*} v - variable to check\n *\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isUndefined(v: any): v is undefined {\n  return typeOf(v) === 'undefined';\n}\n\n/**\n * Check if passed function is a class\n *\n * @param {Function} fn - function to check\n *\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isClass(fn: any): boolean {\n  return isFunction(fn) && /^\\s*class\\s+/.test(fn.toString());\n}\n\n/**\n * Checks if object is empty\n *\n * @param {object} object - object to check\n *\n * @returns {boolean}\n */\nexport function isEmpty(object: object): boolean {\n  if (!object) {\n    return true;\n  }\n\n  return Object.keys(object).length === 0 && object.constructor === Object;\n}\n\n/**\n * Check if passed object is a Promise\n *\n * @param  {*}  object - object to check\n * @returns {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isPromise(object: any): object is Promise<any> {\n  return Promise.resolve(object) === object;\n}\n\n/**\n * Returns true if passed key code is printable (a-Z, 0-9, etc) character.\n *\n * @param {number} keyCode - key code\n *\n * @returns {boolean}\n */\nexport function isPrintableKey(keyCode: number): boolean {\n  return (keyCode > 47 && keyCode < 58) || // number keys\n    keyCode === 32 || keyCode === 13 || // Spacebar & return key(s)\n    keyCode === 229 || // processing key input for certain languages  Chinese, Japanese, etc.\n    (keyCode > 64 && keyCode < 91) || // letter keys\n    (keyCode > 95 && keyCode < 112) || // Numpad keys\n    (keyCode > 185 && keyCode < 193) || // ;=,-./` (in order)\n    (keyCode > 218 && keyCode < 223); // [\\]' (in order)\n}\n\n/**\n * Fires a promise sequence asynchronously\n *\n * @param {ChainData[]} chains - list or ChainData's\n * @param {Function} success - success callback\n * @param {Function} fallback - callback that fires in case of errors\n *\n * @returns {Promise}\n */\nexport async function sequence(\n  chains: ChainData[],\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  success: (data: object) => void = (): void => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  fallback: (data: object) => void = (): void => {}\n): Promise<void> {\n  /**\n   * Decorator\n   *\n   * @param {ChainData} chainData - Chain data\n   *\n   * @param {Function} successCallback - success callback\n   * @param {Function} fallbackCallback - fail callback\n   *\n   * @returns {Promise}\n   */\n  async function waitNextBlock(\n    chainData: ChainData,\n    successCallback: (data: object) => void,\n    fallbackCallback: (data: object) => void\n  ): Promise<void> {\n    try {\n      await chainData.function(chainData.data);\n      await successCallback(!isUndefined(chainData.data) ? chainData.data : {});\n    } catch (e) {\n      fallbackCallback(!isUndefined(chainData.data) ? chainData.data : {});\n    }\n  }\n\n  /**\n   * pluck each element from queue\n   * First, send resolved Promise as previous value\n   * Each plugins \"prepare\" method returns a Promise, that's why\n   * reduce current element will not be able to continue while can't get\n   * a resolved Promise\n   */\n  return chains.reduce(async (previousValue, currentValue) => {\n    await previousValue;\n\n    return waitNextBlock(currentValue, success, fallback);\n  }, Promise.resolve());\n}\n\n/**\n * Make array from array-like collection\n *\n * @param {ArrayLike} collection - collection to convert to array\n *\n * @returns {Array}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function array(collection: ArrayLike<any>): any[] {\n  return Array.prototype.slice.call(collection);\n}\n\n/**\n * Delays method execution\n *\n * @param {Function} method - method to execute\n * @param {number} timeout - timeout in ms\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function delay(method: (...args: any[]) => any, timeout: number) {\n  return function (): void {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this,\n        // eslint-disable-next-line prefer-rest-params\n        args = arguments;\n\n    window.setTimeout(() => method.apply(context, args), timeout);\n  };\n}\n\n/**\n * Get file extension\n *\n * @param {File} file - file\n *\n * @returns {string}\n */\nexport function getFileExtension(file: File): string {\n  return file.name.split('.').pop();\n}\n\n/**\n * Check if string is MIME type\n *\n * @param {string} type - string to check\n *\n * @returns {boolean}\n */\nexport function isValidMimeType(type: string): boolean {\n  return /^[-\\w]+\\/([-+\\w]+|\\*)$/.test(type);\n}\n\n/**\n * Debouncing method\n * Call method after passed time\n *\n * Note that this method returns Function and declared variable need to be called\n *\n * @param {Function} func - function that we're throttling\n * @param {number} wait - time in milliseconds\n * @param {boolean} immediate - call now\n * @returns {Function}\n */\nexport function debounce(func: (...args: unknown[]) => void, wait?: number, immediate?: boolean): () => void {\n  let timeout;\n\n  return (...args: unknown[]): void => {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this;\n\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\n/**\n * Returns a function, that, when invoked, will only be triggered at most once during a given window of time.\n *\n * @param func - function to throttle\n * @param wait - function will be called only once for that period\n * @param options - Normally, the throttled function will run as much as it can\n *                  without ever going more than once per `wait` duration;\n *                  but if you'd like to disable the execution on the leading edge, pass\n *                  `{leading: false}`. To disable execution on the trailing edge, ditto.\n */\nexport function throttle(func, wait, options: {leading?: boolean; trailing?: boolean} = undefined): () => void {\n  let context, args, result;\n  let timeout = null;\n  let previous = 0;\n\n  if (!options) {\n    options = {};\n  }\n\n  const later = function (): void {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n\n    if (!timeout) {\n      context = args = null;\n    }\n  };\n\n  return function (): unknown {\n    const now = Date.now();\n\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n\n    const remaining = wait - (now - previous);\n\n    context = this;\n\n    // eslint-disable-next-line prefer-rest-params\n    args = arguments;\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n\n      if (!timeout) {\n        context = args = null;\n      }\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n\n/**\n * Copies passed text to the clipboard\n *\n * @param text - text to copy\n */\nexport function copyTextToClipboard(text): void {\n  const el = Dom.make('div', 'codex-editor-clipboard', {\n    innerHTML: text,\n  });\n\n  document.body.appendChild(el);\n\n  const selection = window.getSelection();\n  const range = document.createRange();\n\n  range.selectNode(el);\n\n  window.getSelection().removeAllRanges();\n  selection.addRange(range);\n\n  document.execCommand('copy');\n  document.body.removeChild(el);\n}\n\n/**\n * Returns object with os name as key and boolean as value. Shows current user OS\n */\nexport function getUserOS(): {[key: string]: boolean} {\n  const OS = {\n    win: false,\n    mac: false,\n    x11: false,\n    linux: false,\n  };\n\n  const userOS = Object.keys(OS).find((os: string) => navigator.appVersion.toLowerCase().indexOf(os) !== -1);\n\n  if (userOS) {\n    OS[userOS] = true;\n\n    return OS;\n  }\n\n  return OS;\n}\n\n/**\n * Capitalizes first letter of the string\n *\n * @param {string} text - text to capitalize\n *\n * @returns {string}\n */\nexport function capitalize(text: string): string {\n  return text[0].toUpperCase() + text.slice(1);\n}\n\n/**\n * Merge to objects recursively\n *\n * @param {object} target - merge target\n * @param {object[]} sources - merge sources\n * @returns {object}\n */\nexport function deepMerge<T extends object>(target, ...sources): T {\n  if (!sources.length) {\n    return target;\n  }\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) {\n          Object.assign(target, { [key]: {} });\n        }\n\n        deepMerge(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return deepMerge(target, ...sources);\n}\n\n/**\n * Return true if current device supports touch events\n *\n * Note! This is a simple solution, it can give false-positive results.\n * To detect touch devices more carefully, use 'touchstart' event listener\n *\n * @see http://www.stucox.com/blog/you-cant-detect-a-touchscreen/\n *\n * @returns {boolean}\n */\nexport const isTouchSupported: boolean = 'ontouchstart' in document.documentElement;\n\n/**\n * Make shortcut command more human-readable\n *\n * @param {string} shortcut  string like 'CMD+B'\n */\nexport function beautifyShortcut(shortcut: string): string {\n  const OS = getUserOS();\n\n  shortcut = shortcut\n    .replace(/shift/gi, '')\n    .replace(/backspace/gi, '')\n    .replace(/enter/gi, '')\n    .replace(/up/gi, '')\n    .replace(/left/gi, '')\n    .replace(/down/gi, '')\n    .replace(/right/gi, '')\n    .replace(/escape/gi, '')\n    .replace(/insert/gi, 'Ins')\n    .replace(/delete/gi, '')\n    .replace(/\\+/gi, ' + ');\n\n  if (OS.mac) {\n    shortcut = shortcut.replace(/ctrl|cmd/gi, '').replace(/alt/gi, '');\n  } else {\n    shortcut = shortcut.replace(/cmd/gi, 'Ctrl').replace(/windows/gi, 'WIN');\n  }\n\n  return shortcut;\n}\n\n/**\n * Returns valid URL. If it is going outside and valid, it returns itself\n * If url has `one slash`, then it concatenates with window location origin\n * or when url has `two lack` it appends only protocol\n *\n * @param {string} url - url to prettify\n */\nexport function getValidUrl(url: string): string {\n  try {\n    const urlObject = new URL(url);\n\n    return urlObject.href;\n  } catch (e) {\n    // do nothing but handle below\n  }\n\n  if (url.substring(0, 2) === '//') {\n    return window.location.protocol + url;\n  } else {\n    return window.location.origin + url;\n  }\n}\n\n/**\n * Create a block id\n *\n * @returns {string}\n */\nexport function generateBlockId(): string {\n  return nanoid(10);\n}\n\n/**\n * Opens new Tab with passed URL\n *\n * @param {string} url - URL address to redirect\n */\nexport function openTab(url: string): void {\n  window.open(url, '_blank');\n}\n\n/**\n * Returns random generated identifier\n *\n * @param {string} prefix - identifier prefix\n *\n * @returns {string}\n */\nexport function generateId(prefix = ''): string {\n  // tslint:disable-next-line:no-bitwise\n  return `${prefix}${(Math.floor(Math.random() * 1e8)).toString(16)}`;\n}\n\n/**\n * Common method for printing a warning about the usage of deprecated property or method.\n *\n * @param condition - condition for deprecation.\n * @param oldProperty - deprecated property.\n * @param newProperty - the property that should be used instead.\n */\nexport function deprecationAssert(condition: boolean, oldProperty: string, newProperty: string): void {\n  const message = `${oldProperty} is deprecated and will be removed in the next major release. Please use the ${newProperty} instead.`;\n\n  if (condition) {\n    logLabeled(message, 'warn');\n  }\n}\n\n/**\n * Decorator which provides ability to cache method or accessor result\n *\n * @param target - target instance or constructor function\n * @param propertyKey - method or accessor name\n * @param descriptor - property descriptor\n */\nexport function cacheable<Target, Value, Arguments extends unknown[] = unknown[]>(\n  target: Target,\n  propertyKey: string,\n  descriptor: PropertyDescriptor\n): PropertyDescriptor {\n  const propertyToOverride = descriptor.value ? 'value' : 'get';\n  const originalMethod = descriptor[propertyToOverride];\n  const cacheKey = `#${propertyKey}Cache`;\n\n  /**\n   * Override get or value descriptor property to cache return value\n   *\n   * @param args - method args\n   */\n  descriptor[propertyToOverride] = function (...args: Arguments): Value {\n    /**\n     * If there is no cache, create it\n     */\n    if (this[cacheKey] === undefined) {\n      this[cacheKey] = originalMethod.apply(this, ...args);\n    }\n\n    return this[cacheKey];\n  };\n\n  /**\n   * If get accessor has been overridden, we need to override set accessor to clear cache\n   *\n   * @param value - value to set\n   */\n  if (propertyToOverride === 'get' && descriptor.set) {\n    const originalSet = descriptor.set;\n\n    descriptor.set = function (value: unknown): void {\n      delete target[cacheKey];\n\n      originalSet.apply(this, value);\n    };\n  }\n\n  return descriptor;\n};\n","var _typeof = require(\"../helpers/typeof\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","import { EditorModules } from '../types-internal/editor-modules';\nimport { EditorConfig } from '../../types';\nimport { ModuleConfig } from '../types-internal/module-config';\nimport Listeners from './utils/listeners';\nimport EventsDispatcher from './utils/events';\n\n/**\n * The type <T> of the Module generic.\n * It describes the structure of nodes used in modules.\n */\nexport type ModuleNodes = object;\n\n/**\n * @abstract\n * @class      Module\n * @classdesc  All modules inherits from this class.\n *\n * @typedef {Module} Module\n * @property {object} config - Editor user settings\n * @property {EditorModules} Editor - List of Editor modules\n */\nexport default class Module<T extends ModuleNodes = {}> {\n  /**\n   * Each module can provide some UI elements that will be stored in this property\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public nodes: T = {} as any;\n\n  /**\n   * Editor modules list\n   *\n   * @type {EditorModules}\n   */\n  protected Editor: EditorModules;\n\n  /**\n   * Editor configuration object\n   *\n   * @type {EditorConfig}\n   */\n  protected config: EditorConfig;\n\n  /**\n   * Editor event dispatcher class\n   */\n  protected eventsDispatcher: EventsDispatcher;\n\n  /**\n   * Util for bind/unbind DOM event listeners\n   */\n  protected listeners: Listeners = new Listeners();\n\n  /**\n   * This object provides methods to push into set of listeners that being dropped when read-only mode is enabled\n   */\n  protected readOnlyMutableListeners = {\n    /**\n     * Assigns event listener on DOM element and pushes into special array that might be removed\n     *\n     * @param {EventTarget} element - DOM Element\n     * @param {string} eventType - Event name\n     * @param {Function} handler - Event handler\n     * @param {boolean|AddEventListenerOptions} options - Listening options\n     */\n    on: (\n      element: EventTarget,\n      eventType: string,\n      handler: (event: Event) => void,\n      options: boolean | AddEventListenerOptions = false\n    ): void => {\n      this.mutableListenerIds.push(\n        this.listeners.on(element, eventType, handler, options)\n      );\n    },\n\n    /**\n     * Clears all mutable listeners\n     */\n    clearAll: (): void => {\n      for (const id of this.mutableListenerIds) {\n        this.listeners.offById(id);\n      }\n\n      this.mutableListenerIds = [];\n    },\n  };\n\n  /**\n   * The set of listener identifiers which will be dropped in read-only mode\n   */\n  private mutableListenerIds: string[] = [];\n\n  /**\n   * @class\n   *\n   * @param {ModuleConfig} - Module config\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    if (new.target === Module) {\n      throw new TypeError('Constructors for abstract class Module are not allowed.');\n    }\n\n    this.config = config;\n    this.eventsDispatcher = eventsDispatcher;\n  }\n\n  /**\n   * Editor modules setter\n   *\n   * @param {EditorModules} Editor - Editor's Modules\n   */\n  public set state(Editor: EditorModules) {\n    this.Editor = Editor;\n  }\n\n  /**\n   * Remove memorized nodes\n   */\n  public removeAllNodes(): void {\n    for (const key in this.nodes) {\n      const node = this.nodes[key];\n\n      if (node instanceof HTMLElement) {\n        node.remove();\n      }\n    }\n  }\n\n  /**\n   * Returns true if current direction is RTL (Right-To-Left)\n   */\n  protected get isRtl(): boolean {\n    return this.config.i18n.direction === 'rtl';\n  }\n}\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","import * as _ from './utils';\n\n/**\n * DOM manipulations helper\n */\nexport default class Dom {\n  /**\n   * Check if passed tag has no closed tag\n   *\n   * @param {HTMLElement} tag - element to check\n   * @returns {boolean}\n   */\n  public static isSingleTag(tag: HTMLElement): boolean {\n    return tag.tagName && [\n      'AREA',\n      'BASE',\n      'BR',\n      'COL',\n      'COMMAND',\n      'EMBED',\n      'HR',\n      'IMG',\n      'INPUT',\n      'KEYGEN',\n      'LINK',\n      'META',\n      'PARAM',\n      'SOURCE',\n      'TRACK',\n      'WBR',\n    ].includes(tag.tagName);\n  }\n\n  /**\n   * Check if element is BR or WBR\n   *\n   * @param {HTMLElement} element - element to check\n   * @returns {boolean}\n   */\n  public static isLineBreakTag(element: HTMLElement): element is HTMLBRElement {\n    return element && element.tagName && [\n      'BR',\n      'WBR',\n    ].includes(element.tagName);\n  }\n\n  /**\n   * Helper for making Elements with classname and attributes\n   *\n   * @param  {string} tagName - new Element tag name\n   * @param  {string[]|string} [classNames] - list or name of CSS classname(s)\n   * @param  {object} [attributes] - any attributes\n   *\n   * @returns {HTMLElement}\n   */\n  public static make(tagName: string, classNames: string|string[] = null, attributes: object = {}): HTMLElement {\n    const el = document.createElement(tagName);\n\n    if (Array.isArray(classNames)) {\n      el.classList.add(...classNames);\n    } else if (classNames) {\n      el.classList.add(classNames);\n    }\n\n    for (const attrName in attributes) {\n      if (Object.prototype.hasOwnProperty.call(attributes, attrName)) {\n        el[attrName] = attributes[attrName];\n      }\n    }\n\n    return el;\n  }\n\n  /**\n   * Creates Text Node with the passed content\n   *\n   * @param {string} content - text content\n   *\n   * @returns {Text}\n   */\n  public static text(content: string): Text {\n    return document.createTextNode(content);\n  }\n\n  /**\n   * Creates SVG icon linked to the sprite\n   *\n   * @param {string} name - name (id) of icon from sprite\n   * @param {number} [width] - icon width\n   * @param {number} [height] - icon height\n   *\n   * @returns {SVGElement}\n   */\n  public static svg(name: string, width = 14, height = 14): SVGElement {\n    const icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n    icon.classList.add('icon', 'icon--' + name);\n    icon.setAttribute('width', width + 'px');\n    icon.setAttribute('height', height + 'px');\n    icon.innerHTML = `<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#${name}\"></use>`;\n\n    return icon;\n  }\n\n  /**\n   * Append one or several elements to the parent\n   *\n   * @param  {Element|DocumentFragment} parent - where to append\n   * @param  {Element|Element[]|DocumentFragment|Text|Text[]} elements - element or elements list\n   */\n  public static append(\n    parent: Element|DocumentFragment,\n    elements: Element|Element[]|DocumentFragment|Text|Text[]\n  ): void {\n    if (Array.isArray(elements)) {\n      elements.forEach((el) => parent.appendChild(el));\n    } else {\n      parent.appendChild(elements);\n    }\n  }\n\n  /**\n   * Append element or a couple to the beginning of the parent elements\n   *\n   * @param {Element} parent - where to append\n   * @param {Element|Element[]} elements - element or elements list\n   */\n  public static prepend(parent: Element, elements: Element|Element[]): void {\n    if (Array.isArray(elements)) {\n      elements = elements.reverse();\n      elements.forEach((el) => parent.prepend(el));\n    } else {\n      parent.prepend(elements);\n    }\n  }\n\n  /**\n   * Swap two elements in parent\n   *\n   * @param {HTMLElement} el1 - from\n   * @param {HTMLElement} el2 - to\n   * @deprecated\n   */\n  public static swap(el1: HTMLElement, el2: HTMLElement): void {\n    // create marker element and insert it where el1 is\n    const temp = document.createElement('div'),\n        parent = el1.parentNode;\n\n    parent.insertBefore(temp, el1);\n\n    // move el1 to right before el2\n    parent.insertBefore(el1, el2);\n\n    // move el2 to right before where el1 used to be\n    parent.insertBefore(el2, temp);\n\n    // remove temporary marker node\n    parent.removeChild(temp);\n  }\n\n  /**\n   * Selector Decorator\n   *\n   * Returns first match\n   *\n   * @param {Element} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   *\n   * @returns {Element}\n   */\n  public static find(el: Element|Document = document, selector: string): Element {\n    return el.querySelector(selector);\n  }\n\n  /**\n   * Get Element by Id\n   *\n   * @param {string} id - id to find\n   * @returns {HTMLElement | null}\n   */\n  public static get(id: string): HTMLElement | null {\n    return document.getElementById(id);\n  }\n\n  /**\n   * Selector Decorator.\n   *\n   * Returns all matches\n   *\n   * @param {Element|Document} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   *\n   * @returns {NodeList}\n   */\n  public static findAll(el: Element|Document = document, selector: string): NodeList {\n    return el.querySelectorAll(selector);\n  }\n\n  /**\n   * Returns CSS selector for all text inputs\n   */\n  public static get allInputsSelector(): string {\n    const allowedInputTypes = ['text', 'password', 'email', 'number', 'search', 'tel', 'url'];\n\n    return '[contenteditable=true], textarea, input:not([type]), ' +\n      allowedInputTypes.map((type) => `input[type=\"${type}\"]`).join(', ');\n  }\n\n  /**\n   * Find all contendeditable, textarea and editable input elements passed holder contains\n   *\n   * @param holder - element where to find inputs\n   */\n  public static findAllInputs(holder: Element): HTMLElement[] {\n    return _.array(holder.querySelectorAll(Dom.allInputsSelector))\n      /**\n       * If contenteditable element contains block elements, treat them as inputs.\n       */\n      .reduce((result, input) => {\n        if (Dom.isNativeInput(input) || Dom.containsOnlyInlineElements(input)) {\n          return [...result, input];\n        }\n\n        return [...result, ...Dom.getDeepestBlockElements(input)];\n      }, []);\n  }\n\n  /**\n   * Search for deepest node which is Leaf.\n   * Leaf is the vertex that doesn't have any child nodes\n   *\n   * @description Method recursively goes throw the all Node until it finds the Leaf\n   *\n   * @param {Node} node - root Node. From this vertex we start Deep-first search\n   *                      {@link https://en.wikipedia.org/wiki/Depth-first_search}\n   * @param {boolean} [atLast] - find last text node\n   *\n   * @returns {Node} - it can be text Node or Element Node, so that caret will able to work with it\n   */\n  public static getDeepestNode(node: Node, atLast = false): Node {\n    /**\n     * Current function have two directions:\n     *  - starts from first child and every time gets first or nextSibling in special cases\n     *  - starts from last child and gets last or previousSibling\n     *\n     * @type {string}\n     */\n    const child = atLast ? 'lastChild' : 'firstChild',\n        sibling = atLast ? 'previousSibling' : 'nextSibling';\n\n    if (node && node.nodeType === Node.ELEMENT_NODE && node[child]) {\n      let nodeChild = node[child] as Node;\n\n      /**\n       * special case when child is single tag that can't contain any content\n       */\n      if (\n        Dom.isSingleTag(nodeChild as HTMLElement) &&\n        !Dom.isNativeInput(nodeChild) &&\n        !Dom.isLineBreakTag(nodeChild as HTMLElement)\n      ) {\n        /**\n         * 1) We need to check the next sibling. If it is Node Element then continue searching for deepest\n         * from sibling\n         *\n         * 2) If single tag's next sibling is null, then go back to parent and check his sibling\n         * In case of Node Element continue searching\n         *\n         * 3) If none of conditions above happened return parent Node Element\n         */\n        if (nodeChild[sibling]) {\n          nodeChild = nodeChild[sibling];\n        } else if (nodeChild.parentNode[sibling]) {\n          nodeChild = nodeChild.parentNode[sibling];\n        } else {\n          return nodeChild.parentNode;\n        }\n      }\n\n      return this.getDeepestNode(nodeChild, atLast);\n    }\n\n    return node;\n  }\n\n  /**\n   * Check if object is DOM node\n   *\n   * @param {*} node - object to check\n   *\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public static isElement(node: any): node is Element {\n    if (_.isNumber(node)) {\n      return false;\n    }\n\n    return node && node.nodeType && node.nodeType === Node.ELEMENT_NODE;\n  }\n\n  /**\n   * Check if object is DocumentFragment node\n   *\n   * @param {object} node - object to check\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public static isFragment(node: any): node is DocumentFragment {\n    if (_.isNumber(node)) {\n      return false;\n    }\n\n    return node && node.nodeType && node.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n  }\n\n  /**\n   * Check if passed element is contenteditable\n   *\n   * @param {HTMLElement} element - html element to check\n   *\n   * @returns {boolean}\n   */\n  public static isContentEditable(element: HTMLElement): boolean {\n    return element.contentEditable === 'true';\n  }\n\n  /**\n   * Checks target if it is native input\n   *\n   * @param {*} target - HTML element or string\n   *\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public static isNativeInput(target: any): target is HTMLInputElement | HTMLTextAreaElement {\n    const nativeInputs = [\n      'INPUT',\n      'TEXTAREA',\n    ];\n\n    return target && target.tagName ? nativeInputs.includes(target.tagName) : false;\n  }\n\n  /**\n   * Checks if we can set caret\n   *\n   * @param {HTMLElement} target - target to check\n   *\n   * @returns {boolean}\n   */\n  public static canSetCaret(target: HTMLElement): boolean {\n    let result = true;\n\n    if (Dom.isNativeInput(target)) {\n      switch (target.type) {\n        case 'file':\n        case 'checkbox':\n        case 'radio':\n        case 'hidden':\n        case 'submit':\n        case 'button':\n        case 'image':\n        case 'reset':\n          result = false;\n          break;\n      }\n    } else {\n      result = Dom.isContentEditable(target);\n    }\n\n    return result;\n  }\n\n  /**\n   * Checks node if it is empty\n   *\n   * @description Method checks simple Node without any childs for emptiness\n   * If you have Node with 2 or more children id depth, you better use {@link Dom#isEmpty} method\n   *\n   * @param {Node} node - node to check\n   *\n   * @returns {boolean} true if it is empty\n   */\n  public static isNodeEmpty(node: Node): boolean {\n    let nodeText;\n\n    if (this.isSingleTag(node as HTMLElement) && !this.isLineBreakTag(node as HTMLElement)) {\n      return false;\n    }\n\n    if (this.isElement(node) && this.isNativeInput(node)) {\n      nodeText = (node as HTMLInputElement).value;\n    } else {\n      nodeText = node.textContent.replace('\\u200B', '');\n    }\n\n    return nodeText.trim().length === 0;\n  }\n\n  /**\n   * checks node if it is doesn't have any child nodes\n   *\n   * @param {Node} node - node to check\n   *\n   * @returns {boolean}\n   */\n  public static isLeaf(node: Node): boolean {\n    if (!node) {\n      return false;\n    }\n\n    return node.childNodes.length === 0;\n  }\n\n  /**\n   * breadth-first search (BFS)\n   * {@link https://en.wikipedia.org/wiki/Breadth-first_search}\n   *\n   * @description Pushes to stack all DOM leafs and checks for emptiness\n   *\n   * @param {Node} node - node to check\n   * @returns {boolean}\n   */\n  public static isEmpty(node: Node): boolean {\n    /**\n     * Normalize node to merge several text nodes to one to reduce tree walker iterations\n     */\n    node.normalize();\n\n    const treeWalker = [ node ];\n\n    while (treeWalker.length > 0) {\n      node = treeWalker.shift();\n\n      if (!node) {\n        continue;\n      }\n\n      if (this.isLeaf(node) && !this.isNodeEmpty(node)) {\n        return false;\n      }\n\n      if (node.childNodes) {\n        treeWalker.push(...Array.from(node.childNodes));\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Check if string contains html elements\n   *\n   * @param {string} str - string to check\n   *\n   * @returns {boolean}\n   */\n  public static isHTMLString(str: string): boolean {\n    const wrapper = Dom.make('div');\n\n    wrapper.innerHTML = str;\n\n    return wrapper.childElementCount > 0;\n  }\n\n  /**\n   * Return length of node`s text content\n   *\n   * @param {Node} node - node with content\n   *\n   * @returns {number}\n   */\n  public static getContentLength(node: Node): number {\n    if (Dom.isNativeInput(node)) {\n      return (node as HTMLInputElement).value.length;\n    }\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      return (node as Text).length;\n    }\n\n    return node.textContent.length;\n  }\n\n  /**\n   * Return array of names of block html elements\n   *\n   * @returns {string[]}\n   */\n  public static get blockElements(): string[] {\n    return [\n      'address',\n      'article',\n      'aside',\n      'blockquote',\n      'canvas',\n      'div',\n      'dl',\n      'dt',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'header',\n      'hgroup',\n      'hr',\n      'li',\n      'main',\n      'nav',\n      'noscript',\n      'ol',\n      'output',\n      'p',\n      'pre',\n      'ruby',\n      'section',\n      'table',\n      'tr',\n      'tfoot',\n      'ul',\n      'video',\n    ];\n  }\n\n  /**\n   * Check if passed content includes only inline elements\n   *\n   * @param {string|HTMLElement} data - element or html string\n   *\n   * @returns {boolean}\n   */\n  public static containsOnlyInlineElements(data: string | HTMLElement): boolean {\n    let wrapper: HTMLElement;\n\n    if (_.isString(data)) {\n      wrapper = document.createElement('div');\n      wrapper.innerHTML = data;\n    } else {\n      wrapper = data;\n    }\n\n    const check = (element: HTMLElement): boolean => {\n      return !Dom.blockElements.includes(element.tagName.toLowerCase()) &&\n        Array.from(element.children).every(check);\n    };\n\n    return Array.from(wrapper.children).every(check);\n  }\n\n  /**\n   * Find and return all block elements in the passed parent (including subtree)\n   *\n   * @param {HTMLElement} parent - root element\n   *\n   * @returns {HTMLElement[]}\n   */\n  public static getDeepestBlockElements(parent: HTMLElement): HTMLElement[] {\n    if (Dom.containsOnlyInlineElements(parent)) {\n      return [ parent ];\n    }\n\n    return Array.from(parent.children).reduce((result, element) => {\n      return [...result, ...Dom.getDeepestBlockElements(element as HTMLElement)];\n    }, []);\n  }\n\n  /**\n   * Helper for get holder from {string} or return HTMLElement\n   *\n   * @param {string | HTMLElement} element - holder's id or holder's HTML Element\n   *\n   * @returns {HTMLElement}\n   */\n  public static getHolder(element: string | HTMLElement): HTMLElement {\n    if (_.isString(element)) {\n      return document.getElementById(element);\n    }\n\n    return element;\n  }\n\n  /**\n   * Method checks passed Node if it is some extension Node\n   *\n   * @param {Node} node - any node\n   *\n   * @returns {boolean}\n   */\n  public static isExtensionNode(node: Node): boolean {\n    const extensions = [\n      'GRAMMARLY-EXTENSION',\n    ];\n\n    return node && extensions.includes(node.nodeName);\n  }\n\n  /**\n   * Returns true if element is anchor (is A tag)\n   *\n   * @param {Element} element - element to check\n   *\n   * @returns {boolean}\n   */\n  public static isAnchor(element: Element): element is HTMLAnchorElement {\n    return element.tagName.toLowerCase() === 'a';\n  }\n\n  /**\n   * Return element's offset related to the document\n   *\n   * @todo handle case when editor initialized in scrollable popup\n   * @param el - element to compute offset\n   */\n  public static offset(el): {top: number; left: number; right: number; bottom: number} {\n    const rect = el.getBoundingClientRect();\n    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n    const top = rect.top + scrollTop;\n    const left = rect.left + scrollLeft;\n\n    return {\n      top,\n      left,\n      bottom: top + rect.height,\n      right: left + rect.width,\n    };\n  }\n}\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","/**\n * TextRange interface for IE9-\n */\nimport * as _ from './utils';\nimport $ from './dom';\n\ninterface TextRange {\n  boundingTop: number;\n  boundingLeft: number;\n  boundingBottom: number;\n  boundingRight: number;\n  boundingHeight: number;\n  boundingWidth: number;\n}\n\n/**\n * Interface for object returned by document.selection in IE9-\n */\ninterface MSSelection {\n  createRange: () => TextRange;\n  type: string;\n}\n\n/**\n * Extends Document interface for IE9-\n */\ninterface Document {\n  selection?: MSSelection;\n}\n\n/**\n * Working with selection\n *\n * @typedef {SelectionUtils} SelectionUtils\n */\nexport default class SelectionUtils {\n  /**\n   * Selection instances\n   *\n   * @todo Check if this is still relevant\n   */\n  public instance: Selection = null;\n  public selection: Selection = null;\n\n  /**\n   * This property can store SelectionUtils's range for restoring later\n   *\n   * @type {Range|null}\n   */\n  public savedSelectionRange: Range = null;\n\n  /**\n   * Fake background is active\n   *\n   * @returns {boolean}\n   */\n  public isFakeBackgroundEnabled = false;\n\n  /**\n   * Native Document's commands for fake background\n   */\n  private readonly commandBackground: string = 'backColor';\n  private readonly commandRemoveFormat: string = 'removeFormat';\n\n  /**\n   * Editor styles\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  public static get CSS(): { editorWrapper: string; editorZone: string } {\n    return {\n      editorWrapper: 'codex-editor',\n      editorZone: 'codex-editor__redactor',\n    };\n  }\n\n  /**\n   * Returns selected anchor\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorNode}\n   *\n   * @returns {Node|null}\n   */\n  public static get anchorNode(): Node | null {\n    const selection = window.getSelection();\n\n    return selection ? selection.anchorNode : null;\n  }\n\n  /**\n   * Returns selected anchor element\n   *\n   * @returns {Element|null}\n   */\n  public static get anchorElement(): Element | null {\n    const selection = window.getSelection();\n\n    if (!selection) {\n      return null;\n    }\n\n    const anchorNode = selection.anchorNode;\n\n    if (!anchorNode) {\n      return null;\n    }\n\n    if (!$.isElement(anchorNode)) {\n      return anchorNode.parentElement;\n    } else {\n      return anchorNode;\n    }\n  }\n\n  /**\n   * Returns selection offset according to the anchor node\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorOffset}\n   *\n   * @returns {number|null}\n   */\n  public static get anchorOffset(): number | null {\n    const selection = window.getSelection();\n\n    return selection ? selection.anchorOffset : null;\n  }\n\n  /**\n   * Is current selection range collapsed\n   *\n   * @returns {boolean|null}\n   */\n  public static get isCollapsed(): boolean | null {\n    const selection = window.getSelection();\n\n    return selection ? selection.isCollapsed : null;\n  }\n\n  /**\n   * Check current selection if it is at Editor's zone\n   *\n   * @returns {boolean}\n   */\n  public static get isAtEditor(): boolean {\n    return this.isSelectionAtEditor(SelectionUtils.get());\n  }\n\n  /**\n   * Check if passed selection is at Editor's zone\n   *\n   * @param selection - Selectoin object to check\n   */\n  public static isSelectionAtEditor(selection: Selection): boolean {\n    if (!selection) {\n      return false;\n    }\n\n    /**\n     * Something selected on document\n     */\n    let selectedNode = (selection.anchorNode || selection.focusNode) as HTMLElement;\n\n    if (selectedNode && selectedNode.nodeType === Node.TEXT_NODE) {\n      selectedNode = selectedNode.parentNode as HTMLElement;\n    }\n\n    let editorZone = null;\n\n    if (selectedNode && selectedNode instanceof Element) {\n      editorZone = selectedNode.closest(`.${SelectionUtils.CSS.editorZone}`);\n    }\n\n    /**\n     * SelectionUtils is not out of Editor because Editor's wrapper was found\n     */\n    return editorZone ? editorZone.nodeType === Node.ELEMENT_NODE : false;\n  }\n\n  /**\n   * Check if passed range at Editor zone\n   *\n   * @param range - range to check\n   */\n  public static isRangeAtEditor(range: Range): boolean {\n    if (!range) {\n      return;\n    }\n\n    let selectedNode = range.startContainer as HTMLElement;\n\n    if (selectedNode && selectedNode.nodeType === Node.TEXT_NODE) {\n      selectedNode = selectedNode.parentNode as HTMLElement;\n    }\n\n    let editorZone = null;\n\n    if (selectedNode && selectedNode instanceof Element) {\n      editorZone = selectedNode.closest(`.${SelectionUtils.CSS.editorZone}`);\n    }\n\n    /**\n     * SelectionUtils is not out of Editor because Editor's wrapper was found\n     */\n    return editorZone ? editorZone.nodeType === Node.ELEMENT_NODE : false;\n  }\n\n  /**\n   * Methods return boolean that true if selection exists on the page\n   */\n  public static get isSelectionExists(): boolean {\n    const selection = SelectionUtils.get();\n\n    return !!selection.anchorNode;\n  }\n\n  /**\n   * Return first range\n   *\n   * @returns {Range|null}\n   */\n  public static get range(): Range | null {\n    return this.getRangeFromSelection(this.get());\n  }\n\n  /**\n   * Returns range from passed Selection object\n   *\n   * @param selection - Selection object to get Range from\n   */\n  public static getRangeFromSelection(selection: Selection): Range {\n    return selection && selection.rangeCount ? selection.getRangeAt(0) : null;\n  }\n\n  /**\n   * Calculates position and size of selected text\n   *\n   * @returns {DOMRect | ClientRect}\n   */\n  public static get rect(): DOMRect | ClientRect {\n    let sel: Selection | MSSelection = (document as Document).selection,\n        range: TextRange | Range;\n\n    let rect = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    } as DOMRect;\n\n    if (sel && sel.type !== 'Control') {\n      sel = sel as MSSelection;\n      range = sel.createRange() as TextRange;\n      rect.x = range.boundingLeft;\n      rect.y = range.boundingTop;\n      rect.width = range.boundingWidth;\n      rect.height = range.boundingHeight;\n\n      return rect;\n    }\n\n    if (!window.getSelection) {\n      _.log('Method window.getSelection is not supported', 'warn');\n\n      return rect;\n    }\n\n    sel = window.getSelection();\n\n    if (sel.rangeCount === null || isNaN(sel.rangeCount)) {\n      _.log('Method SelectionUtils.rangeCount is not supported', 'warn');\n\n      return rect;\n    }\n\n    if (sel.rangeCount === 0) {\n      return rect;\n    }\n\n    range = sel.getRangeAt(0).cloneRange() as Range;\n\n    if (range.getBoundingClientRect) {\n      rect = range.getBoundingClientRect() as DOMRect;\n    }\n    // Fall back to inserting a temporary element\n    if (rect.x === 0 && rect.y === 0) {\n      const span = document.createElement('span');\n\n      if (span.getBoundingClientRect) {\n        // Ensure span has dimensions and position by\n        // adding a zero-width space character\n        span.appendChild(document.createTextNode('\\u200b'));\n        range.insertNode(span);\n        rect = span.getBoundingClientRect() as DOMRect;\n\n        const spanParent = span.parentNode;\n\n        spanParent.removeChild(span);\n\n        // Glue any broken text nodes back together\n        spanParent.normalize();\n      }\n    }\n\n    return rect;\n  }\n\n  /**\n   * Returns selected text as String\n   *\n   * @returns {string}\n   */\n  public static get text(): string {\n    return window.getSelection ? window.getSelection().toString() : '';\n  }\n\n  /**\n   * Returns window SelectionUtils\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Window/getSelection}\n   *\n   * @returns {Selection}\n   */\n  public static get(): Selection {\n    return window.getSelection();\n  }\n\n  /**\n   * Set focus to contenteditable or native input element\n   *\n   * @param element - element where to set focus\n   * @param offset - offset of cursor\n   *\n   * @returns {DOMRect} of range\n   */\n  public static setCursor(element: HTMLElement, offset = 0): DOMRect {\n    const range = document.createRange();\n    const selection = window.getSelection();\n\n    /** if found deepest node is native input */\n    if ($.isNativeInput(element)) {\n      if (!$.canSetCaret(element)) {\n        return;\n      }\n\n      element.focus();\n      element.selectionStart = element.selectionEnd = offset;\n\n      return element.getBoundingClientRect();\n    }\n\n    range.setStart(element, offset);\n    range.setEnd(element, offset);\n\n    selection.removeAllRanges();\n    selection.addRange(range);\n\n    return range.getBoundingClientRect();\n  }\n\n  /**\n   * Adds fake cursor to the current range\n   *\n   * @param [container] - if passed cursor will be added only if container contains current range\n   */\n  public static addFakeCursor(container?: HTMLElement): void {\n    const range = SelectionUtils.range;\n    const fakeCursor = $.make('span', 'codex-editor__fake-cursor');\n\n    fakeCursor.dataset.mutationFree = 'true';\n\n    if (!range || (container && !container.contains(range.startContainer))) {\n      return;\n    }\n\n    range.collapse();\n    range.insertNode(fakeCursor);\n  }\n\n  /**\n   * Removes fake cursor from a container\n   *\n   * @param container - container to look for\n   */\n  public static removeFakeCursor(container: HTMLElement = document.body): void {\n    const fakeCursor = $.find(container, `.codex-editor__fake-cursor`);\n\n    fakeCursor && fakeCursor.remove();\n  }\n\n  /**\n   * Removes fake background\n   */\n  public removeFakeBackground(): void {\n    if (!this.isFakeBackgroundEnabled) {\n      return;\n    }\n\n    this.isFakeBackgroundEnabled = false;\n    document.execCommand(this.commandRemoveFormat);\n  }\n\n  /**\n   * Sets fake background\n   */\n  public setFakeBackground(): void {\n    document.execCommand(this.commandBackground, false, '#a8d6ff');\n\n    this.isFakeBackgroundEnabled = true;\n  }\n\n  /**\n   * Save SelectionUtils's range\n   */\n  public save(): void {\n    this.savedSelectionRange = SelectionUtils.range;\n  }\n\n  /**\n   * Restore saved SelectionUtils's range\n   */\n  public restore(): void {\n    if (!this.savedSelectionRange) {\n      return;\n    }\n\n    const sel = window.getSelection();\n\n    sel.removeAllRanges();\n    sel.addRange(this.savedSelectionRange);\n  }\n\n  /**\n   * Clears saved selection\n   */\n  public clearSaved(): void {\n    this.savedSelectionRange = null;\n  }\n\n  /**\n   * Collapse current selection\n   */\n  public collapseToEnd(): void {\n    const sel = window.getSelection();\n    const range = document.createRange();\n\n    range.selectNodeContents(sel.focusNode);\n    range.collapse(false);\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n\n  /**\n   * Looks ahead to find passed tag from current selection\n   *\n   * @param  {string} tagName       - tag to found\n   * @param  {string} [className]   - tag's class name\n   * @param  {number} [searchDepth] - count of tags that can be included. For better performance.\n   *\n   * @returns {HTMLElement|null}\n   */\n  public findParentTag(tagName: string, className?: string, searchDepth = 10): HTMLElement | null {\n    const selection = window.getSelection();\n    let parentTag = null;\n\n    /**\n     * If selection is missing or no anchorNode or focusNode were found then return null\n     */\n    if (!selection || !selection.anchorNode || !selection.focusNode) {\n      return null;\n    }\n\n    /**\n     * Define Nodes for start and end of selection\n     */\n    const boundNodes = [\n      /** the Node in which the selection begins */\n      selection.anchorNode as HTMLElement,\n      /** the Node in which the selection ends */\n      selection.focusNode as HTMLElement,\n    ];\n\n    /**\n     * For each selection parent Nodes we try to find target tag [with target class name]\n     * It would be saved in parentTag variable\n     */\n    boundNodes.forEach((parent) => {\n      /** Reset tags limit */\n      let searchDepthIterable = searchDepth;\n\n      while (searchDepthIterable > 0 && parent.parentNode) {\n        /**\n         * Check tag's name\n         */\n        if (parent.tagName === tagName) {\n          /**\n           * Save the result\n           */\n          parentTag = parent;\n\n          /**\n           * Optional additional check for class-name mismatching\n           */\n          if (className && parent.classList && !parent.classList.contains(className)) {\n            parentTag = null;\n          }\n\n          /**\n           * If we have found required tag with class then go out from the cycle\n           */\n          if (parentTag) {\n            break;\n          }\n        }\n\n        /**\n         * Target tag was not found. Go up to the parent and check it\n         */\n        parent = parent.parentNode as HTMLElement;\n        searchDepthIterable--;\n      }\n    });\n\n    /**\n     * Return found tag or null\n     */\n    return parentTag;\n  }\n\n  /**\n   * Expands selection range to the passed parent node\n   *\n   * @param {HTMLElement} element - element which contents should be selcted\n   */\n  public expandToTag(element: HTMLElement): void {\n    const selection = window.getSelection();\n\n    selection.removeAllRanges();\n    const range = document.createRange();\n\n    range.selectNodeContents(element);\n    selection.addRange(range);\n  }\n}\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","module.exports = false;\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = {};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","import defaultDictionary from './locales/en/messages.json';\nimport { I18nDictionary, Dictionary } from '../../../types/configs';\nimport { LeavesDictKeys } from '../../types-internal/i18n-internal-namespace';\n\n/**\n * Type for all available internal dictionary strings\n */\ntype DictKeys = LeavesDictKeys<typeof defaultDictionary>;\n\n/**\n * This class will responsible for the translation through the language dictionary\n */\nexport default class I18n {\n  /**\n   * Property that stores messages dictionary\n   */\n  private static currentDictionary: I18nDictionary = defaultDictionary;\n\n  /**\n   * Type-safe translation for internal UI texts:\n   * Perform translation of the string by namespace and a key\n   *\n   * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune')\n   *\n   * @param internalNamespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  public static ui(internalNamespace: string, dictKey: DictKeys): string {\n    return I18n._t(internalNamespace, dictKey);\n  }\n\n  /**\n   * Translate for external strings that is not presented in default dictionary.\n   * For example, for user-specified tool names\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  public static t(namespace: string, dictKey: string): string {\n    return I18n._t(namespace, dictKey);\n  }\n\n  /**\n   * Adjust module for using external dictionary\n   *\n   * @param dictionary - new messages list to override default\n   */\n  public static setDictionary(dictionary: I18nDictionary): void {\n    I18n.currentDictionary = dictionary;\n  }\n\n  /**\n   * Perform translation both for internal and external namespaces\n   * If there is no translation found, returns passed key as a translated message\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  private static _t(namespace: string, dictKey: string): string {\n    const section = I18n.getNamespace(namespace);\n\n    /**\n     * For Console Message to Check Section is defined or not\n     * if (section === undefined) {\n     *  _.logLabeled('I18n: section %o was not found in current dictionary', 'log', namespace);\n     * }\n     */\n\n    if (!section || !section[dictKey]) {\n      return dictKey;\n    }\n\n    return section[dictKey] as string;\n  }\n\n  /**\n   * Find messages section by namespace path\n   *\n   * @param namespace - path to section\n   */\n  private static getNamespace(namespace: string): Dictionary {\n    const parts = namespace.split('.');\n\n    return parts.reduce((section, part) => {\n      if (!section || !Object.keys(section).length) {\n        return {};\n      }\n\n      return section[part];\n    }, I18n.currentDictionary);\n  }\n}\n","import DomIterator from './domIterator';\nimport * as _ from './utils';\n\n/**\n * Flipper construction options\n *\n * @interface FlipperOptions\n */\nexport interface FlipperOptions {\n  /**\n   * CSS-modifier for focused item\n   */\n  focusedItemClass?: string;\n\n  /**\n   * If flipping items are the same for all Block (for ex. Toolbox), ypu can pass it on constructing\n   */\n  items?: HTMLElement[];\n\n  /**\n   * Defines arrows usage. By default Flipper leafs items also via RIGHT/LEFT.\n   *\n   * true by default\n   *\n   * Pass 'false' if you don't need this behaviour\n   * (for example, Inline Toolbar should be closed by arrows,\n   * because it means caret moving with selection clearing)\n   */\n  allowArrows?: boolean;\n\n  /**\n   * Optional callback for button click\n   */\n  activateCallback?: (item: HTMLElement) => void;\n}\n\n/**\n * Flipper is a component that iterates passed items array by TAB or Arrows and clicks it by ENTER\n */\nexport default class Flipper {\n  /**\n   * Instance of flipper iterator\n   *\n   * @type {DomIterator|null}\n   */\n  private readonly iterator: DomIterator = null;\n\n  /**\n   * Flag that defines activation status\n   *\n   * @type {boolean}\n   */\n  private activated = false;\n\n  /**\n   * Flag that allows arrows usage to flip items\n   *\n   * @type {boolean}\n   */\n  private readonly allowArrows: boolean = true;\n\n  /**\n   * Call back for button click/enter\n   */\n  private readonly activateCallback: (item: HTMLElement) => void;\n\n  /**\n   * @param {FlipperOptions} options - different constructing settings\n   */\n  constructor(options: FlipperOptions) {\n    this.allowArrows = _.isBoolean(options.allowArrows) ? options.allowArrows : true;\n    this.iterator = new DomIterator(options.items, options.focusedItemClass);\n    this.activateCallback = options.activateCallback;\n  }\n\n  /**\n   * Array of keys (codes) that is handled by Flipper\n   * Used to:\n   *  - preventDefault only for this keys, not all keydowns (@see constructor)\n   *  - to skip external behaviours only for these keys, when filler is activated (@see BlockEvents@arrowRightAndDown)\n   */\n  public static get usedKeys(): number[] {\n    return [\n      _.keyCodes.TAB,\n      _.keyCodes.LEFT,\n      _.keyCodes.RIGHT,\n      _.keyCodes.ENTER,\n      _.keyCodes.UP,\n      _.keyCodes.DOWN,\n    ];\n  }\n\n  /**\n   * Active tab/arrows handling by flipper\n   *\n   * @param {HTMLElement[]} items - Some modules (like, InlineToolbar, BlockSettings) might refresh buttons dynamically\n   */\n  public activate(items?: HTMLElement[]): void {\n    this.activated = true;\n\n    if (items) {\n      this.iterator.setItems(items);\n    }\n\n    /**\n     * Listening all keydowns on document and react on TAB/Enter press\n     * TAB will leaf iterator items\n     * ENTER will click the focused item\n     */\n    document.addEventListener('keydown', this.onKeyDown);\n  }\n\n  /**\n   * Disable tab/arrows handling by flipper\n   */\n  public deactivate(): void {\n    this.activated = false;\n    this.dropCursor();\n\n    document.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  /**\n   * Return current focused button\n   *\n   * @returns {HTMLElement|null}\n   */\n  public get currentItem(): HTMLElement|null {\n    return this.iterator.currentItem;\n  }\n\n  /**\n   * Focus first item\n   */\n  public focusFirst(): void {\n    this.dropCursor();\n    this.flipRight();\n  }\n\n  /**\n   * Focuses previous flipper iterator item\n   */\n  public flipLeft(): void {\n    this.iterator.previous();\n  }\n\n  /**\n   * Focuses next flipper iterator item\n   */\n  public flipRight(): void {\n    this.iterator.next();\n  }\n\n  /**\n   * Drops flipper's iterator cursor\n   *\n   * @see DomIterator#dropCursor\n   */\n  private dropCursor(): void {\n    this.iterator.dropCursor();\n  }\n\n  /**\n   * KeyDown event handler\n   *\n   * @param event - keydown event\n   */\n  private onKeyDown = (event): void => {\n    const isReady = this.isEventReadyForHandling(event);\n\n    if (!isReady) {\n      return;\n    }\n\n    /**\n     * Prevent only used keys default behaviour\n     * (allows to navigate by ARROW DOWN, for example)\n     */\n    if (Flipper.usedKeys.includes(event.keyCode)) {\n      event.preventDefault();\n    }\n\n    switch (event.keyCode) {\n      case _.keyCodes.TAB:\n        this.handleTabPress(event);\n        break;\n      case _.keyCodes.LEFT:\n      case _.keyCodes.UP:\n        this.flipLeft();\n        break;\n      case _.keyCodes.RIGHT:\n      case _.keyCodes.DOWN:\n        this.flipRight();\n        break;\n      case _.keyCodes.ENTER:\n        this.handleEnterPress(event);\n        break;\n    }\n  };\n\n  /**\n   * This function is fired before handling flipper keycodes\n   * The result of this function defines if it is need to be handled or not\n   *\n   * @param {KeyboardEvent} event - keydown keyboard event\n   * @returns {boolean}\n   */\n  private isEventReadyForHandling(event: KeyboardEvent): boolean {\n    const handlingKeyCodeList = [\n      _.keyCodes.TAB,\n      _.keyCodes.ENTER,\n    ];\n\n    const isCurrentItemIsFocusedInput = this.iterator.currentItem == document.activeElement;\n\n    if (this.allowArrows && !isCurrentItemIsFocusedInput) {\n      handlingKeyCodeList.push(\n        _.keyCodes.LEFT,\n        _.keyCodes.RIGHT,\n        _.keyCodes.UP,\n        _.keyCodes.DOWN\n      );\n    }\n\n    return this.activated && handlingKeyCodeList.indexOf(event.keyCode) !== -1;\n  }\n\n  /**\n   * When flipper is activated tab press will leaf the items\n   *\n   * @param {KeyboardEvent} event - tab keydown event\n   */\n  private handleTabPress(event: KeyboardEvent): void {\n    /** this property defines leaf direction */\n    const shiftKey = event.shiftKey,\n        direction = shiftKey ? DomIterator.directions.LEFT : DomIterator.directions.RIGHT;\n\n    switch (direction) {\n      case DomIterator.directions.RIGHT:\n        this.flipRight();\n        break;\n      case DomIterator.directions.LEFT:\n        this.flipLeft();\n        break;\n    }\n  }\n\n  /**\n   * Enter press will click current item if flipper is activated\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  private handleEnterPress(event: KeyboardEvent): void {\n    if (!this.activated) {\n      return;\n    }\n\n    if (this.iterator.currentItem) {\n      this.iterator.currentItem.click();\n    }\n\n    if (_.isFunction(this.activateCallback)) {\n      this.activateCallback(this.iterator.currentItem);\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","/* eslint-disable @typescript-eslint/no-use-before-define */\n/**\n * CodeX Sanitizer\n *\n * Clears HTML from taint tags\n *\n * @version 2.0.0\n *\n * @example\n *\n * clean(yourTaintString, yourConfig);\n *\n * {@link SanitizerConfig}\n */\n\nimport * as _ from '../utils';\n\n/**\n * @typedef {object} SanitizerConfig\n * @property {object} tags - define tags restrictions\n *\n * @example\n *\n * tags : {\n *     p: true,\n *     a: {\n *       href: true,\n *       rel: \"nofollow\",\n *       target: \"_blank\"\n *     }\n * }\n */\n\nimport HTMLJanitor from 'html-janitor';\nimport { BlockToolData, SanitizerConfig } from '../../../types';\nimport { SavedData } from '../../../types/data-formats';\n\n/**\n * Sanitize Blocks\n *\n * Enumerate blocks and clean data\n *\n * @param blocksData - blocks' data to sanitize\n * @param sanitizeConfig  sanitize config to use or function to get config for Tool\n */\nexport function sanitizeBlocks(\n  blocksData: Array<Pick<SavedData, 'data' | 'tool'>>,\n  sanitizeConfig: SanitizerConfig | ((toolName: string) => SanitizerConfig)\n): Array<Pick<SavedData, 'data' | 'tool'>> {\n  return blocksData.map((block) => {\n    const toolConfig = _.isFunction(sanitizeConfig) ? sanitizeConfig(block.tool) : sanitizeConfig;\n\n    if (_.isEmpty(toolConfig)) {\n      return block;\n    }\n\n    block.data = deepSanitize(block.data, toolConfig) as BlockToolData;\n\n    return block;\n  });\n}\n/**\n * Cleans string from unwanted tags\n * Method allows to use default config\n *\n * @param {string} taintString - taint string\n * @param {SanitizerConfig} customConfig - allowed tags\n *\n * @returns {string} clean HTML\n */\nexport function clean(taintString: string, customConfig: SanitizerConfig = {} as SanitizerConfig): string {\n  const sanitizerConfig = {\n    tags: customConfig,\n  };\n\n  /**\n   * API client can use custom config to manage sanitize process\n   */\n  const sanitizerInstance = new HTMLJanitor(sanitizerConfig);\n\n  return sanitizerInstance.clean(taintString);\n}\n\n/**\n * Method recursively reduces Block's data and cleans with passed rules\n *\n * @param {BlockToolData|object|*} dataToSanitize - taint string or object/array that contains taint string\n * @param {SanitizerConfig} rules - object with sanitizer rules\n */\nfunction deepSanitize(dataToSanitize: object | string, rules: SanitizerConfig): object | string {\n  /**\n   * BlockData It may contain 3 types:\n   *  - Array\n   *  - Object\n   *  - Primitive\n   */\n  if (Array.isArray(dataToSanitize)) {\n    /**\n     * Array: call sanitize for each item\n     */\n    return cleanArray(dataToSanitize, rules);\n  } else if (_.isObject(dataToSanitize)) {\n    /**\n     * Objects: just clean object deeper.\n     */\n    return cleanObject(dataToSanitize, rules);\n  } else {\n    /**\n     * Primitives (number|string|boolean): clean this item\n     *\n     * Clean only strings\n     */\n    if (_.isString(dataToSanitize)) {\n      return cleanOneItem(dataToSanitize, rules);\n    }\n\n    return dataToSanitize;\n  }\n}\n\n/**\n * Clean array\n *\n * @param {Array} array - [1, 2, {}, []]\n * @param {SanitizerConfig} ruleForItem - sanitizer config for array\n */\nfunction cleanArray(array: Array<object | string>, ruleForItem: SanitizerConfig): Array<object | string> {\n  return array.map((arrayItem) => deepSanitize(arrayItem, ruleForItem));\n}\n\n/**\n * Clean object\n *\n * @param {object} object  - {level: 0, text: 'adada', items: [1,2,3]}}\n * @param {object} rules - { b: true } or true|false\n * @returns {object}\n */\nfunction cleanObject(object: object, rules: SanitizerConfig|{[field: string]: SanitizerConfig}): object {\n  const cleanData = {};\n\n  for (const fieldName in object) {\n    if (!Object.prototype.hasOwnProperty.call(object, fieldName)) {\n      continue;\n    }\n\n    const currentIterationItem = object[fieldName];\n\n    /**\n     *  Get object from config by field name\n     *   - if it is a HTML Janitor rule, call with this rule\n     *   - otherwise, call with parent's config\n     */\n    const ruleForItem = isRule(rules[fieldName] as SanitizerConfig) ? rules[fieldName] : rules;\n\n    cleanData[fieldName] = deepSanitize(currentIterationItem, ruleForItem as SanitizerConfig);\n  }\n\n  return cleanData;\n}\n\n/**\n * Clean primitive value\n *\n * @param {string} taintString - string to clean\n * @param {SanitizerConfig|boolean} rule - sanitizer rule\n *\n * @returns {string}\n */\nfunction cleanOneItem(taintString: string, rule: SanitizerConfig|boolean): string {\n  if (_.isObject(rule)) {\n    return clean(taintString, rule);\n  } else if (rule === false) {\n    return clean(taintString, {} as SanitizerConfig);\n  } else {\n    return taintString;\n  }\n}\n\n/**\n * Check if passed item is a HTML Janitor rule:\n *  { a : true }, {}, false, true, function(){}  correct rules\n *  undefined, null, 0, 1, 2  not a rules\n *\n * @param {SanitizerConfig} config - config to check\n */\nfunction isRule(config: SanitizerConfig): boolean {\n  return _.isObject(config) || _.isBoolean(config) || _.isFunction(config);\n}\n","import {\n  BlockAPI as BlockAPIInterface,\n  BlockTool as IBlockTool,\n  BlockToolData,\n  BlockTune as IBlockTune,\n  SanitizerConfig,\n  ToolConfig\n} from '../../../types';\n\nimport { SavedData } from '../../../types/data-formats';\nimport $ from '../dom';\nimport * as _ from '../utils';\nimport ApiModules from '../modules/api';\nimport BlockAPI from './api';\nimport SelectionUtils from '../selection';\nimport BlockTool from '../tools/block';\n\nimport BlockTune from '../tools/tune';\nimport { BlockTuneData } from '../../../types/block-tunes/block-tune-data';\nimport ToolsCollection from '../tools/collection';\nimport EventsDispatcher from '../utils/events';\n\n/**\n * Interface describes Block class constructor argument\n */\ninterface BlockConstructorOptions {\n  /**\n   * Block's id. Should be passed for existed block, and omitted for a new one.\n   */\n  id?: string;\n\n  /**\n   * Initial Block data\n   */\n  data: BlockToolData;\n\n  /**\n   * Tool object\n   */\n  tool: BlockTool;\n\n  /**\n   * Editor's API methods\n   */\n  api: ApiModules;\n\n  /**\n   * This flag indicates that the Block should be constructed in the read-only mode.\n   */\n  readOnly: boolean;\n\n  /**\n   * Tunes data for current Block\n   */\n  tunesData: { [name: string]: BlockTuneData };\n}\n\n/**\n * @class Block\n * @classdesc This class describes editor`s block, including block`s HTMLElement, data and tool\n *\n * @property {BlockTool} tool  current block tool (Paragraph, for example)\n * @property {object} CSS  block`s css classes\n *\n */\n\n/**\n * Available Block Tool API methods\n */\nexport enum BlockToolAPI {\n  /**\n   * @todo remove method in 3.0.0\n   * @deprecated  use 'rendered' hook instead\n   */\n  APPEND_CALLBACK = 'appendCallback',\n  RENDERED = 'rendered',\n  MOVED = 'moved',\n  UPDATED = 'updated',\n  REMOVED = 'removed',\n  ON_PASTE = 'onPaste',\n}\n\n/**\n * Names of events supported by Block class\n */\ntype BlockEvents = 'didMutated';\n\n/**\n * @classdesc Abstract Block class that contains Block information, Tool name and Tool class instance\n *\n * @property {BlockTool} tool - Tool instance\n * @property {HTMLElement} holder - Div element that wraps block content with Tool's content. Has `ce-block` CSS class\n * @property {HTMLElement} pluginsContent - HTML content that returns by Tool's render function\n */\nexport default class Block extends EventsDispatcher<BlockEvents> {\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  public static get CSS(): { [name: string]: string } {\n    return {\n      wrapper: 'ce-block',\n      wrapperStretched: 'ce-block--stretched',\n      content: 'ce-block__content',\n      focused: 'ce-block--focused',\n      selected: 'ce-block--selected',\n      dropTarget: 'ce-block--drop-target',\n    };\n  }\n\n  /**\n   * Block unique identifier\n   */\n  public id: string;\n\n  /**\n   * Block Tool`s name\n   */\n  public readonly name: string;\n\n  /**\n   * Instance of the Tool Block represents\n   */\n  public readonly tool: BlockTool;\n\n  /**\n   * User Tool configuration\n   */\n  public readonly settings: ToolConfig;\n\n  /**\n   * Wrapper for Block`s content\n   */\n  public readonly holder: HTMLDivElement;\n\n  /**\n   * Tunes used by Tool\n   */\n  public readonly tunes: ToolsCollection<BlockTune>;\n\n  /**\n   * Tool's user configuration\n   */\n  public readonly config: ToolConfig;\n\n  /**\n   * Cached inputs\n   *\n   * @type {HTMLElement[]}\n   */\n  private cachedInputs: HTMLElement[] = [];\n\n  /**\n   * Tool class instance\n   */\n  private readonly toolInstance: IBlockTool;\n\n  /**\n   * User provided Block Tunes instances\n   */\n  private readonly tunesInstances: Map<string, IBlockTune> = new Map();\n\n  /**\n   * Editor provided Block Tunes instances\n   */\n  private readonly defaultTunesInstances: Map<string, IBlockTune> = new Map();\n\n  /**\n   * If there is saved data for Tune which is not available at the moment,\n   * we will store it here and provide back on save so data is not lost\n   */\n  private unavailableTunesData: { [name: string]: BlockTuneData } = {};\n\n  /**\n   * Editor`s API module\n   */\n  private readonly api: ApiModules;\n\n  /**\n   * Focused input index\n   *\n   * @type {number}\n   */\n  private inputIndex = 0;\n\n  /**\n   * Mutation observer to handle DOM mutations\n   *\n   * @type {MutationObserver}\n   */\n  private mutationObserver: MutationObserver;\n\n  /**\n   * Debounce Timer\n   *\n   * @type {number}\n   */\n  private readonly modificationDebounceTimer = 450;\n\n  /**\n   * Is fired when DOM mutation has been happened\n   */\n  private didMutated = _.debounce((mutationsOrInputEvent: MutationRecord[] | InputEvent = []): void => {\n    const shouldFireUpdate = mutationsOrInputEvent instanceof InputEvent ||\n      !mutationsOrInputEvent.some(({\n        addedNodes = [],\n        removedNodes,\n      }) => {\n        return [...Array.from(addedNodes), ...Array.from(removedNodes)]\n          .some(node => $.isElement(node) && (node as HTMLElement).dataset.mutationFree === 'true');\n      });\n\n    /**\n     * In case some mutation free elements are added or removed, do not trigger didMutated event\n     */\n    if (!shouldFireUpdate) {\n      return;\n    }\n\n    /**\n     * Drop cache\n     */\n    this.cachedInputs = [];\n\n    /**\n     * Update current input\n     */\n    this.updateCurrentInput();\n\n    this.call(BlockToolAPI.UPDATED);\n\n    this.emit('didMutated', this);\n  }, this.modificationDebounceTimer);\n\n  /**\n   * Current block API interface\n   */\n  private readonly blockAPI: BlockAPIInterface;\n\n  /**\n   * @param {object} options - block constructor options\n   * @param {string} [options.id] - block's id. Will be generated if omitted.\n   * @param {BlockToolData} options.data - Tool's initial data\n   * @param {BlockToolConstructable} options.tool  block's tool\n   * @param options.api - Editor API module for pass it to the Block Tunes\n   * @param {boolean} options.readOnly - Read-Only flag\n   */\n  constructor({\n    id = _.generateBlockId(),\n    data,\n    tool,\n    api,\n    readOnly,\n    tunesData,\n  }: BlockConstructorOptions) {\n    super();\n\n    this.name = tool.name;\n    this.id = id;\n    this.settings = tool.settings;\n    this.config = tool.settings.config || {};\n    this.api = api;\n    this.blockAPI = new BlockAPI(this);\n\n    this.mutationObserver = new MutationObserver(this.didMutated);\n\n    this.tool = tool;\n    this.toolInstance = tool.create(data, this.blockAPI, readOnly);\n\n    /**\n     * @type {BlockTune[]}\n     */\n    this.tunes = tool.tunes;\n\n    this.composeTunes(tunesData);\n\n    this.holder = this.compose();\n  }\n\n  /**\n   * Find and return all editable elements (contenteditables and native inputs) in the Tool HTML\n   *\n   * @returns {HTMLElement[]}\n   */\n  public get inputs(): HTMLElement[] {\n    /**\n     * Return from cache if existed\n     */\n    if (this.cachedInputs.length !== 0) {\n      return this.cachedInputs;\n    }\n\n    const inputs = $.findAllInputs(this.holder);\n\n    /**\n     * If inputs amount was changed we need to check if input index is bigger then inputs array length\n     */\n    if (this.inputIndex > inputs.length - 1) {\n      this.inputIndex = inputs.length - 1;\n    }\n\n    /**\n     * Cache inputs\n     */\n    this.cachedInputs = inputs;\n\n    return inputs;\n  }\n\n  /**\n   * Return current Tool`s input\n   *\n   * @returns {HTMLElement}\n   */\n  public get currentInput(): HTMLElement | Node {\n    return this.inputs[this.inputIndex];\n  }\n\n  /**\n   * Set input index to the passed element\n   *\n   * @param {HTMLElement | Node} element - HTML Element to set as current input\n   */\n  public set currentInput(element: HTMLElement | Node) {\n    const index = this.inputs.findIndex((input) => input === element || input.contains(element));\n\n    if (index !== -1) {\n      this.inputIndex = index;\n    }\n  }\n\n  /**\n   * Return first Tool`s input\n   *\n   * @returns {HTMLElement}\n   */\n  public get firstInput(): HTMLElement {\n    return this.inputs[0];\n  }\n\n  /**\n   * Return first Tool`s input\n   *\n   * @returns {HTMLElement}\n   */\n  public get lastInput(): HTMLElement {\n    const inputs = this.inputs;\n\n    return inputs[inputs.length - 1];\n  }\n\n  /**\n   * Return next Tool`s input or undefined if it doesn't exist\n   *\n   * @returns {HTMLElement}\n   */\n  public get nextInput(): HTMLElement {\n    return this.inputs[this.inputIndex + 1];\n  }\n\n  /**\n   * Return previous Tool`s input or undefined if it doesn't exist\n   *\n   * @returns {HTMLElement}\n   */\n  public get previousInput(): HTMLElement {\n    return this.inputs[this.inputIndex - 1];\n  }\n\n  /**\n   * Get Block's JSON data\n   *\n   * @returns {object}\n   */\n  public get data(): Promise<BlockToolData> {\n    return this.save().then((savedObject) => {\n      if (savedObject && !_.isEmpty(savedObject.data)) {\n        return savedObject.data;\n      } else {\n        return {};\n      }\n    });\n  }\n\n  /**\n   * Returns tool's sanitizer config\n   *\n   * @returns {object}\n   */\n  public get sanitize(): SanitizerConfig {\n    return this.tool.sanitizeConfig;\n  }\n\n  /**\n   * is block mergeable\n   * We plugin have merge function then we call it mergable\n   *\n   * @returns {boolean}\n   */\n  public get mergeable(): boolean {\n    return _.isFunction(this.toolInstance.merge);\n  }\n\n  /**\n   * Check block for emptiness\n   *\n   * @returns {boolean}\n   */\n  public get isEmpty(): boolean {\n    const emptyText = $.isEmpty(this.pluginsContent);\n    const emptyMedia = !this.hasMedia;\n\n    return emptyText && emptyMedia;\n  }\n\n  /**\n   * Check if block has a media content such as images, iframes and other\n   *\n   * @returns {boolean}\n   */\n  public get hasMedia(): boolean {\n    /**\n     * This tags represents media-content\n     *\n     * @type {string[]}\n     */\n    const mediaTags = [\n      'img',\n      'iframe',\n      'video',\n      'audio',\n      'source',\n      'input',\n      'textarea',\n      'twitterwidget',\n    ];\n\n    return !!this.holder.querySelector(mediaTags.join(','));\n  }\n\n  /**\n   * Set focused state\n   *\n   * @param {boolean} state - 'true' to select, 'false' to remove selection\n   */\n  public set focused(state: boolean) {\n    this.holder.classList.toggle(Block.CSS.focused, state);\n  }\n\n  /**\n   * Get Block's focused state\n   */\n  public get focused(): boolean {\n    return this.holder.classList.contains(Block.CSS.focused);\n  }\n\n  /**\n   * Set selected state\n   * We don't need to mark Block as Selected when it is empty\n   *\n   * @param {boolean} state - 'true' to select, 'false' to remove selection\n   */\n  public set selected(state: boolean) {\n    if (state) {\n      this.holder.classList.add(Block.CSS.selected);\n\n      SelectionUtils.addFakeCursor(this.holder);\n    } else {\n      this.holder.classList.remove(Block.CSS.selected);\n\n      SelectionUtils.removeFakeCursor(this.holder);\n    }\n  }\n\n  /**\n   * Returns True if it is Selected\n   *\n   * @returns {boolean}\n   */\n  public get selected(): boolean {\n    return this.holder.classList.contains(Block.CSS.selected);\n  }\n\n  /**\n   * Set stretched state\n   *\n   * @param {boolean} state - 'true' to enable, 'false' to disable stretched statte\n   */\n  public set stretched(state: boolean) {\n    this.holder.classList.toggle(Block.CSS.wrapperStretched, state);\n  }\n\n  /**\n   * Return Block's stretched state\n   *\n   * @returns {boolean}\n   */\n  public get stretched(): boolean {\n    return this.holder.classList.contains(Block.CSS.wrapperStretched);\n  }\n\n  /**\n   * Toggle drop target state\n   *\n   * @param {boolean} state - 'true' if block is drop target, false otherwise\n   */\n  public set dropTarget(state) {\n    this.holder.classList.toggle(Block.CSS.dropTarget, state);\n  }\n\n  /**\n   * Returns Plugins content\n   *\n   * @returns {HTMLElement}\n   */\n  public get pluginsContent(): HTMLElement {\n    const blockContentNodes = this.holder.querySelector(`.${Block.CSS.content}`);\n\n    if (blockContentNodes && blockContentNodes.childNodes.length) {\n      /**\n       * Editors Block content can contain different Nodes from extensions\n       * We use DOM isExtensionNode to ignore such Nodes and return first Block that does not match filtering list\n       */\n      for (let child = blockContentNodes.childNodes.length - 1; child >= 0; child--) {\n        const contentNode = blockContentNodes.childNodes[child];\n\n        if (!$.isExtensionNode(contentNode)) {\n          return contentNode as HTMLElement;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Calls Tool's method\n   *\n   * Method checks tool property {MethodName}. Fires method with passes params If it is instance of Function\n   *\n   * @param {string} methodName - method to call\n   * @param {object} params - method argument\n   */\n  public call(methodName: string, params?: object): void {\n    /**\n     * call Tool's method with the instance context\n     */\n    if (_.isFunction(this.toolInstance[methodName])) {\n      if (methodName === BlockToolAPI.APPEND_CALLBACK) {\n        _.log(\n          '`appendCallback` hook is deprecated and will be removed in the next major release. ' +\n          'Use `rendered` hook instead',\n          'warn'\n        );\n      }\n\n      try {\n        // eslint-disable-next-line no-useless-call\n        this.toolInstance[methodName].call(this.toolInstance, params);\n      } catch (e) {\n        _.log(`Error during '${methodName}' call: ${e.message}`, 'error');\n      }\n    }\n  }\n\n  /**\n   * Call plugins merge method\n   *\n   * @param {BlockToolData} data - data to merge\n   */\n  public async mergeWith(data: BlockToolData): Promise<void> {\n    await this.toolInstance.merge(data);\n  }\n\n  /**\n   * Extracts data from Block\n   * Groups Tool's save processing time\n   *\n   * @returns {object}\n   */\n  public async save(): Promise<void | SavedData> {\n    const extractedBlock = await this.toolInstance.save(this.pluginsContent as HTMLElement);\n    const tunesData: { [name: string]: BlockTuneData } = this.unavailableTunesData;\n\n    [\n      ...this.tunesInstances.entries(),\n      ...this.defaultTunesInstances.entries(),\n    ]\n      .forEach(([name, tune]) => {\n        if (_.isFunction(tune.save)) {\n          try {\n            tunesData[name] = tune.save();\n          } catch (e) {\n            _.log(`Tune ${tune.constructor.name} save method throws an Error %o`, 'warn', e);\n          }\n        }\n      });\n\n    /**\n     * Measuring execution time\n     */\n    const measuringStart = window.performance.now();\n    let measuringEnd;\n\n    return Promise.resolve(extractedBlock)\n      .then((finishedExtraction) => {\n        /** measure promise execution */\n        measuringEnd = window.performance.now();\n\n        return {\n          id: this.id,\n          tool: this.name,\n          data: finishedExtraction,\n          tunes: tunesData,\n          time: measuringEnd - measuringStart,\n        };\n      })\n      .catch((error) => {\n        _.log(`Saving proccess for ${this.name} tool failed due to the ${error}`, 'log', 'red');\n      });\n  }\n\n  /**\n   * Uses Tool's validation method to check the correctness of output data\n   * Tool's validation method is optional\n   *\n   * @description Method returns true|false whether data passed the validation or not\n   *\n   * @param {BlockToolData} data - data to validate\n   * @returns {Promise<boolean>} valid\n   */\n  public async validate(data: BlockToolData): Promise<boolean> {\n    let isValid = true;\n\n    if (this.toolInstance.validate instanceof Function) {\n      isValid = await this.toolInstance.validate(data);\n    }\n\n    return isValid;\n  }\n\n  /**\n   * Enumerates initialized tunes and returns fragment that can be appended to the toolbars area\n   *\n   * @returns {DocumentFragment[]}\n   */\n  public renderTunes(): [DocumentFragment, DocumentFragment] {\n    const tunesElement = document.createDocumentFragment();\n    const defaultTunesElement = document.createDocumentFragment();\n\n    this.tunesInstances.forEach((tune) => {\n      $.append(tunesElement, tune.render());\n    });\n    this.defaultTunesInstances.forEach((tune) => {\n      $.append(defaultTunesElement, tune.render());\n    });\n\n    return [tunesElement, defaultTunesElement];\n  }\n\n  /**\n   * Update current input index with selection anchor node\n   */\n  public updateCurrentInput(): void {\n    /**\n     * If activeElement is native input, anchorNode points to its parent.\n     * So if it is native input use it instead of anchorNode\n     *\n     * If anchorNode is undefined, also use activeElement\n     */\n    this.currentInput = $.isNativeInput(document.activeElement) || !SelectionUtils.anchorNode\n      ? document.activeElement\n      : SelectionUtils.anchorNode;\n  }\n\n  /**\n   * Is fired when Block will be selected as current\n   */\n  public willSelect(): void {\n    /**\n     * Observe DOM mutations to update Block inputs\n     */\n    this.mutationObserver.observe(\n      this.holder.firstElementChild,\n      {\n        childList: true,\n        subtree: true,\n        characterData: true,\n        attributes: true,\n      }\n    );\n\n    /**\n     * Mutation observer doesn't track changes in \"<input>\" and \"<textarea>\"\n     * so we need to track focus events to update current input and clear cache.\n     */\n    this.addInputEvents();\n  }\n\n  /**\n   * Is fired when Block will be unselected\n   */\n  public willUnselect(): void {\n    this.mutationObserver.disconnect();\n    this.removeInputEvents();\n  }\n\n  /**\n   * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback\n   * Can be useful for block changes invisible for editor core.\n   */\n  public dispatchChange(): void {\n    this.didMutated();\n  }\n\n  /**\n   * Call Tool instance destroy method\n   */\n  public destroy(): void {\n    super.destroy();\n\n    if (_.isFunction(this.toolInstance.destroy)) {\n      this.toolInstance.destroy();\n    }\n  }\n\n  /**\n   * Call Tool instance renderSettings method\n   */\n  public renderSettings(): HTMLElement | undefined {\n    if (_.isFunction(this.toolInstance.renderSettings)) {\n      return this.toolInstance.renderSettings();\n    }\n  }\n\n  /**\n   * Make default Block wrappers and put Tool`s content there\n   *\n   * @returns {HTMLDivElement}\n   */\n  private compose(): HTMLDivElement {\n    const wrapper = $.make('div', Block.CSS.wrapper) as HTMLDivElement,\n        contentNode = $.make('div', Block.CSS.content),\n        pluginsContent = this.toolInstance.render();\n\n    contentNode.appendChild(pluginsContent);\n\n    /**\n     * Block Tunes might wrap Block's content node to provide any UI changes\n     *\n     * <tune2wrapper>\n     *   <tune1wrapper>\n     *     <blockContent />\n     *   </tune1wrapper>\n     * </tune2wrapper>\n     */\n    let wrappedContentNode: HTMLElement = contentNode;\n\n    [...this.tunesInstances.values(), ...this.defaultTunesInstances.values()]\n      .forEach((tune) => {\n        if (_.isFunction(tune.wrap)) {\n          try {\n            wrappedContentNode = tune.wrap(wrappedContentNode);\n          } catch (e) {\n            _.log(`Tune ${tune.constructor.name} wrap method throws an Error %o`, 'warn', e);\n          }\n        }\n      });\n\n    wrapper.appendChild(wrappedContentNode);\n\n    return wrapper;\n  }\n\n  /**\n   * Instantiate Block Tunes\n   *\n   * @param tunesData - current Block tunes data\n   * @private\n   */\n  private composeTunes(tunesData: { [name: string]: BlockTuneData }): void {\n    Array.from(this.tunes.values()).forEach((tune) => {\n      const collection = tune.isInternal ? this.defaultTunesInstances : this.tunesInstances;\n\n      collection.set(tune.name, tune.create(tunesData[tune.name], this.blockAPI));\n    });\n\n    /**\n     * Check if there is some data for not available tunes\n     */\n    Object.entries(tunesData).forEach(([name, data]) => {\n      if (!this.tunesInstances.has(name)) {\n        this.unavailableTunesData[name] = data;\n      }\n    });\n  }\n\n  /**\n   * Is fired when text input or contentEditable is focused\n   */\n  private handleFocus = (): void => {\n    /**\n     * Drop cache\n     */\n    this.cachedInputs = [];\n\n    /**\n     * Update current input\n     */\n    this.updateCurrentInput();\n  }\n\n  /**\n   * Adds focus event listeners to all inputs and contentEditables\n   */\n  private addInputEvents(): void {\n    this.inputs.forEach(input => {\n      input.addEventListener('focus', this.handleFocus);\n\n      /**\n       * If input is native input add oninput listener to observe changes\n       */\n      if ($.isNativeInput(input)) {\n        input.addEventListener('input', this.didMutated);\n      }\n    });\n  }\n\n  /**\n   * removes focus event listeners from all inputs and contentEditables\n   */\n  private removeInputEvents(): void {\n    this.inputs.forEach(input => {\n      input.removeEventListener('focus', this.handleFocus);\n\n      if ($.isNativeInput(input)) {\n        input.removeEventListener('input', this.didMutated);\n      }\n    });\n  }\n}\n","import { Tool, ToolConstructable, ToolSettings } from '../../../types/tools';\nimport { SanitizerConfig } from '../../../types';\nimport * as _ from '../utils';\nimport type InlineTool from './inline';\nimport type BlockTool from './block';\nimport type BlockTune from './tune';\nimport API from '../modules/api';\n\n/**\n * What kind of plugins developers can create\n */\nexport enum ToolType {\n  /**\n   * Block tool\n   */\n  Block,\n  /**\n   * Inline tool\n   */\n  Inline,\n\n  /**\n   * Block tune\n   */\n  Tune,\n}\n\n/**\n * Enum of Tool options provided by user\n */\nexport enum UserSettings {\n  /**\n   * Shortcut for Tool\n   */\n  Shortcut = 'shortcut',\n  /**\n   * Toolbox config for Tool\n   */\n  Toolbox = 'toolbox',\n  /**\n   * Enabled Inline Tools for Block Tool\n   */\n  EnabledInlineTools = 'inlineToolbar',\n  /**\n   * Enabled Block Tunes for Block Tool\n   */\n  EnabledBlockTunes = 'tunes',\n  /**\n   * Tool configuration\n   */\n  Config = 'config',\n}\n\n/**\n * Enum of Tool options provided by Tool\n */\nexport enum CommonInternalSettings {\n  /**\n   * Shortcut for Tool\n   */\n  Shortcut = 'shortcut',\n  /**\n   * Sanitize configuration for Tool\n   */\n  SanitizeConfig = 'sanitize',\n\n}\n\n/**\n * Enum of Tool optoins provided by Block Tool\n */\nexport enum InternalBlockToolSettings {\n  /**\n   * Is linebreaks enabled for Tool\n   */\n  IsEnabledLineBreaks = 'enableLineBreaks',\n  /**\n   * Tool Toolbox config\n   */\n  Toolbox = 'toolbox',\n  /**\n   * Tool conversion config\n   */\n  ConversionConfig = 'conversionConfig',\n  /**\n   * Is readonly mode supported for Tool\n   */\n  IsReadOnlySupported = 'isReadOnlySupported',\n  /**\n   * Tool paste config\n   */\n  PasteConfig = 'pasteConfig'\n}\n\n/**\n * Enum of Tool options provided by Inline Tool\n */\nexport enum InternalInlineToolSettings {\n  /**\n   * Flag specifies Tool is inline\n   */\n  IsInline = 'isInline',\n  /**\n   * Inline Tool title for toolbar\n   */\n  Title = 'title', // for Inline Tools. Block Tools can pass title along with icon through the 'toolbox' static prop.\n}\n\n/**\n * Enum of Tool options provided by Block Tune\n */\nexport enum InternalTuneSettings {\n  /**\n   * Flag specifies Tool is Block Tune\n   */\n  IsTune = 'isTune',\n}\n\nexport type ToolOptions = Omit<ToolSettings, 'class'>\n\ninterface ConstructorOptions {\n  name: string;\n  constructable: ToolConstructable;\n  config: ToolOptions;\n  api: API;\n  isDefault: boolean;\n  isInternal: boolean;\n  defaultPlaceholder?: string | false;\n}\n\n/**\n * Base abstract class for Tools\n */\nexport default abstract class BaseTool<Type extends Tool = Tool> {\n  /**\n   * Tool type: Block, Inline or Tune\n   */\n  public type: ToolType;\n\n  /**\n   * Tool name specified in EditorJS config\n   */\n  public name: string;\n\n  /**\n   * Flag show is current Tool internal (bundled with EditorJS core) or not\n   */\n  public readonly isInternal: boolean;\n\n  /**\n   * Flag show is current Tool default or not\n   */\n  public readonly isDefault: boolean;\n\n  /**\n   * EditorJS API for current Tool\n   */\n  protected api: API;\n\n  /**\n   * Current tool user configuration\n   */\n  protected config: ToolOptions;\n\n  /**\n   * Tool's constructable blueprint\n   */\n  protected constructable: ToolConstructable;\n\n  /**\n   * Default placeholder specified in EditorJS user configuration\n   */\n  protected defaultPlaceholder?: string | false;\n\n  /**\n   * @class\n   *\n   * @param {ConstructorOptions} - Constructor options\n   */\n  constructor({\n    name,\n    constructable,\n    config,\n    api,\n    isDefault,\n    isInternal = false,\n    defaultPlaceholder,\n  }: ConstructorOptions) {\n    this.api = api;\n    this.name = name;\n    this.constructable = constructable;\n    this.config = config;\n    this.isDefault = isDefault;\n    this.isInternal = isInternal;\n    this.defaultPlaceholder = defaultPlaceholder;\n  }\n\n  /**\n   * Returns Tool user configuration\n   */\n  public get settings(): ToolOptions {\n    const config = this.config[UserSettings.Config] || {};\n\n    if (this.isDefault && !('placeholder' in config) && this.defaultPlaceholder) {\n      config.placeholder = this.defaultPlaceholder;\n    }\n\n    return config;\n  }\n\n  /**\n   * Calls Tool's reset method\n   */\n  public reset(): void | Promise<void> {\n    if (_.isFunction(this.constructable.reset)) {\n      return this.constructable.reset();\n    }\n  }\n\n  /**\n   * Calls Tool's prepare method\n   */\n  public prepare(): void | Promise<void> {\n    if (_.isFunction(this.constructable.prepare)) {\n      return this.constructable.prepare({\n        toolName: this.name,\n        config: this.settings,\n      });\n    }\n  }\n\n  /**\n   * Returns shortcut for Tool (internal or specified by user)\n   */\n  public get shortcut(): string | undefined {\n    const toolShortcut = this.constructable[CommonInternalSettings.Shortcut];\n    const userShortcut = this.config[UserSettings.Shortcut];\n\n    return userShortcut || toolShortcut;\n  }\n\n  /**\n   * Returns Tool's sanitizer configuration\n   */\n  public get sanitizeConfig(): SanitizerConfig {\n    return this.constructable[CommonInternalSettings.SanitizeConfig] || {};\n  }\n\n  /**\n   * Returns true if Tools is inline\n   */\n  public isInline(): this is InlineTool {\n    return this.type === ToolType.Inline;\n  }\n\n  /**\n   * Returns true if Tools is block\n   */\n  public isBlock(): this is BlockTool {\n    return this.type === ToolType.Block;\n  }\n\n  /**\n   * Returns true if Tools is tune\n   */\n  public isTune(): this is BlockTune {\n    return this.type === ToolType.Tune;\n  }\n\n  /**\n   * Constructs new Tool instance from constructable blueprint\n   *\n   * @param args\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  public abstract create(...args: any[]): Type;\n}\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * @module API\n * @copyright <CodeX> 2018\n *\n * Each block has an Editor API instance to use provided public methods\n * if you cant to read more about how API works, please see docs\n */\nimport Module from '../../__module';\nimport { API as APIInterfaces } from '../../../../types';\nimport { ToolClass } from '../../tools/collection';\n\n/**\n * @class API\n */\nexport default class API extends Module {\n  /**\n   * Editor.js Core API modules\n   */\n  public get methods(): APIInterfaces {\n    return {\n      blocks: this.Editor.BlocksAPI.methods,\n      caret: this.Editor.CaretAPI.methods,\n      events: this.Editor.EventsAPI.methods,\n      listeners: this.Editor.ListenersAPI.methods,\n      notifier: this.Editor.NotifierAPI.methods,\n      sanitizer: this.Editor.SanitizerAPI.methods,\n      saver: this.Editor.SaverAPI.methods,\n      selection: this.Editor.SelectionAPI.methods,\n      styles: this.Editor.StylesAPI.classes,\n      toolbar: this.Editor.ToolbarAPI.methods,\n      inlineToolbar: this.Editor.InlineToolbarAPI.methods,\n      tooltip: this.Editor.TooltipAPI.methods,\n      i18n: this.Editor.I18nAPI.methods,\n      readOnly: this.Editor.ReadOnlyAPI.methods,\n      ui: this.Editor.UiAPI.methods,\n    };\n  }\n\n  /**\n   * Returns Editor.js Core API methods for passed tool\n   *\n   * @param tool - tool object\n   */\n  public getMethodsForTool(tool: ToolClass): APIInterfaces {\n    return Object.assign(\n      this.methods,\n      {\n        i18n: this.Editor.I18nAPI.getMethodsForTool(tool),\n      }\n    ) as APIInterfaces;\n  }\n}\n","/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Use external module CodeX Tooltip\n */\nimport CodeXTooltips from 'codex-tooltip';\nimport type { TooltipOptions, TooltipContent } from 'codex-tooltip/types';\n\n/**\n * Tooltip\n *\n * Decorates any tooltip module like adapter\n */\nexport default class Tooltip {\n  /**\n   * Tooltips lib: CodeX Tooltips\n   *\n   * @see https://github.com/codex-team/codex.tooltips\n   */\n  private lib: CodeXTooltips = new CodeXTooltips();\n\n  /**\n   * Release the library\n   */\n  public destroy(): void {\n    this.lib.destroy();\n  }\n\n  /**\n   * Shows tooltip on element with passed HTML content\n   *\n   * @param {HTMLElement} element - any HTML element in DOM\n   * @param content - tooltip's content\n   * @param options - showing settings\n   */\n  public show(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.lib.show(element, content, options);\n  }\n\n  /**\n   * Hides tooltip\n   *\n   * @param skipHidingDelay  pass true to immediately hide the tooltip\n   */\n  public hide(skipHidingDelay = false): void {\n    this.lib.hide(skipHidingDelay);\n  }\n\n  /**\n   * Binds 'mouseenter' and 'mouseleave' events that shows/hides the Tooltip\n   *\n   * @param {HTMLElement} element - any HTML element in DOM\n   * @param content - tooltip's content\n   * @param options - showing settings\n   */\n  public onHover(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.lib.onHover(element, content, options);\n  }\n}\n","import Module from '../../__module';\nimport $ from '../../dom';\nimport * as _ from '../../utils';\nimport I18n from '../../i18n';\nimport { I18nInternalNS } from '../../i18n/namespace-internal';\nimport Tooltip from '../../utils/tooltip';\nimport { ModuleConfig } from '../../../types-internal/module-config';\nimport { BlockAPI } from '../../../../types';\nimport Block from '../../block';\nimport Toolbox, { ToolboxEvent } from '../../ui/toolbox';\n\n/**\n * @todo Tab on non-empty block should open Block Settings of the hoveredBlock (not where caret is set)\n *          - make Block Settings a standalone module\n *\n * @todo TESTCASE - show toggler after opening and closing the Inline Toolbar\n * @todo TESTCASE - Click outside Editor holder should close Toolbar and Clear Focused blocks\n * @todo TESTCASE - Click inside Editor holder should close Toolbar and Clear Focused blocks\n * @todo TESTCASE - Click inside Redactor zone when Block Settings are opened:\n *                  - should close Block Settings\n *                  - should not close Toolbar\n *                  - should move Toolbar to the clicked Block\n * @todo TESTCASE - Toolbar should be closed on the Cross Block Selection\n * @todo TESTCASE - Toolbar should be closed on the Rectangle Selection\n * @todo TESTCASE - If Block Settings or Toolbox are opened, the Toolbar should not be moved by Bocks hovering\n */\n\n/**\n * HTML Elements used for Toolbar UI\n */\ninterface ToolbarNodes {\n  wrapper: HTMLElement;\n  content: HTMLElement;\n  actions: HTMLElement;\n\n  // Content Zone\n  plusButton: HTMLElement;\n\n  // Actions Zone\n  blockActionsButtons: HTMLElement;\n  settingsToggler: HTMLElement;\n}\n/**\n *\n * Toolbar is the node that moves up/down over current block\n *\n *  ______________________________________ Toolbar ____________________________________________\n * |                                                                                           |\n * |  ..................... Content .........................................................  |\n * |  .                                                   ........ Block Actions ...........   |\n * |  .                                                   .        [Open Settings]         .   |\n * |  .  [Plus Button]  [Toolbox: {Tool1}, {Tool2}]       .                                .   |\n * |  .                                                   .        [Settings Panel]        .   |\n * |  .                                                   ..................................   |\n * |  .......................................................................................  |\n * |                                                                                           |\n * |___________________________________________________________________________________________|\n *\n *\n * Toolbox  its an Element contains tools buttons. Can be shown by Plus Button.\n *\n *  _______________ Toolbox _______________\n * |                                       |\n * | [Header] [Image] [List] [Quote] ...   |\n * |_______________________________________|\n *\n *\n * Settings Panel  is an Element with block settings:\n *\n *   ____ Settings Panel ____\n *  | ...................... |\n *  | .   Tool Settings    . |\n *  | ...................... |\n *  | .  Default Settings  . |\n *  | ...................... |\n *  |________________________|\n *\n *\n * @class\n * @classdesc Toolbar module\n *\n * @typedef {Toolbar} Toolbar\n * @property {object} nodes - Toolbar nodes\n * @property {Element} nodes.wrapper        - Toolbar main element\n * @property {Element} nodes.content        - Zone with Plus button and toolbox.\n * @property {Element} nodes.actions        - Zone with Block Settings and Remove Button\n * @property {Element} nodes.blockActionsButtons   - Zone with Block Buttons: [Settings]\n * @property {Element} nodes.plusButton     - Button that opens or closes Toolbox\n * @property {Element} nodes.toolbox        - Container for tools\n * @property {Element} nodes.settingsToggler - open/close Settings Panel button\n * @property {Element} nodes.settings          - Settings Panel\n * @property {Element} nodes.pluginSettings    - Plugin Settings section of Settings Panel\n * @property {Element} nodes.defaultSettings   - Default Settings section of Settings Panel\n */\nexport default class Toolbar extends Module<ToolbarNodes> {\n  /**\n   * Tooltip utility Instance\n   */\n  private tooltip: Tooltip;\n\n  /**\n   * Block near which we display the Toolbox\n   */\n  private hoveredBlock: Block;\n\n  /**\n   * Toolbox class instance\n   */\n  private toolboxInstance: Toolbox;\n\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    super({\n      config,\n      eventsDispatcher,\n    });\n    this.tooltip = new Tooltip();\n  }\n\n  /**\n   * CSS styles\n   *\n   * @returns {object}\n   */\n  public get CSS(): { [name: string]: string } {\n    return {\n      toolbar: 'ce-toolbar',\n      content: 'ce-toolbar__content',\n      actions: 'ce-toolbar__actions',\n      actionsOpened: 'ce-toolbar__actions--opened',\n\n      toolbarOpened: 'ce-toolbar--opened',\n      openedToolboxHolderModifier: 'codex-editor--toolbox-opened',\n\n      // Content Zone\n      plusButton: 'ce-toolbar__plus',\n      plusButtonShortcut: 'ce-toolbar__plus-shortcut',\n      plusButtonHidden: 'ce-toolbar__plus--hidden',\n\n      // Actions Zone\n      blockActionsButtons: 'ce-toolbar__actions-buttons',\n      settingsToggler: 'ce-toolbar__settings-btn',\n    };\n  }\n\n  /**\n   * Returns the Toolbar opening state\n   *\n   * @returns {boolean}\n   */\n  public get opened(): boolean {\n    return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened);\n  }\n\n  /**\n   * Plus Button public methods\n   *\n   * @returns {{hide: function(): void, show: function(): void}}\n   */\n  public get plusButton(): { hide: () => void; show: () => void } {\n    return {\n      hide: (): void => this.nodes.plusButton.classList.add(this.CSS.plusButtonHidden),\n      show: (): void => {\n        if (this.toolboxInstance.isEmpty) {\n          return;\n        }\n        this.nodes.plusButton.classList.remove(this.CSS.plusButtonHidden);\n      },\n    };\n  }\n\n  /**\n   * Public interface for accessing the Toolbox\n   */\n  public get toolbox(): {\n    opened: boolean;\n    close: () => void;\n    open: () => void;\n    toggle: () => void;\n    flipperHasFocus: boolean;\n    } {\n    return {\n      opened: this.toolboxInstance.opened,\n      close: (): void => this.toolboxInstance.close(),\n      open: (): void => {\n        /**\n         * Set current block to cover the case when the Toolbar showed near hovered Block but caret is set to another Block.\n         */\n        this.Editor.BlockManager.currentBlock = this.hoveredBlock;\n\n        this.toolboxInstance.open();\n      },\n      toggle: (): void => this.toolboxInstance.toggle(),\n      flipperHasFocus: this.toolboxInstance.flipperHasFocus,\n    };\n  }\n\n  /**\n   * Block actions appearance manipulations\n   *\n   * @returns {{hide: function(): void, show: function(): void}}\n   */\n  private get blockActions(): { hide: () => void; show: () => void } {\n    return {\n      hide: (): void => {\n        this.nodes.actions.classList.remove(this.CSS.actionsOpened);\n      },\n      show: (): void => {\n        this.nodes.actions.classList.add(this.CSS.actionsOpened);\n      },\n    };\n  }\n\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.drawUI();\n      this.enableModuleBindings();\n    } else {\n      this.destroy();\n      this.Editor.BlockSettings.destroy();\n      this.disableModuleBindings();\n    }\n  }\n\n  /**\n   * Move Toolbar to the passed (or current) Block\n   *\n   * @param block - block to move Toolbar near it\n   */\n  public moveAndOpen(block: Block = this.Editor.BlockManager.currentBlock): void {\n    /**\n     * Close Toolbox when we move toolbar\n     */\n    this.toolboxInstance.close();\n    this.Editor.BlockSettings.close();\n\n    /**\n     * If no one Block selected as a Current\n     */\n    if (!block) {\n      return;\n    }\n\n    this.hoveredBlock = block;\n\n    const targetBlockHolder = block.holder;\n    const { isMobile } = this.Editor.UI;\n    const renderedContent = block.pluginsContent;\n    const renderedContentStyle = window.getComputedStyle(renderedContent);\n    const blockRenderedElementPaddingTop = parseInt(renderedContentStyle.paddingTop, 10);\n    const blockHeight = targetBlockHolder.offsetHeight;\n\n    let toolbarY;\n\n    /**\n     * On mobile  Toolbar at the bottom of Block\n     * On Desktop  Toolbar should be moved to the first line of block text\n     *              To do that, we compute the block offset and the padding-top of the plugin content\n     */\n    if (isMobile) {\n      toolbarY = targetBlockHolder.offsetTop + blockHeight;\n    } else {\n      toolbarY = targetBlockHolder.offsetTop + blockRenderedElementPaddingTop;\n    }\n\n    /**\n     * Move Toolbar to the Top coordinate of Block\n     */\n    this.nodes.wrapper.style.transform = `translate3D(0, ${Math.floor(toolbarY)}px, 0)`;\n\n    /**\n     * Plus Button should be shown only for __empty__ __default__ block\n     */\n    if (block.tool.isDefault && block.isEmpty) {\n      this.plusButton.show();\n    } else {\n      this.plusButton.hide();\n    }\n\n    this.open();\n  }\n\n  /**\n   * Close the Toolbar\n   */\n  public close(): void {\n    if (this.Editor.ReadOnly.isEnabled) {\n      return;\n    }\n\n    this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened);\n\n    /** Close components */\n    this.blockActions.hide();\n    this.toolboxInstance.close();\n    this.Editor.BlockSettings.close();\n  }\n\n  /**\n   * Open Toolbar with Plus Button and Actions\n   *\n   * @param {boolean} withBlockActions - by default, Toolbar opens with Block Actions.\n   *                                     This flag allows to open Toolbar without Actions.\n   * @param {boolean} needToCloseToolbox - by default, Toolbar will be moved with opening\n   *                                      (by click on Block, or by enter)\n   *                                      with closing Toolbox and Block Settings\n   *                                      This flag allows to open Toolbar with Toolbox\n   */\n  private open(withBlockActions = true, needToCloseToolbox = true): void {\n    _.delay(() => {\n      this.nodes.wrapper.classList.add(this.CSS.toolbarOpened);\n\n      if (withBlockActions) {\n        this.blockActions.show();\n      } else {\n        this.blockActions.hide();\n      }\n    }, 50)();\n  }\n\n  /**\n   * Draws Toolbar elements\n   */\n  private make(): void {\n    this.nodes.wrapper = $.make('div', this.CSS.toolbar);\n\n    /**\n     * Make Content Zone and Actions Zone\n     */\n    ['content', 'actions'].forEach((el) => {\n      this.nodes[el] = $.make('div', this.CSS[el]);\n    });\n\n    /**\n     * Actions will be included to the toolbar content so we can align in to the right of the content\n     */\n    $.append(this.nodes.wrapper, this.nodes.content);\n    $.append(this.nodes.content, this.nodes.actions);\n\n    /**\n     * Fill Content Zone:\n     *  - Plus Button\n     *  - Toolbox\n     */\n    this.nodes.plusButton = $.make('div', this.CSS.plusButton);\n    $.append(this.nodes.plusButton, $.svg('plus', 16, 16));\n    $.append(this.nodes.actions, this.nodes.plusButton);\n\n    this.readOnlyMutableListeners.on(this.nodes.plusButton, 'click', () => {\n      this.tooltip.hide(true);\n      this.plusButtonClicked();\n    }, false);\n\n    /**\n     * Add events to show/hide tooltip for plus button\n     */\n    const tooltipContent = $.make('div');\n\n    tooltipContent.appendChild(document.createTextNode(I18n.ui(I18nInternalNS.ui.toolbar.toolbox, 'Add')));\n    tooltipContent.appendChild($.make('div', this.CSS.plusButtonShortcut, {\n      textContent: ' Tab',\n    }));\n\n    this.tooltip.onHover(this.nodes.plusButton, tooltipContent, {\n      hidingDelay: 400,\n    });\n\n    /**\n     * Fill Actions Zone:\n     *  - Settings Toggler\n     *  - Remove Block Button\n     *  - Settings Panel\n     */\n    this.nodes.blockActionsButtons = $.make('div', this.CSS.blockActionsButtons);\n    this.nodes.settingsToggler = $.make('span', this.CSS.settingsToggler);\n    const settingsIcon = $.svg('dots', 16, 16);\n\n    $.append(this.nodes.settingsToggler, settingsIcon);\n    $.append(this.nodes.blockActionsButtons, this.nodes.settingsToggler);\n    $.append(this.nodes.actions, this.nodes.blockActionsButtons);\n\n    this.tooltip.onHover(\n      this.nodes.settingsToggler,\n      I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune'),\n      {\n        hidingDelay: 400,\n      }\n    );\n\n    /**\n     * Appending Toolbar components to itself\n     */\n    $.append(this.nodes.content, this.makeToolbox());\n    $.append(this.nodes.actions, this.Editor.BlockSettings.nodes.wrapper);\n\n    /**\n     * Append toolbar to the Editor\n     */\n    $.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n  }\n\n  /**\n   * Creates the Toolbox instance and return it's rendered element\n   */\n  private makeToolbox(): Element {\n    /**\n     * Make the Toolbox\n     */\n    this.toolboxInstance = new Toolbox({\n      api: this.Editor.API.methods,\n      tools: this.Editor.Tools.blockTools,\n    });\n\n    this.toolboxInstance.on(ToolboxEvent.Opened, () => {\n      this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier);\n    });\n\n    this.toolboxInstance.on(ToolboxEvent.Closed, () => {\n      this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier);\n    });\n\n    this.toolboxInstance.on(ToolboxEvent.BlockAdded, ({ block }: {block: BlockAPI }) => {\n      const { BlockManager, Caret } = this.Editor;\n      const newBlock = BlockManager.getBlockById(block.id);\n\n      /**\n       * If the new block doesn't contain inputs, insert the new paragraph below\n       */\n      if (newBlock.inputs.length === 0) {\n        if (newBlock === BlockManager.lastBlock) {\n          BlockManager.insertAtEnd();\n          Caret.setToBlock(BlockManager.lastBlock);\n        } else {\n          Caret.setToBlock(BlockManager.nextBlock);\n        }\n      }\n    });\n\n    return this.toolboxInstance.make();\n  }\n\n  /**\n   * Handler for Plus Button\n   */\n  private plusButtonClicked(): void {\n    /**\n     * We need to update Current Block because user can click on the Plus Button (thanks to appearing by hover) without any clicks on editor\n     * In this case currentBlock will point last block\n     */\n    this.Editor.BlockManager.currentBlock = this.hoveredBlock;\n\n    this.toolboxInstance.toggle();\n  }\n\n  /**\n   * Enable bindings\n   */\n  private enableModuleBindings(): void {\n    /**\n     * Settings toggler\n     *\n     * mousedown is used because on click selection is lost in Safari and FF\n     */\n    this.readOnlyMutableListeners.on(this.nodes.settingsToggler, 'mousedown', (e) => {\n      /**\n       * Stop propagation to prevent block selection clearance\n       *\n       * @see UI.documentClicked\n       */\n      e.stopPropagation();\n\n      this.settingsTogglerClicked();\n\n      this.toolboxInstance.close();\n\n      this.tooltip.hide(true);\n    }, true);\n\n    /**\n     * Subscribe to the 'block-hovered' event\n     */\n    this.eventsDispatcher.on(this.Editor.UI.events.blockHovered, (data: {block: Block}) => {\n      /**\n       * Do not move toolbar if Block Settings or Toolbox opened\n       */\n      if (this.Editor.BlockSettings.opened || this.toolboxInstance.opened) {\n        return;\n      }\n\n      this.moveAndOpen(data.block);\n    });\n  }\n\n  /**\n   * Disable bindings\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Clicks on the Block Settings toggler\n   */\n  private settingsTogglerClicked(): void {\n    /**\n     * We need to update Current Block because user can click on toggler (thanks to appearing by hover) without any clicks on editor\n     * In this case currentBlock will point last block\n     */\n    this.Editor.BlockManager.currentBlock = this.hoveredBlock;\n\n    if (this.Editor.BlockSettings.opened) {\n      this.Editor.BlockSettings.close();\n    } else {\n      this.Editor.BlockSettings.open(this.hoveredBlock);\n    }\n  }\n\n  /**\n   * Draws Toolbar UI\n   *\n   * Toolbar contains BlockSettings and Toolbox.\n   * That's why at first we draw its components and then Toolbar itself\n   *\n   * Steps:\n   *  - Make Toolbar dependent components like BlockSettings, Toolbox and so on\n   *  - Make itself and append dependent nodes to itself\n   *\n   */\n  private drawUI(): void {\n    /**\n     * Make BlockSettings Panel\n     */\n    this.Editor.BlockSettings.make();\n\n    /**\n     * Make Toolbar\n     */\n    this.make();\n  }\n\n  /**\n   * Removes all created and saved HTMLElements\n   * It is used in Read-Only mode\n   */\n  private destroy(): void {\n    this.removeAllNodes();\n    if (this.toolboxInstance) {\n      this.toolboxInstance.destroy();\n    }\n    this.tooltip.destroy();\n  }\n}\n","import defaultDictionary from './locales/en/messages.json';\nimport { DictNamespaces } from '../../types-internal/i18n-internal-namespace';\nimport { isObject, isString } from '../utils';\n\n/**\n * Evaluate messages dictionary and return object for namespace chaining\n *\n * @param dict - Messages dictionary\n * @param [keyPath] - subsection path (used in recursive call)\n */\nfunction getNamespaces(dict: object, keyPath?: string): DictNamespaces<typeof defaultDictionary> {\n  const result = {};\n\n  Object.entries(dict).forEach(([key, section]) => {\n    if (isObject(section)) {\n      const newPath = keyPath ? `${keyPath}.${key}` : key;\n\n      /**\n       * Check current section values, if all of them are strings, so there is the last section\n       */\n      const isLastSection = Object.values(section).every((sectionValue) => {\n        return isString(sectionValue);\n      });\n\n      /**\n       * In last section, we substitute namespace path instead of object with translates\n       *\n       * ui.toolbar.toolbox  \"ui.toolbar.toolbox\"\n       * instead of\n       * ui.toolbar.toolbox  {\"Add\": \"\"}\n       */\n      if (isLastSection) {\n        result[key] = newPath;\n      } else {\n        result[key] = getNamespaces(section, newPath);\n      }\n\n      return;\n    }\n\n    result[key] = section;\n  });\n\n  return result as DictNamespaces<typeof defaultDictionary>;\n}\n\n/**\n * Type safe access to the internal messages dictionary sections\n *\n * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune');\n */\nexport const I18nInternalNS = getNamespaces(defaultDictionary);\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","exports.f = require('./_wks');\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","import { isEmpty } from '../utils';\n\n/**\n * @class EventDispatcher\n *\n * Has two important methods:\n *    - {Function} on - appends subscriber to the event. If event doesn't exist - creates new one\n *    - {Function} emit - fires all subscribers with data\n *    - {Function off - unsubscribes callback\n *\n * @version 1.0.0\n *\n * @typedef {Events} Events\n * @property {object} subscribers - all subscribers grouped by event name\n */\nexport default class EventsDispatcher<Events extends string = string> {\n  /**\n   * Object with events` names as key and array of callback functions as value\n   *\n   * @type {{}}\n   */\n  private subscribers: {[name: string]: Array<(data?: object) => unknown>} = {};\n\n  /**\n   * Subscribe any event on callback\n   *\n   * @param {string} eventName - event name\n   * @param {Function} callback - subscriber\n   */\n  public on(eventName: Events, callback: (data: object) => unknown): void {\n    if (!(eventName in this.subscribers)) {\n      this.subscribers[eventName] = [];\n    }\n\n    // group by events\n    this.subscribers[eventName].push(callback);\n  }\n\n  /**\n   * Subscribe any event on callback. Callback will be called once and be removed from subscribers array after call.\n   *\n   * @param {string} eventName - event name\n   * @param {Function} callback - subscriber\n   */\n  public once(eventName: Events, callback: (data: object) => unknown): void {\n    if (!(eventName in this.subscribers)) {\n      this.subscribers[eventName] = [];\n    }\n\n    const wrappedCallback = (data: object): unknown => {\n      const result = callback(data);\n\n      const indexOfHandler = this.subscribers[eventName].indexOf(wrappedCallback);\n\n      if (indexOfHandler !== -1) {\n        this.subscribers[eventName].splice(indexOfHandler, 1);\n      }\n\n      return result;\n    };\n\n    // group by events\n    this.subscribers[eventName].push(wrappedCallback);\n  }\n\n  /**\n   * Emit callbacks with passed data\n   *\n   * @param {string} eventName - event name\n   * @param {object} data - subscribers get this data when they were fired\n   */\n  public emit(eventName: Events, data?: object): void {\n    if (isEmpty(this.subscribers) || !this.subscribers[eventName]) {\n      return;\n    }\n\n    this.subscribers[eventName].reduce((previousData, currentHandler) => {\n      const newData = currentHandler(previousData);\n\n      return newData || previousData;\n    }, data);\n  }\n\n  /**\n   * Unsubscribe callback from event\n   *\n   * @param {string} eventName - event name\n   * @param {Function} callback - event handler\n   */\n  public off(eventName: Events, callback: (data: object) => unknown): void {\n    for (let i = 0; i < this.subscribers[eventName].length; i++) {\n      if (this.subscribers[eventName][i] === callback) {\n        delete this.subscribers[eventName][i];\n        break;\n      }\n    }\n  }\n\n  /**\n   * Destroyer\n   * clears subscribers list\n   */\n  public destroy(): void {\n    this.subscribers = null;\n  }\n}\n","import Block from './index';\nimport { BlockToolData, ToolConfig } from '../../../types/tools';\nimport { SavedData } from '../../../types/data-formats';\nimport { BlockAPI as BlockAPIInterface } from '../../../types/api';\n\n/**\n * Constructs new BlockAPI object\n *\n * @class\n *\n * @param {Block} block - Block to expose\n */\nfunction BlockAPI(\n  block: Block\n): void {\n  const blockAPI: BlockAPIInterface = {\n    /**\n     * Block id\n     *\n     * @returns {string}\n     */\n    get id(): string {\n      return block.id;\n    },\n    /**\n     * Tool name\n     *\n     * @returns {string}\n     */\n    get name(): string {\n      return block.name;\n    },\n\n    /**\n     * Tool config passed on Editor's initialization\n     *\n     * @returns {ToolConfig}\n     */\n    get config(): ToolConfig {\n      return block.config;\n    },\n\n    /**\n     * .ce-block element, that wraps plugin contents\n     *\n     * @returns {HTMLElement}\n     */\n    get holder(): HTMLElement {\n      return block.holder;\n    },\n\n    /**\n     * True if Block content is empty\n     *\n     * @returns {boolean}\n     */\n    get isEmpty(): boolean {\n      return block.isEmpty;\n    },\n\n    /**\n     * True if Block is selected with Cross-Block selection\n     *\n     * @returns {boolean}\n     */\n    get selected(): boolean {\n      return block.selected;\n    },\n\n    /**\n     * Set Block's stretch state\n     *\n     * @param {boolean} state  state to set\n     */\n    set stretched(state: boolean) {\n      block.stretched = state;\n    },\n\n    /**\n     * True if Block is stretched\n     *\n     * @returns {boolean}\n     */\n    get stretched(): boolean {\n      return block.stretched;\n    },\n\n    /**\n     * Call Tool method with errors handler under-the-hood\n     *\n     * @param {string} methodName - method to call\n     * @param {object} param - object with parameters\n     *\n     * @returns {unknown}\n     */\n    call(methodName: string, param?: object): unknown {\n      return block.call(methodName, param);\n    },\n\n    /**\n     * Save Block content\n     *\n     * @returns {Promise<void|SavedData>}\n     */\n    save(): Promise<void|SavedData> {\n      return block.save();\n    },\n\n    /**\n     * Validate Block data\n     *\n     * @param {BlockToolData} data - data to validate\n     *\n     * @returns {Promise<boolean>}\n     */\n    validate(data: BlockToolData): Promise<boolean> {\n      return block.validate(data);\n    },\n\n    /**\n     * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback\n     * Can be useful for block changes invisible for editor core.\n     */\n    dispatchChange(): void {\n      block.dispatchChange();\n    },\n  };\n\n  Object.setPrototypeOf(this, blockAPI);\n}\n\nexport default BlockAPI;\n","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import Shortcut from '@codexteam/shortcuts';\n\n/**\n * Contains keyboard and mouse events binded on each Block by Block Manager\n */\n\n/**\n * ShortcutData interface\n * Each shortcut must have name and handler\n * `name` is a shortcut, like 'CMD+K', 'CMD+B' etc\n * `handler` is a callback\n *\n * @interface ShortcutData\n */\nexport interface ShortcutData {\n\n  /**\n   * Shortcut name\n   * Ex. CMD+I, CMD+B ....\n   */\n  name: string;\n\n  /**\n   * Shortcut handler\n   */\n  handler(event): void;\n\n  /**\n   * Element handler should be added for\n   */\n  on: HTMLElement;\n}\n\n/**\n * @class Shortcut\n * @classdesc Allows to register new shortcut\n *\n * Internal Shortcuts Module\n */\nclass Shortcuts {\n  /**\n   * All registered shortcuts\n   *\n   * @type {Map<Element, Shortcut[]>}\n   */\n  private registeredShortcuts: Map<Element, Shortcut[]> = new Map();\n\n  /**\n   * Register shortcut\n   *\n   * @param shortcut - shortcut options\n   */\n  public add(shortcut: ShortcutData): void {\n    const foundShortcut = this.findShortcut(shortcut.on, shortcut.name);\n\n    if (foundShortcut) {\n      throw Error(\n        `Shortcut ${shortcut.name} is already registered for ${shortcut.on}. Please remove it before add a new handler.`\n      );\n    }\n\n    const newShortcut = new Shortcut({\n      name: shortcut.name,\n      on: shortcut.on,\n      callback: shortcut.handler,\n    });\n    const shortcuts = this.registeredShortcuts.get(shortcut.on) || [];\n\n    this.registeredShortcuts.set(shortcut.on, [...shortcuts, newShortcut]);\n  }\n\n  /**\n   * Remove shortcut\n   *\n   * @param element - Element shortcut is set for\n   * @param name - shortcut name\n   */\n  public remove(element: Element, name: string): void {\n    const shortcut = this.findShortcut(element, name);\n\n    if (!shortcut) {\n      return;\n    }\n\n    shortcut.remove();\n\n    const shortcuts = this.registeredShortcuts.get(element);\n\n    this.registeredShortcuts.set(element, shortcuts.filter(el => el !== shortcut));\n  }\n\n  /**\n   * Get Shortcut instance if exist\n   *\n   * @param element - Element shorcut is set for\n   * @param shortcut - shortcut name\n   *\n   * @returns {number} index - shortcut index if exist\n   */\n  private findShortcut(element: Element, shortcut: string): Shortcut | void {\n    const shortcuts = this.registeredShortcuts.get(element) || [];\n\n    return shortcuts.find(({ name }) => name === shortcut);\n  }\n}\n\nexport default new Shortcuts();\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var cof = require('./_cof');\nmodule.exports = function (it, msg) {\n  if (typeof it != 'number' && cof(it) != 'Number') throw TypeError(msg);\n  return +it;\n};\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar toLength = require('./_to-length');\n\nmodule.exports = function (that, callbackfn, aLen, memo, isRight) {\n  aFunction(callbackfn);\n  var O = toObject(that);\n  var self = IObject(O);\n  var length = toLength(O.length);\n  var index = isRight ? length - 1 : 0;\n  var i = isRight ? -1 : 1;\n  if (aLen < 2) for (;;) {\n    if (index in self) {\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if (isRight ? index < 0 : length <= index) {\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","/**\n * This type of exception will destroy the Editor! Be careful when using it\n */\nexport class CriticalError extends Error {\n}\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","import { BlockAPI as BlockAPIInterface, Blocks } from '../../../../types/api';\nimport { BlockToolData, OutputData, ToolConfig } from '../../../../types';\nimport * as _ from './../../utils';\nimport BlockAPI from '../../block/api';\nimport Module from '../../__module';\n\n/**\n * @class BlocksAPI\n * provides with methods working with Block\n */\nexport default class BlocksAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Blocks}\n   */\n  public get methods(): Blocks {\n    return {\n      clear: (): void => this.clear(),\n      render: (data: OutputData): Promise<void> => this.render(data),\n      renderFromHTML: (data: string): Promise<void> => this.renderFromHTML(data),\n      delete: (index?: number): void => this.delete(index),\n      swap: (fromIndex: number, toIndex: number): void => this.swap(fromIndex, toIndex),\n      move: (toIndex: number, fromIndex?: number): void => this.move(toIndex, fromIndex),\n      getBlockByIndex: (index: number): BlockAPIInterface | void => this.getBlockByIndex(index),\n      getById: (id: string): BlockAPIInterface | null => this.getById(id),\n      getCurrentBlockIndex: (): number => this.getCurrentBlockIndex(),\n      getBlockIndex: (id: string): number => this.getBlockIndex(id),\n      getBlocksCount: (): number => this.getBlocksCount(),\n      stretchBlock: (index: number, status = true): void => this.stretchBlock(index, status),\n      insertNewBlock: (): void => this.insertNewBlock(),\n      insert: this.insert,\n      update: this.update,\n    };\n  }\n\n  /**\n   * Returns Blocks count\n   *\n   * @returns {number}\n   */\n  public getBlocksCount(): number {\n    return this.Editor.BlockManager.blocks.length;\n  }\n\n  /**\n   * Returns current block index\n   *\n   * @returns {number}\n   */\n  public getCurrentBlockIndex(): number {\n    return this.Editor.BlockManager.currentBlockIndex;\n  }\n\n  /**\n   * Returns the index of Block by id;\n   *\n   * @param id - block id\n   * @returns {number}\n   */\n  public getBlockIndex(id: string): number | undefined {\n    const block = this.Editor.BlockManager.getBlockById(id);\n\n    if (!block) {\n      _.logLabeled('There is no block with id `' + id + '`', 'warn');\n\n      return;\n    }\n\n    return this.Editor.BlockManager.getBlockIndex(block);\n  }\n\n  /**\n   * Returns BlockAPI object by Block index\n   *\n   * @param {number} index - index to get\n   */\n  public getBlockByIndex(index: number): BlockAPIInterface | void {\n    const block = this.Editor.BlockManager.getBlockByIndex(index);\n\n    if (block === undefined) {\n      _.logLabeled('There is no block at index `' + index + '`', 'warn');\n\n      return;\n    }\n\n    return new BlockAPI(block);\n  }\n\n  /**\n   * Returns BlockAPI object by Block id\n   *\n   * @param id - id of block to get\n   */\n  public getById(id: string): BlockAPIInterface | null {\n    const block = this.Editor.BlockManager.getBlockById(id);\n\n    if (block === undefined) {\n      _.logLabeled('There is no block with id `' + id + '`', 'warn');\n\n      return null;\n    }\n\n    return new BlockAPI(block);\n  }\n\n  /**\n   * Call Block Manager method that swap Blocks\n   *\n   * @param {number} fromIndex - position of first Block\n   * @param {number} toIndex - position of second Block\n   * @deprecated  use 'move' instead\n   */\n  public swap(fromIndex: number, toIndex: number): void {\n    _.log(\n      '`blocks.swap()` method is deprecated and will be removed in the next major release. ' +\n      'Use `block.move()` method instead',\n      'info'\n    );\n\n    this.Editor.BlockManager.swap(fromIndex, toIndex);\n  }\n\n  /**\n   * Move block from one index to another\n   *\n   * @param {number} toIndex - index to move to\n   * @param {number} fromIndex - index to move from\n   */\n  public move(toIndex: number, fromIndex?: number): void {\n    this.Editor.BlockManager.move(toIndex, fromIndex);\n  }\n\n  /**\n   * Deletes Block\n   *\n   * @param {number} blockIndex - index of Block to delete\n   */\n  public delete(blockIndex?: number): void {\n    try {\n      this.Editor.BlockManager.removeBlock(blockIndex);\n    } catch (e) {\n      _.logLabeled(e, 'warn');\n\n      return;\n    }\n\n    /**\n     * in case of last block deletion\n     * Insert the new default empty block\n     */\n    if (this.Editor.BlockManager.blocks.length === 0) {\n      this.Editor.BlockManager.insert();\n    }\n\n    /**\n     * After Block deletion currentBlock is updated\n     */\n    if (this.Editor.BlockManager.currentBlock) {\n      this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END);\n    }\n\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * Clear Editor's area\n   */\n  public clear(): void {\n    this.Editor.BlockManager.clear(true);\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * Fills Editor with Blocks data\n   *\n   * @param {OutputData} data  Saved Editor data\n   */\n  public render(data: OutputData): Promise<void> {\n    this.Editor.BlockManager.clear();\n\n    return this.Editor.Renderer.render(data.blocks);\n  }\n\n  /**\n   * Render passed HTML string\n   *\n   * @param {string} data - HTML string to render\n   * @returns {Promise<void>}\n   */\n  public renderFromHTML(data: string): Promise<void> {\n    this.Editor.BlockManager.clear();\n\n    return this.Editor.Paste.processText(data, true);\n  }\n\n  /**\n   * Stretch Block's content\n   *\n   * @param {number} index - index of Block to stretch\n   * @param {boolean} status - true to enable, false to disable\n   *\n   * @deprecated Use BlockAPI interface to stretch Blocks\n   */\n  public stretchBlock(index: number, status = true): void {\n    _.deprecationAssert(\n      true,\n      'blocks.stretchBlock()',\n      'BlockAPI'\n    );\n\n    const block = this.Editor.BlockManager.getBlockByIndex(index);\n\n    if (!block) {\n      return;\n    }\n\n    block.stretched = status;\n  }\n\n  /**\n   * Insert new Block and returns it's API\n   *\n   * @param {string} type  Tool name\n   * @param {BlockToolData} data  Tool data to insert\n   * @param {ToolConfig} config  Tool config\n   * @param {number?} index  index where to insert new Block\n   * @param {boolean?} needToFocus - flag to focus inserted Block\n   * @param replace - pass true to replace the Block existed under passed index\n   */\n  public insert = (\n    type: string = this.config.defaultBlock,\n    data: BlockToolData = {},\n    config: ToolConfig = {},\n    index?: number,\n    needToFocus?: boolean,\n    replace?: boolean\n  ): BlockAPIInterface => {\n    const insertedBlock = this.Editor.BlockManager.insert({\n      tool: type,\n      data,\n      index,\n      needToFocus,\n      replace,\n    });\n\n    return new BlockAPI(insertedBlock);\n  }\n\n  /**\n   * Insert new Block\n   * After set caret to this Block\n   *\n   * @todo remove in 3.0.0\n   *\n   * @deprecated with insert() method\n   */\n  public insertNewBlock(): void {\n    _.log('Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. ' +\n      'Use blocks.insert() instead.', 'warn');\n    this.insert();\n  }\n\n  /**\n   * Updates block data by id\n   *\n   * @param id - id of the block to update\n   * @param data - the new data\n   */\n  public update = (id: string, data: BlockToolData): void => {\n    const { BlockManager } = this.Editor;\n    const block = BlockManager.getBlockById(id);\n\n    if (!block) {\n      _.log('blocks.update(): Block with passed id was not found', 'warn');\n\n      return;\n    }\n\n    const blockIndex = BlockManager.getBlockIndex(block);\n\n    BlockManager.insert({\n      id: block.id,\n      tool: block.name,\n      data,\n      index: blockIndex,\n      replace: true,\n      tunes: block.tunes,\n    });\n  }\n}\n","import { Caret } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class CaretAPI\n * provides with methods to work with caret\n */\nexport default class CaretAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Caret}\n   */\n  public get methods(): Caret {\n    return {\n      setToFirstBlock: this.setToFirstBlock,\n      setToLastBlock: this.setToLastBlock,\n      setToPreviousBlock: this.setToPreviousBlock,\n      setToNextBlock: this.setToNextBlock,\n      setToBlock: this.setToBlock,\n      focus: this.focus,\n    };\n  }\n\n  /**\n   * Sets caret to the first Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToFirstBlock = (position: string = this.Editor.Caret.positions.DEFAULT, offset = 0): boolean => {\n    if (!this.Editor.BlockManager.firstBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock, position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the last Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToLastBlock = (position: string = this.Editor.Caret.positions.DEFAULT, offset = 0): boolean => {\n    if (!this.Editor.BlockManager.lastBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock, position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the previous Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToPreviousBlock = (\n    position: string = this.Editor.Caret.positions.DEFAULT,\n    offset = 0\n  ): boolean => {\n    if (!this.Editor.BlockManager.previousBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock, position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the next Block\n   *\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToNextBlock = (position: string = this.Editor.Caret.positions.DEFAULT, offset = 0): boolean => {\n    if (!this.Editor.BlockManager.nextBlock) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock, position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the Block by passed index\n   *\n   * @param {number} index - index of Block where to set caret\n   * @param {string} position - position where to set caret\n   * @param {number} offset - caret offset\n   *\n   * @returns {boolean}\n   */\n  private setToBlock = (\n    index: number,\n    position: string = this.Editor.Caret.positions.DEFAULT,\n    offset = 0\n  ): boolean => {\n    if (!this.Editor.BlockManager.blocks[index]) {\n      return false;\n    }\n\n    this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[index], position, offset);\n\n    return true;\n  }\n\n  /**\n   * Sets caret to the Editor\n   *\n   * @param {boolean} atEnd - if true, set Caret to the end of the Editor\n   *\n   * @returns {boolean}\n   */\n  private focus = (atEnd = false): boolean => {\n    if (atEnd) {\n      return this.setToLastBlock(this.Editor.Caret.positions.END);\n    }\n\n    return this.setToFirstBlock(this.Editor.Caret.positions.START);\n  }\n}\n","import Module from '../../__module';\nimport { Events } from '../../../../types/api';\n\n/**\n * @class EventsAPI\n * provides with methods working with Toolbar\n */\nexport default class EventsAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Events}\n   */\n  public get methods(): Events {\n    return {\n      emit: (eventName: string, data: object): void => this.emit(eventName, data),\n      off: (eventName: string, callback: () => void): void => this.off(eventName, callback),\n      on: (eventName: string, callback: () => void): void => this.on(eventName, callback),\n    };\n  }\n\n  /**\n   * Subscribe on Events\n   *\n   * @param {string} eventName - event name to subscribe\n   * @param {Function} callback - event handler\n   */\n  public on(eventName, callback): void {\n    this.eventsDispatcher.on(eventName, callback);\n  }\n\n  /**\n   * Emit event with data\n   *\n   * @param {string} eventName - event to emit\n   * @param {object} data - event's data\n   */\n  public emit(eventName, data): void {\n    this.eventsDispatcher.emit(eventName, data);\n  }\n\n  /**\n   * Unsubscribe from Event\n   *\n   * @param {string} eventName - event to unsubscribe\n   * @param {Function} callback - event handler\n   */\n  public off(eventName, callback): void {\n    this.eventsDispatcher.off(eventName, callback);\n  }\n}\n","import { I18n } from '../../../../types/api';\nimport I18nInternal from '../../i18n';\nimport { logLabeled } from '../../utils';\nimport Module from '../../__module';\nimport { ToolClass } from '../../tools/collection';\n\n/**\n * Provides methods for working with i18n\n */\nexport default class I18nAPI extends Module {\n  /**\n   * Return namespace section for tool or block tune\n   *\n   * @param tool - tool object\n   */\n  private static getNamespace(tool: ToolClass): string {\n    if (tool.isTune()) {\n      return `blockTunes.${tool.name}`;\n    }\n\n    return `tools.${tool.name}`;\n  }\n\n  /**\n   * Return I18n API methods with global dictionary access\n   */\n  public get methods(): I18n {\n    return {\n      t: (): string | undefined => {\n        logLabeled('I18n.t() method can be accessed only from Tools', 'warn');\n\n        return undefined;\n      },\n    };\n  }\n\n  /**\n   * Return I18n API methods with tool namespaced dictionary\n   *\n   * @param tool - Tool object\n   */\n  public getMethodsForTool(tool: ToolClass): I18n {\n    return Object.assign(\n      this.methods,\n      {\n        t: (dictKey: string): string => {\n          return I18nInternal.t(I18nAPI.getNamespace(tool), dictKey);\n        },\n      });\n  }\n}\n","import { InlineToolbar } from '../../../../types/api/inline-toolbar';\nimport Module from '../../__module';\n\n/**\n * @class InlineToolbarAPI\n * Provides methods for working with the Inline Toolbar\n */\nexport default class InlineToolbarAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {InlineToolbar}\n   */\n  public get methods(): InlineToolbar {\n    return {\n      close: (): void => this.close(),\n      open: (): void => this.open(),\n    };\n  }\n\n  /**\n   * Open Inline Toolbar\n   */\n  public open(): void {\n    this.Editor.InlineToolbar.tryToShow();\n  }\n\n  /**\n   * Close Inline Toolbar\n   */\n  public close(): void {\n    this.Editor.InlineToolbar.close();\n  }\n}\n","import { Listeners } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class ListenersAPI\n * Provides with methods working with DOM Listener\n */\nexport default class ListenersAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Listeners}\n   */\n  public get methods(): Listeners {\n    return {\n      on: (element: HTMLElement, eventType, handler, useCapture): string => this.on(element, eventType, handler, useCapture),\n      off: (element, eventType, handler, useCapture): void => this.off(element, eventType, handler, useCapture),\n      offById: (id): void => this.offById(id),\n    };\n  }\n\n  /**\n   * Ads a DOM event listener. Return it's id.\n   *\n   * @param {HTMLElement} element - Element to set handler to\n   * @param {string} eventType - event type\n   * @param {() => void} handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  public on(element: HTMLElement, eventType: string, handler: () => void, useCapture?: boolean): string {\n    return this.listeners.on(element, eventType, handler, useCapture);\n  }\n\n  /**\n   * Removes DOM listener from element\n   *\n   * @param {Element} element - Element to remove handler from\n   * @param eventType - event type\n   * @param handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  public off(element: Element, eventType: string, handler: () => void, useCapture?: boolean): void {\n    this.listeners.off(element, eventType, handler, useCapture);\n  }\n\n  /**\n   * Removes DOM listener by the listener id\n   *\n   * @param id - id of the listener to remove\n   */\n  public offById(id: string): void {\n    this.listeners.offById(id);\n  }\n}\n","import EventsDispatcher from '../../utils/events';\nimport { Notifier as INotifier } from '../../../../types/api';\nimport Notifier from '../../utils/notifier';\nimport { ConfirmNotifierOptions, NotifierOptions, PromptNotifierOptions } from 'codex-notifier';\nimport Module from '../../__module';\nimport { ModuleConfig } from '../../../types-internal/module-config';\n\n/**\n *\n */\nexport default class NotifierAPI extends Module {\n  /**\n   * Notifier utility Instance\n   */\n  private notifier: Notifier;\n\n  /**\n   * @class\n   * @param {object} moduleConfiguration - Module Configuration\n   * @param {EditorConfig} moduleConfiguration.config - Editor's config\n   * @param {EventsDispatcher} moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    super({\n      config,\n      eventsDispatcher,\n    });\n\n    this.notifier = new Notifier();\n  }\n\n  /**\n   * Available methods\n   */\n  public get methods(): INotifier {\n    return {\n      show: (options: NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions): void => this.show(options),\n    };\n  }\n\n  /**\n   * Show notification\n   *\n   * @param {NotifierOptions} options - message option\n   */\n  public show(options: NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions): void {\n    return this.notifier.show(options);\n  }\n}\n","import { ReadOnly } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class ReadOnlyAPI\n * @classdesc ReadOnly API\n */\nexport default class ReadOnlyAPI extends Module {\n  /**\n   * Available methods\n   */\n  public get methods(): ReadOnly {\n    return {\n      toggle: (state): Promise<boolean> => this.toggle(state),\n      isEnabled: this.isEnabled,\n    };\n  }\n\n  /**\n   * Set or toggle read-only state\n   *\n   * @param {boolean|undefined} state - set or toggle state\n   *\n   * @returns {boolean} current value\n   */\n  public toggle(state?: boolean): Promise<boolean> {\n    return this.Editor.ReadOnly.toggle(state);\n  }\n\n  /**\n   * Returns current read-only state\n   */\n  public get isEnabled(): boolean {\n    return this.Editor.ReadOnly.isEnabled;\n  }\n}\n","import { Sanitizer as ISanitizer } from '../../../../types/api';\nimport { SanitizerConfig } from '../../../../types/configs';\nimport Module from '../../__module';\nimport { clean } from '../../utils/sanitizer';\n\n/**\n * @class SanitizerAPI\n * Provides Editor.js Sanitizer that allows developers to clean their HTML\n */\nexport default class SanitizerAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {SanitizerConfig}\n   */\n  public get methods(): ISanitizer {\n    return {\n      clean: (taintString, config): string => this.clean(taintString, config),\n    };\n  }\n\n  /**\n   * Perform sanitizing of a string\n   *\n   * @param {string} taintString - what to sanitize\n   * @param {SanitizerConfig} config - sanitizer config\n   *\n   * @returns {string}\n   */\n  public clean(taintString: string, config: SanitizerConfig): string {\n    return clean(taintString, config);\n  }\n}\n","import { Saver } from '../../../../types/api';\nimport { OutputData } from '../../../../types';\nimport * as _ from '../../utils';\nimport Module from '../../__module';\n\n/**\n * @class SaverAPI\n * provides with methods to save data\n */\nexport default class SaverAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Saver}\n   */\n  public get methods(): Saver {\n    return {\n      save: (): Promise<OutputData> => this.save(),\n    };\n  }\n\n  /**\n   * Return Editor's data\n   *\n   * @returns {OutputData}\n   */\n  public save(): Promise<OutputData> {\n    const errorText = 'Editor\\'s content can not be saved in read-only mode';\n\n    if (this.Editor.ReadOnly.isEnabled) {\n      _.logLabeled(errorText, 'warn');\n\n      return Promise.reject(new Error(errorText));\n    }\n\n    return this.Editor.Saver.save();\n  }\n}\n","import SelectionUtils from '../../selection';\nimport { Selection as SelectionAPIInterface } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n * @class SelectionAPI\n * Provides with methods working with SelectionUtils\n */\nexport default class SelectionAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {SelectionAPIInterface}\n   */\n  public get methods(): SelectionAPIInterface {\n    return {\n      findParentTag: (tagName: string, className?: string): HTMLElement | null => this.findParentTag(tagName, className),\n      expandToTag: (node: HTMLElement): void => this.expandToTag(node),\n    };\n  }\n\n  /**\n   * Looks ahead from selection and find passed tag with class name\n   *\n   * @param {string} tagName - tag to find\n   * @param {string} className - tag's class name\n   *\n   * @returns {HTMLElement|null}\n   */\n  public findParentTag(tagName: string, className?: string): HTMLElement | null {\n    return new SelectionUtils().findParentTag(tagName, className);\n  }\n\n  /**\n   * Expand selection to passed tag\n   *\n   * @param {HTMLElement} node - tag that should contain selection\n   */\n  public expandToTag(node: HTMLElement): void {\n    new SelectionUtils().expandToTag(node);\n  }\n}\n","import { Styles } from '../../../../types/api';\nimport Module from '../../__module';\n\n/**\n *\n */\nexport default class StylesAPI extends Module {\n  /**\n   * Exported classes\n   */\n  public get classes(): Styles {\n    return {\n      /**\n       * Base Block styles\n       */\n      block: 'cdx-block',\n\n      /**\n       * Inline Tools styles\n       */\n      inlineToolButton: 'ce-inline-tool',\n      inlineToolButtonActive: 'ce-inline-tool--active',\n\n      /**\n       * UI elements\n       */\n      input: 'cdx-input',\n      loader: 'cdx-loader',\n      button: 'cdx-button',\n\n      /**\n       * Settings styles\n       */\n      settingsButton: 'cdx-settings-button',\n      settingsButtonActive: 'cdx-settings-button--active',\n    };\n  }\n}\n","import { Toolbar } from '../../../../types/api';\nimport Module from '../../__module';\nimport * as _ from './../../utils';\n/**\n * @class ToolbarAPI\n * Provides methods for working with the Toolbar\n */\nexport default class ToolbarAPI extends Module {\n  /**\n   * Available methods\n   *\n   * @returns {Toolbar}\n   */\n  public get methods(): Toolbar {\n    return {\n      close: (): void => this.close(),\n      open: (): void => this.open(),\n      toggleBlockSettings: (openingState?: boolean): void => this.toggleBlockSettings(openingState),\n    };\n  }\n\n  /**\n   * Open toolbar\n   */\n  public open(): void {\n    this.Editor.Toolbar.moveAndOpen();\n  }\n\n  /**\n   * Close toolbar and all included elements\n   */\n  public close(): void {\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * Toggles Block Setting of the current block\n   *\n   * @param {boolean} openingState   opening state of Block Setting\n   */\n  public toggleBlockSettings(openingState?: boolean): void {\n    if (this.Editor.BlockManager.currentBlockIndex === -1) {\n      _.logLabeled('Could\\'t toggle the Toolbar because there is no block selected ', 'warn');\n\n      return;\n    }\n\n    /** Check that opening state is set or not */\n    const canOpenBlockSettings = openingState ?? !this.Editor.BlockSettings.opened;\n\n    if (canOpenBlockSettings) {\n      this.Editor.Toolbar.moveAndOpen();\n      this.Editor.BlockSettings.open();\n    } else {\n      this.Editor.BlockSettings.close();\n    }\n  }\n}\n","import { Tooltip as ITooltip } from '../../../../types/api';\nimport type { TooltipOptions, TooltipContent } from 'codex-tooltip/types';\nimport Module from '../../__module';\nimport { ModuleConfig } from '../../../types-internal/module-config';\nimport Tooltip from '../../utils/tooltip';\n/**\n * @class TooltipAPI\n * @classdesc Tooltip API\n */\nexport default class TooltipAPI extends Module {\n  /**\n   * Tooltip utility Instance\n   */\n  private tooltip: Tooltip;\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    super({\n      config,\n      eventsDispatcher,\n    });\n\n    this.tooltip = new Tooltip();\n  }\n\n  /**\n   * Destroy Module\n   */\n  public destroy(): void {\n    this.tooltip.destroy();\n  }\n\n  /**\n   * Available methods\n   */\n  public get methods(): ITooltip {\n    return {\n      show: (element: HTMLElement,\n        content: TooltipContent,\n        options?: TooltipOptions\n      ): void => this.show(element, content, options),\n      hide: (): void => this.hide(),\n      onHover: (element: HTMLElement,\n        content: TooltipContent,\n        options?: TooltipOptions\n      ): void => this.onHover(element, content, options),\n    };\n  }\n\n  /**\n   * Method show tooltip on element with passed HTML content\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  public show(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.tooltip.show(element, content, options);\n  }\n\n  /**\n   * Method hides tooltip on HTML page\n   */\n  public hide(): void {\n    this.tooltip.hide();\n  }\n\n  /**\n   * Decorator for showing Tooltip by mouseenter/mouseleave\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  public onHover(element: HTMLElement, content: TooltipContent, options?: TooltipOptions): void {\n    this.tooltip.onHover(element, content, options);\n  }\n}\n","import Module from '../../__module';\nimport { Ui, UiNodes } from '../../../../types/api';\n\n/**\n * API module allowing to access some Editor UI elements\n */\nexport default class UiAPI extends Module {\n  /**\n   * Available methods / getters\n   */\n  public get methods(): Ui {\n    return {\n      nodes: this.editorNodes,\n      /**\n       * There can be added some UI methods, like toggleThinMode() etc\n       */\n    };\n  }\n\n  /**\n   * Exported classes\n   */\n  private get editorNodes(): UiNodes {\n    return {\n      /**\n       * Top-level editor instance wrapper\n       */\n      wrapper: this.Editor.UI.nodes.wrapper,\n\n      /**\n       * Element that holds all the Blocks\n       */\n      redactor: this.Editor.UI.nodes.redactor,\n    };\n  }\n}\n","/**\n * Contains keyboard and mouse events binded on each Block by Block Manager\n */\nimport Module from '../__module';\nimport * as _ from '../utils';\nimport SelectionUtils from '../selection';\nimport Flipper from '../flipper';\n\n/**\n *\n */\nexport default class BlockEvents extends Module {\n  /**\n   * All keydowns on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  public keydown(event: KeyboardEvent): void {\n    /**\n     * Run common method for all keydown events\n     */\n    this.beforeKeydownProcessing(event);\n\n    /**\n     * Fire keydown processor by event.keyCode\n     */\n    switch (event.keyCode) {\n      case _.keyCodes.BACKSPACE:\n        this.backspace(event);\n        break;\n\n      case _.keyCodes.ENTER:\n        this.enter(event);\n        break;\n\n      case _.keyCodes.DOWN:\n      case _.keyCodes.RIGHT:\n        this.arrowRightAndDown(event);\n        break;\n\n      case _.keyCodes.UP:\n      case _.keyCodes.LEFT:\n        this.arrowLeftAndUp(event);\n        break;\n\n      case _.keyCodes.TAB:\n        this.tabPressed(event);\n        break;\n    }\n  }\n\n  /**\n   * Fires on keydown before event processing\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  public beforeKeydownProcessing(event: KeyboardEvent): void {\n    /**\n     * Do not close Toolbox on Tabs or on Enter with opened Toolbox\n     */\n    if (!this.needToolbarClosing(event)) {\n      return;\n    }\n\n    /**\n     * When user type something:\n     *  - close Toolbar\n     *  - close Conversion Toolbar\n     *  - clear block highlighting\n     */\n    if (_.isPrintableKey(event.keyCode)) {\n      this.Editor.Toolbar.close();\n      this.Editor.ConversionToolbar.close();\n\n      /**\n       * Allow to use shortcuts with selected blocks\n       *\n       * @type {boolean}\n       */\n      const isShortcut = event.ctrlKey || event.metaKey || event.altKey || event.shiftKey;\n\n      if (!isShortcut) {\n        this.Editor.BlockManager.clearFocused();\n        this.Editor.BlockSelection.clearSelection(event);\n      }\n    }\n  }\n\n  /**\n   * Key up on Block:\n   * - shows Inline Toolbar if something selected\n   * - shows conversion toolbar with 85% of block selection\n   *\n   * @param {KeyboardEvent} event - keyup event\n   */\n  public keyup(event: KeyboardEvent): void {\n    /**\n     * If shift key was pressed some special shortcut is used (eg. cross block selection via shift + arrows)\n     */\n    if (event.shiftKey) {\n      return;\n    }\n\n    /**\n     * Check if editor is empty on each keyup and add special css class to wrapper\n     */\n    this.Editor.UI.checkEmptiness();\n  }\n\n  /**\n   * Open Toolbox to leaf Tools\n   *\n   * @param {KeyboardEvent} event - tab keydown event\n   */\n  public tabPressed(event): void {\n    /**\n     * Clear blocks selection by tab\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n\n    const { BlockManager, InlineToolbar, ConversionToolbar } = this.Editor;\n    const currentBlock = BlockManager.currentBlock;\n\n    if (!currentBlock) {\n      return;\n    }\n\n    const isEmptyBlock = currentBlock.isEmpty;\n    const canOpenToolbox = currentBlock.tool.isDefault && isEmptyBlock;\n    const conversionToolbarOpened = !isEmptyBlock && ConversionToolbar.opened;\n    const inlineToolbarOpened = !isEmptyBlock && !SelectionUtils.isCollapsed && InlineToolbar.opened;\n\n    /**\n     * For empty Blocks we show Plus button via Toolbox only for default Blocks\n     */\n    if (canOpenToolbox) {\n      this.activateToolbox();\n    } else if (!conversionToolbarOpened && !inlineToolbarOpened) {\n      this.activateBlockSettings();\n    }\n  }\n\n  /**\n   * Add drop target styles\n   *\n   * @param {DragEvent} event - drag over event\n   */\n  public dragOver(event: DragEvent): void {\n    const block = this.Editor.BlockManager.getBlockByChildNode(event.target as Node);\n\n    block.dropTarget = true;\n  }\n\n  /**\n   * Remove drop target style\n   *\n   * @param {DragEvent} event - drag leave event\n   */\n  public dragLeave(event: DragEvent): void {\n    const block = this.Editor.BlockManager.getBlockByChildNode(event.target as Node);\n\n    block.dropTarget = false;\n  }\n\n  /**\n   * Copying selected blocks\n   * Before putting to the clipboard we sanitize all blocks and then copy to the clipboard\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  public handleCommandC(event: ClipboardEvent): void {\n    const { BlockSelection } = this.Editor;\n\n    if (!BlockSelection.anyBlockSelected) {\n      return;\n    }\n\n    // Copy Selected Blocks\n    BlockSelection.copySelectedBlocks(event);\n  }\n\n  /**\n   * Copy and Delete selected Blocks\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  public handleCommandX(event: ClipboardEvent): void {\n    const { BlockSelection, BlockManager, Caret } = this.Editor;\n\n    if (!BlockSelection.anyBlockSelected) {\n      return;\n    }\n\n    BlockSelection.copySelectedBlocks(event).then(() => {\n      const selectionPositionIndex = BlockManager.removeSelectedBlocks();\n\n      /**\n       * Insert default block in place of removed ones\n       */\n      const insertedBlock = BlockManager.insertDefaultBlockAtIndex(selectionPositionIndex, true);\n\n      Caret.setToBlock(insertedBlock, Caret.positions.START);\n\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n    });\n  }\n\n  /**\n   * ENTER pressed on block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  private enter(event: KeyboardEvent): void {\n    const { BlockManager, UI } = this.Editor;\n    const currentBlock = BlockManager.currentBlock;\n\n    /**\n     * Don't handle Enter keydowns when Tool sets enableLineBreaks to true.\n     * Uses for Tools like <code> where line breaks should be handled by default behaviour.\n     */\n    if (currentBlock.tool.isLineBreaksEnabled) {\n      return;\n    }\n\n    /**\n     * Opened Toolbars uses Flipper with own Enter handling\n     * Allow split block when no one button in Flipper is focused\n     */\n    if (UI.someToolbarOpened && UI.someFlipperButtonFocused) {\n      return;\n    }\n\n    /**\n     * Allow to create linebreaks by Shift+Enter\n     */\n    if (event.shiftKey) {\n      return;\n    }\n\n    let newCurrent = this.Editor.BlockManager.currentBlock;\n\n    /**\n     * If enter has been pressed at the start of the text, just insert paragraph Block above\n     */\n    if (this.Editor.Caret.isAtStart && !this.Editor.BlockManager.currentBlock.hasMedia) {\n      this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex);\n    } else {\n      /**\n       * Split the Current Block into two blocks\n       * Renew local current node after split\n       */\n      newCurrent = this.Editor.BlockManager.split();\n    }\n\n    this.Editor.Caret.setToBlock(newCurrent);\n\n    /**\n     * Show Toolbar\n     */\n    this.Editor.Toolbar.moveAndOpen(newCurrent);\n\n    event.preventDefault();\n  }\n\n  /**\n   * Handle backspace keydown on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  private backspace(event: KeyboardEvent): void {\n    const { BlockManager, BlockSelection, Caret } = this.Editor;\n    const currentBlock = BlockManager.currentBlock;\n    const tool = currentBlock.tool;\n\n    /**\n     * Check if Block should be removed by current Backspace keydown\n     */\n    if (currentBlock.selected || (currentBlock.isEmpty && currentBlock.currentInput === currentBlock.firstInput)) {\n      event.preventDefault();\n\n      const index = BlockManager.currentBlockIndex;\n\n      if (BlockManager.previousBlock && BlockManager.previousBlock.inputs.length === 0) {\n        /** If previous block doesn't contain inputs, remove it */\n        BlockManager.removeBlock(index - 1);\n      } else {\n        /** If block is empty, just remove it */\n        BlockManager.removeBlock();\n      }\n\n      Caret.setToBlock(\n        BlockManager.currentBlock,\n        index ? Caret.positions.END : Caret.positions.START\n      );\n\n      /** Close Toolbar */\n      this.Editor.Toolbar.close();\n\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n\n      return;\n    }\n\n    /**\n     * Don't handle Backspaces when Tool sets enableLineBreaks to true.\n     * Uses for Tools like <code> where line breaks should be handled by default behaviour.\n     *\n     * But if caret is at start of the block, we allow to remove it by backspaces\n     */\n    if (tool.isLineBreaksEnabled && !Caret.isAtStart) {\n      return;\n    }\n\n    const isFirstBlock = BlockManager.currentBlockIndex === 0;\n    const canMergeBlocks = Caret.isAtStart &&\n      SelectionUtils.isCollapsed &&\n      currentBlock.currentInput === currentBlock.firstInput &&\n      !isFirstBlock;\n\n    if (canMergeBlocks) {\n      /**\n       * preventing browser default behaviour\n       */\n      event.preventDefault();\n\n      /**\n       * Merge Blocks\n       */\n      this.mergeBlocks();\n    }\n  }\n\n  /**\n   * Merge current and previous Blocks if they have the same type\n   */\n  private mergeBlocks(): void {\n    const { BlockManager, Caret, Toolbar } = this.Editor;\n    const targetBlock = BlockManager.previousBlock;\n    const blockToMerge = BlockManager.currentBlock;\n\n    /**\n     * Blocks that can be merged:\n     * 1) with the same Name\n     * 2) Tool has 'merge' method\n     *\n     * other case will handle as usual ARROW LEFT behaviour\n     */\n    if (blockToMerge.name !== targetBlock.name || !targetBlock.mergeable) {\n      /** If target Block doesn't contain inputs or empty, remove it */\n      if (targetBlock.inputs.length === 0 || targetBlock.isEmpty) {\n        BlockManager.removeBlock(BlockManager.currentBlockIndex - 1);\n\n        Caret.setToBlock(BlockManager.currentBlock);\n        Toolbar.close();\n\n        return;\n      }\n\n      if (Caret.navigatePrevious()) {\n        Toolbar.close();\n      }\n\n      return;\n    }\n\n    Caret.createShadow(targetBlock.pluginsContent);\n    BlockManager.mergeBlocks(targetBlock, blockToMerge)\n      .then(() => {\n        /** Restore caret position after merge */\n        Caret.restoreCaret(targetBlock.pluginsContent as HTMLElement);\n        targetBlock.pluginsContent.normalize();\n        Toolbar.close();\n      });\n  }\n\n  /**\n   * Handle right and down keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private arrowRightAndDown(event: KeyboardEvent): void {\n    const isFlipperCombination = Flipper.usedKeys.includes(event.keyCode) &&\n      (!event.shiftKey || event.keyCode === _.keyCodes.TAB);\n\n    /**\n     * Arrows might be handled on toolbars by flipper\n     * Check for Flipper.usedKeys to allow navigate by DOWN and disallow by RIGHT\n     */\n    if (this.Editor.UI.someToolbarOpened && isFlipperCombination) {\n      return;\n    }\n\n    /**\n     * Close Toolbar and highlighting when user moves cursor\n     */\n    this.Editor.BlockManager.clearFocused();\n    this.Editor.Toolbar.close();\n\n    const shouldEnableCBS = this.Editor.Caret.isAtEnd || this.Editor.BlockSelection.anyBlockSelected;\n\n    if (event.shiftKey && event.keyCode === _.keyCodes.DOWN && shouldEnableCBS) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState();\n\n      return;\n    }\n\n    const navigateNext = event.keyCode === _.keyCodes.DOWN || (event.keyCode === _.keyCodes.RIGHT && !this.isRtl);\n    const isNavigated = navigateNext ? this.Editor.Caret.navigateNext() : this.Editor.Caret.navigatePrevious();\n\n    if (isNavigated) {\n      /**\n       * Default behaviour moves cursor by 1 character, we need to prevent it\n       */\n      event.preventDefault();\n    } else {\n      /**\n       * After caret is set, update Block input index\n       */\n      _.delay(() => {\n        /** Check currentBlock for case when user moves selection out of Editor */\n        if (this.Editor.BlockManager.currentBlock) {\n          this.Editor.BlockManager.currentBlock.updateCurrentInput();\n        }\n      }, 20)();\n    }\n\n    /**\n     * Clear blocks selection by arrows\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * Handle left and up keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private arrowLeftAndUp(event: KeyboardEvent): void {\n    /**\n     * Arrows might be handled on toolbars by flipper\n     * Check for Flipper.usedKeys to allow navigate by UP and disallow by LEFT\n     */\n    if (this.Editor.UI.someToolbarOpened) {\n      if (Flipper.usedKeys.includes(event.keyCode) && (!event.shiftKey || event.keyCode === _.keyCodes.TAB)) {\n        return;\n      }\n\n      this.Editor.UI.closeAllToolbars();\n    }\n\n    /**\n     * Close Toolbar and highlighting when user moves cursor\n     */\n    this.Editor.BlockManager.clearFocused();\n    this.Editor.Toolbar.close();\n\n    const shouldEnableCBS = this.Editor.Caret.isAtStart || this.Editor.BlockSelection.anyBlockSelected;\n\n    if (event.shiftKey && event.keyCode === _.keyCodes.UP && shouldEnableCBS) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState(false);\n\n      return;\n    }\n\n    const navigatePrevious = event.keyCode === _.keyCodes.UP || (event.keyCode === _.keyCodes.LEFT && !this.isRtl);\n    const isNavigated = navigatePrevious ? this.Editor.Caret.navigatePrevious() : this.Editor.Caret.navigateNext();\n\n    if (isNavigated) {\n      /**\n       * Default behaviour moves cursor by 1 character, we need to prevent it\n       */\n      event.preventDefault();\n    } else {\n      /**\n       * After caret is set, update Block input index\n       */\n      _.delay(() => {\n        /** Check currentBlock for case when user ends selection out of Editor and then press arrow-key */\n        if (this.Editor.BlockManager.currentBlock) {\n          this.Editor.BlockManager.currentBlock.updateCurrentInput();\n        }\n      }, 20)();\n    }\n\n    /**\n     * Clear blocks selection by arrows\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * Cases when we need to close Toolbar\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private needToolbarClosing(event: KeyboardEvent): boolean {\n    const toolboxItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.Toolbar.toolbox.opened),\n        blockSettingsItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.BlockSettings.opened),\n        inlineToolbarItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.InlineToolbar.opened),\n        conversionToolbarItemSelected = (event.keyCode === _.keyCodes.ENTER && this.Editor.ConversionToolbar.opened),\n        flippingToolbarItems = event.keyCode === _.keyCodes.TAB;\n\n    /**\n     * Do not close Toolbar in cases:\n     * 1. ShiftKey pressed (or combination with shiftKey)\n     * 2. When Toolbar is opened and Tab leafs its Tools\n     * 3. When Toolbar's component is opened and some its item selected\n     */\n    return !(event.shiftKey ||\n      flippingToolbarItems ||\n      toolboxItemSelected ||\n      blockSettingsItemSelected ||\n      inlineToolbarItemSelected ||\n      conversionToolbarItemSelected\n    );\n  }\n\n  /**\n   * If Toolbox is not open, then just open it and show plus button\n   */\n  private activateToolbox(): void {\n    if (!this.Editor.Toolbar.opened) {\n      this.Editor.Toolbar.moveAndOpen();\n    } // else Flipper will leaf through it\n\n    this.Editor.Toolbar.toolbox.open();\n  }\n\n  /**\n   * Open Toolbar and show BlockSettings before flipping Tools\n   */\n  private activateBlockSettings(): void {\n    if (!this.Editor.Toolbar.opened) {\n      this.Editor.BlockManager.currentBlock.focused = true;\n      this.Editor.Toolbar.moveAndOpen();\n    }\n\n    /**\n     * If BlockSettings is not open, then open BlockSettings\n     * Next Tab press will leaf Settings Buttons\n     */\n    if (!this.Editor.BlockSettings.opened) {\n      /**\n       * @todo Debug the case when we set caret to some block, hovering another block\n       *        wrong settings will be opened.\n       *       To fix it, we should refactor the Block Settings module  make it a standalone class, like the Toolbox\n       */\n      this.Editor.BlockSettings.open();\n    }\n  }\n}\n","/**\n * @class BlockManager\n * @classdesc Manage editor`s blocks storage and appearance\n *\n * @module BlockManager\n *\n * @version 2.0.0\n */\nimport Block, { BlockToolAPI } from '../block';\nimport Module from '../__module';\nimport $ from '../dom';\nimport * as _ from '../utils';\nimport Blocks from '../blocks';\nimport { BlockToolData, PasteEvent } from '../../../types';\nimport { BlockTuneData } from '../../../types/block-tunes/block-tune-data';\nimport BlockAPI from '../block/api';\nimport { BlockMutationType } from '../../../types/events/block/mutation-type';\n\n/**\n * @typedef {BlockManager} BlockManager\n * @property {number} currentBlockIndex - Index of current working block\n * @property {Proxy} _blocks - Proxy for Blocks instance {@link Blocks}\n */\nexport default class BlockManager extends Module {\n  /**\n   * Returns current Block index\n   *\n   * @returns {number}\n   */\n  public get currentBlockIndex(): number {\n    return this._currentBlockIndex;\n  }\n\n  /**\n   * Set current Block index and fire Block lifecycle callbacks\n   *\n   * @param {number} newIndex - index of Block to set as current\n   */\n  public set currentBlockIndex(newIndex: number) {\n    if (this._blocks[this._currentBlockIndex]) {\n      this._blocks[this._currentBlockIndex].willUnselect();\n    }\n\n    if (this._blocks[newIndex]) {\n      this._blocks[newIndex].willSelect();\n    }\n\n    this._currentBlockIndex = newIndex;\n  }\n\n  /**\n   * returns first Block\n   *\n   * @returns {Block}\n   */\n  public get firstBlock(): Block {\n    return this._blocks[0];\n  }\n\n  /**\n   * returns last Block\n   *\n   * @returns {Block}\n   */\n  public get lastBlock(): Block {\n    return this._blocks[this._blocks.length - 1];\n  }\n\n  /**\n   * Get current Block instance\n   *\n   * @returns {Block}\n   */\n  public get currentBlock(): Block {\n    return this._blocks[this.currentBlockIndex];\n  }\n\n  /**\n   * Set passed Block as a current\n   *\n   * @param block - block to set as a current\n   */\n  public set currentBlock(block: Block) {\n    this.currentBlockIndex = this.getBlockIndex(block);\n  }\n\n  /**\n   * Returns next Block instance\n   *\n   * @returns {Block|null}\n   */\n  public get nextBlock(): Block {\n    const isLastBlock = this.currentBlockIndex === (this._blocks.length - 1);\n\n    if (isLastBlock) {\n      return null;\n    }\n\n    return this._blocks[this.currentBlockIndex + 1];\n  }\n\n  /**\n   * Return first Block with inputs after current Block\n   *\n   * @returns {Block | undefined}\n   */\n  public get nextContentfulBlock(): Block {\n    const nextBlocks = this.blocks.slice(this.currentBlockIndex + 1);\n\n    return nextBlocks.find((block) => !!block.inputs.length);\n  }\n\n  /**\n   * Return first Block with inputs before current Block\n   *\n   * @returns {Block | undefined}\n   */\n  public get previousContentfulBlock(): Block {\n    const previousBlocks = this.blocks.slice(0, this.currentBlockIndex).reverse();\n\n    return previousBlocks.find((block) => !!block.inputs.length);\n  }\n\n  /**\n   * Returns previous Block instance\n   *\n   * @returns {Block|null}\n   */\n  public get previousBlock(): Block {\n    const isFirstBlock = this.currentBlockIndex === 0;\n\n    if (isFirstBlock) {\n      return null;\n    }\n\n    return this._blocks[this.currentBlockIndex - 1];\n  }\n\n  /**\n   * Get array of Block instances\n   *\n   * @returns {Block[]} {@link Blocks#array}\n   */\n  public get blocks(): Block[] {\n    return this._blocks.array;\n  }\n\n  /**\n   * Check if each Block is empty\n   *\n   * @returns {boolean}\n   */\n  public get isEditorEmpty(): boolean {\n    return this.blocks.every((block) => block.isEmpty);\n  }\n\n  /**\n   * Index of current working block\n   *\n   * @type {number}\n   */\n  private _currentBlockIndex = -1;\n\n  /**\n   * Proxy for Blocks instance {@link Blocks}\n   *\n   * @type {Proxy}\n   * @private\n   */\n  private _blocks: Blocks = null;\n\n  /**\n   * Should be called after Editor.UI preparation\n   * Define this._blocks property\n   */\n  public prepare(): void {\n    const blocks = new Blocks(this.Editor.UI.nodes.redactor);\n\n    /**\n     * We need to use Proxy to overload set/get [] operator.\n     * So we can use array-like syntax to access blocks\n     *\n     * @example\n     * this._blocks[0] = new Block(...);\n     *\n     * block = this._blocks[0];\n     *\n     * @todo proxy the enumerate method\n     *\n     * @type {Proxy}\n     * @private\n     */\n    this._blocks = new Proxy(blocks, {\n      set: Blocks.set,\n      get: Blocks.get,\n    });\n\n    /** Copy event */\n    this.listeners.on(\n      document,\n      'copy',\n      (e: ClipboardEvent) => this.Editor.BlockEvents.handleCommandC(e)\n    );\n  }\n\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - Unbind event handlers from created Blocks\n   *\n   * if readOnly is false:\n   *  - Bind event handlers to all existing Blocks\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.enableModuleBindings();\n    } else {\n      this.disableModuleBindings();\n    }\n  }\n\n  /**\n   * Creates Block instance by tool name\n   *\n   * @param {object} options - block creation options\n   * @param {string} options.tool - tools passed in editor config {@link EditorConfig#tools}\n   * @param {string} [options.id] - unique id for this block\n   * @param {BlockToolData} [options.data] - constructor params\n   *\n   * @returns {Block}\n   */\n  public composeBlock({\n    tool: name,\n    data = {},\n    id = undefined,\n    tunes: tunesData = {},\n  }: {tool: string; id?: string; data?: BlockToolData; tunes?: {[name: string]: BlockTuneData}}): Block {\n    const readOnly = this.Editor.ReadOnly.isEnabled;\n    const tool = this.Editor.Tools.blockTools.get(name);\n    const block = new Block({\n      id,\n      data,\n      tool,\n      api: this.Editor.API,\n      readOnly,\n      tunesData,\n    });\n\n    if (!readOnly) {\n      this.bindBlockEvents(block);\n    }\n\n    return block;\n  }\n\n  /**\n   * Insert new block into _blocks\n   *\n   * @param {object} options - insert options\n   * @param {string} [options.id] - block's unique id\n   * @param {string} [options.tool] - plugin name, by default method inserts the default block type\n   * @param {object} [options.data] - plugin data\n   * @param {number} [options.index] - index where to insert new Block\n   * @param {boolean} [options.needToFocus] - flag shows if needed to update current Block index\n   * @param {boolean} [options.replace] - flag shows if block by passed index should be replaced with inserted one\n   *\n   * @returns {Block}\n   */\n  public insert({\n    id = undefined,\n    tool = this.config.defaultBlock,\n    data = {},\n    index,\n    needToFocus = true,\n    replace = false,\n    tunes = {},\n  }: {\n    id?: string;\n    tool?: string;\n    data?: BlockToolData;\n    index?: number;\n    needToFocus?: boolean;\n    replace?: boolean;\n    tunes?: {[name: string]: BlockTuneData};\n  } = {}): Block {\n    let newIndex = index;\n\n    if (newIndex === undefined) {\n      newIndex = this.currentBlockIndex + (replace ? 0 : 1);\n    }\n\n    const block = this.composeBlock({\n      id,\n      tool,\n      data,\n      tunes,\n    });\n\n    /**\n     * In case of block replacing (Converting OR from Toolbox or Shortcut on empty block OR on-paste to empty block)\n     * we need to dispatch the 'block-removing' event for the replacing block\n     */\n    if (replace) {\n      this.blockDidMutated(BlockMutationType.Removed, this.getBlockByIndex(newIndex), {\n        index: newIndex,\n      });\n    }\n\n    this._blocks.insert(newIndex, block, replace);\n\n    /**\n     * Force call of didMutated event on Block insertion\n     */\n    this.blockDidMutated(BlockMutationType.Added, block, {\n      index: newIndex,\n    });\n\n    if (needToFocus) {\n      this.currentBlockIndex = newIndex;\n    } else if (newIndex <= this.currentBlockIndex) {\n      this.currentBlockIndex++;\n    }\n\n    return block;\n  }\n\n  /**\n   * Replace current working block\n   *\n   * @param {object} options - replace options\n   * @param {string} options.tool  plugin name\n   * @param {BlockToolData} options.data  plugin data\n   *\n   * @returns {Block}\n   */\n  public replace({\n    tool = this.config.defaultBlock,\n    data = {},\n  }): Block {\n    return this.insert({\n      tool,\n      data,\n      index: this.currentBlockIndex,\n      replace: true,\n    });\n  }\n\n  /**\n   * Insert pasted content. Call onPaste callback after insert.\n   *\n   * @param {string} toolName - name of Tool to insert\n   * @param {PasteEvent} pasteEvent - pasted data\n   * @param {boolean} replace - should replace current block\n   */\n  public paste(\n    toolName: string,\n    pasteEvent: PasteEvent,\n    replace = false\n  ): Block {\n    const block = this.insert({\n      tool: toolName,\n      replace,\n    });\n\n    try {\n      block.call(BlockToolAPI.ON_PASTE, pasteEvent);\n    } catch (e) {\n      _.log(`${toolName}: onPaste callback call is failed`, 'error', e);\n    }\n\n    return block;\n  }\n\n  /**\n   * Insert new default block at passed index\n   *\n   * @param {number} index - index where Block should be inserted\n   * @param {boolean} needToFocus - if true, updates current Block index\n   *\n   * TODO: Remove method and use insert() with index instead (?)\n   *\n   * @returns {Block} inserted Block\n   */\n  public insertDefaultBlockAtIndex(index: number, needToFocus = false): Block {\n    const block = this.composeBlock({ tool: this.config.defaultBlock });\n\n    this._blocks[index] = block;\n\n    /**\n     * Force call of didMutated event on Block insertion\n     */\n    this.blockDidMutated(BlockMutationType.Added, block, {\n      index,\n    });\n\n    if (needToFocus) {\n      this.currentBlockIndex = index;\n    } else if (index <= this.currentBlockIndex) {\n      this.currentBlockIndex++;\n    }\n\n    return block;\n  }\n\n  /**\n   * Always inserts at the end\n   *\n   * @returns {Block}\n   */\n  public insertAtEnd(): Block {\n    /**\n     * Define new value for current block index\n     */\n    this.currentBlockIndex = this.blocks.length - 1;\n\n    /**\n     * Insert the default typed block\n     */\n    return this.insert();\n  }\n\n  /**\n   * Merge two blocks\n   *\n   * @param {Block} targetBlock - previous block will be append to this block\n   * @param {Block} blockToMerge - block that will be merged with target block\n   *\n   * @returns {Promise} - the sequence that can be continued\n   */\n  public async mergeBlocks(targetBlock: Block, blockToMerge: Block): Promise<void> {\n    const blockToMergeIndex = this._blocks.indexOf(blockToMerge);\n\n    if (blockToMerge.isEmpty) {\n      return;\n    }\n\n    const blockToMergeData = await blockToMerge.data;\n\n    if (!_.isEmpty(blockToMergeData)) {\n      await targetBlock.mergeWith(blockToMergeData);\n    }\n\n    this.removeBlock(blockToMergeIndex);\n    this.currentBlockIndex = this._blocks.indexOf(targetBlock);\n  }\n\n  /**\n   * Remove block with passed index or remove last\n   *\n   * @param {number|null} index - index of Block to remove\n   * @throws {Error} if Block to remove is not found\n   */\n  public removeBlock(index = this.currentBlockIndex): void {\n    /**\n     * If index is not passed and there is no block selected, show a warning\n     */\n    if (!this.validateIndex(index)) {\n      throw new Error('Can\\'t find a Block to remove');\n    }\n\n    const blockToRemove = this._blocks[index];\n\n    blockToRemove.destroy();\n    this._blocks.remove(index);\n\n    /**\n     * Force call of didMutated event on Block removal\n     */\n    this.blockDidMutated(BlockMutationType.Removed, blockToRemove, {\n      index,\n    });\n\n    if (this.currentBlockIndex >= index) {\n      this.currentBlockIndex--;\n    }\n\n    /**\n     * If first Block was removed, insert new Initial Block and set focus on it`s first input\n     */\n    if (!this.blocks.length) {\n      this.currentBlockIndex = -1;\n      this.insert();\n    } else if (index === 0) {\n      this.currentBlockIndex = 0;\n    }\n  }\n\n  /**\n   * Remove only selected Blocks\n   * and returns first Block index where started removing...\n   *\n   * @returns {number|undefined}\n   */\n  public removeSelectedBlocks(): number | undefined {\n    let firstSelectedBlockIndex;\n\n    /**\n     * Remove selected Blocks from the end\n     */\n    for (let index = this.blocks.length - 1; index >= 0; index--) {\n      if (!this.blocks[index].selected) {\n        continue;\n      }\n\n      this.removeBlock(index);\n      firstSelectedBlockIndex = index;\n    }\n\n    return firstSelectedBlockIndex;\n  }\n\n  /**\n   * Attention!\n   * After removing insert the new default typed Block and focus on it\n   * Removes all blocks\n   */\n  public removeAllBlocks(): void {\n    for (let index = this.blocks.length - 1; index >= 0; index--) {\n      this._blocks.remove(index);\n    }\n\n    this.currentBlockIndex = -1;\n    this.insert();\n    this.currentBlock.firstInput.focus();\n  }\n\n  /**\n   * Split current Block\n   * 1. Extract content from Caret position to the Block`s end\n   * 2. Insert a new Block below current one with extracted content\n   *\n   * @returns {Block}\n   */\n  public split(): Block {\n    const extractedFragment = this.Editor.Caret.extractFragmentFromCaretPosition();\n    const wrapper = $.make('div');\n\n    wrapper.appendChild(extractedFragment as DocumentFragment);\n\n    /**\n     * @todo make object in accordance with Tool\n     */\n    const data = {\n      text: $.isEmpty(wrapper) ? '' : wrapper.innerHTML,\n    };\n\n    /**\n     * Renew current Block\n     *\n     * @type {Block}\n     */\n    return this.insert({ data });\n  }\n\n  /**\n   * Returns Block by passed index\n   *\n   * @param {number} index - index to get. -1 to get last\n   *\n   * @returns {Block}\n   */\n  public getBlockByIndex(index): Block {\n    if (index === -1) {\n      index = this._blocks.length - 1;\n    }\n\n    return this._blocks[index];\n  }\n\n  /**\n   * Returns an index for passed Block\n   *\n   * @param block - block to find index\n   */\n  public getBlockIndex(block: Block): number {\n    return this._blocks.indexOf(block);\n  }\n\n  /**\n   * Returns the Block by passed id\n   *\n   * @param id - id of block to get\n   *\n   * @returns {Block}\n   */\n  public getBlockById(id): Block | undefined {\n    return this._blocks.array.find(block => block.id === id);\n  }\n\n  /**\n   * Get Block instance by html element\n   *\n   * @param {Node} element - html element to get Block by\n   *\n   * @returns {Block}\n   */\n  public getBlock(element: HTMLElement): Block {\n    if (!$.isElement(element) as boolean) {\n      element = element.parentNode as HTMLElement;\n    }\n\n    const nodes = this._blocks.nodes,\n        firstLevelBlock = element.closest(`.${Block.CSS.wrapper}`),\n        index = nodes.indexOf(firstLevelBlock as HTMLElement);\n\n    if (index >= 0) {\n      return this._blocks[index];\n    }\n  }\n\n  /**\n   * Remove selection from all Blocks then highlight only Current Block\n   */\n  public highlightCurrentNode(): void {\n    /**\n     * Remove previous selected Block's state\n     */\n    this.clearFocused();\n\n    /**\n     * Mark current Block as selected\n     *\n     * @type {boolean}\n     */\n    this.currentBlock.focused = true;\n  }\n\n  /**\n   * Remove selection from all Blocks\n   */\n  public clearFocused(): void {\n    this.blocks.forEach((block) => {\n      block.focused = false;\n    });\n  }\n\n  /**\n   * 1) Find first-level Block from passed child Node\n   * 2) Mark it as current\n   *\n   * @param {Node} childNode - look ahead from this node.\n   * @returns {Block | undefined} can return undefined in case when the passed child note is not a part of the current editor instance\n   */\n  public setCurrentBlockByChildNode(childNode: Node): Block | undefined {\n    /**\n     * If node is Text TextNode\n     */\n    if (!$.isElement(childNode)) {\n      childNode = childNode.parentNode;\n    }\n\n    const parentFirstLevelBlock = (childNode as HTMLElement).closest(`.${Block.CSS.wrapper}`);\n\n    if (!parentFirstLevelBlock) {\n      return;\n    }\n\n    /**\n     * Support multiple Editor.js instances,\n     * by checking whether the found block belongs to the current instance\n     *\n     * @see {@link Ui#documentTouched}\n     */\n    const editorWrapper = parentFirstLevelBlock.closest(`.${this.Editor.UI.CSS.editorWrapper}`);\n    const isBlockBelongsToCurrentInstance = editorWrapper?.isEqualNode(this.Editor.UI.nodes.wrapper);\n\n    if (!isBlockBelongsToCurrentInstance) {\n      return;\n    }\n\n    /**\n     * Update current Block's index\n     *\n     * @type {number}\n     */\n    this.currentBlockIndex = this._blocks.nodes.indexOf(parentFirstLevelBlock as HTMLElement);\n\n    /**\n     * Update current block active input\n     */\n    this.currentBlock.updateCurrentInput();\n\n    return this.currentBlock;\n  }\n\n  /**\n   * Return block which contents passed node\n   *\n   * @param {Node} childNode - node to get Block by\n   *\n   * @returns {Block}\n   */\n  public getBlockByChildNode(childNode: Node): Block {\n    /**\n     * If node is Text TextNode\n     */\n    if (!$.isElement(childNode)) {\n      childNode = childNode.parentNode;\n    }\n\n    const firstLevelBlock = (childNode as HTMLElement).closest(`.${Block.CSS.wrapper}`);\n\n    return this.blocks.find((block) => block.holder === firstLevelBlock);\n  }\n\n  /**\n   * Swap Blocks Position\n   *\n   * @param {number} fromIndex - index of first block\n   * @param {number} toIndex - index of second block\n   *\n   * @deprecated  use 'move' instead\n   */\n  public swap(fromIndex, toIndex): void {\n    /** Move up current Block */\n    this._blocks.swap(fromIndex, toIndex);\n\n    /** Now actual block moved up so that current block index decreased */\n    this.currentBlockIndex = toIndex;\n  }\n\n  /**\n   * Move a block to a new index\n   *\n   * @param {number} toIndex - index where to move Block\n   * @param {number} fromIndex - index of Block to move\n   */\n  public move(toIndex, fromIndex = this.currentBlockIndex): void {\n    // make sure indexes are valid and within a valid range\n    if (isNaN(toIndex) || isNaN(fromIndex)) {\n      _.log(`Warning during 'move' call: incorrect indices provided.`, 'warn');\n\n      return;\n    }\n\n    if (!this.validateIndex(toIndex) || !this.validateIndex(fromIndex)) {\n      _.log(`Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.`, 'warn');\n\n      return;\n    }\n\n    /** Move up current Block */\n    this._blocks.move(toIndex, fromIndex);\n\n    /** Now actual block moved so that current block index changed */\n    this.currentBlockIndex = toIndex;\n\n    /**\n     * Force call of didMutated event on Block movement\n     */\n    this.blockDidMutated(BlockMutationType.Moved, this.currentBlock, {\n      fromIndex,\n      toIndex,\n    });\n  }\n\n  /**\n   * Sets current Block Index -1 which means unknown\n   * and clear highlights\n   */\n  public dropPointer(): void {\n    this.currentBlockIndex = -1;\n    this.clearFocused();\n  }\n\n  /**\n   * Clears Editor\n   *\n   * @param {boolean} needToAddDefaultBlock - 1) in internal calls (for example, in api.blocks.render)\n   *                                             we don't need to add an empty default block\n   *                                        2) in api.blocks.clear we should add empty block\n   */\n  public clear(needToAddDefaultBlock = false): void {\n    this._blocks.removeAll();\n    this.dropPointer();\n\n    if (needToAddDefaultBlock) {\n      this.insert();\n    }\n\n    /**\n     * Add empty modifier\n     */\n    this.Editor.UI.checkEmptiness();\n  }\n\n  /**\n   * Cleans up all the block tools' resources\n   * This is called when editor is destroyed\n   */\n  public async destroy(): Promise<void> {\n    await Promise.all(this.blocks.map((block) => {\n      return block.destroy();\n    }));\n  }\n\n  /**\n   * Bind Block events\n   *\n   * @param {Block} block - Block to which event should be bound\n   */\n  private bindBlockEvents(block: Block): void {\n    const { BlockEvents } = this.Editor;\n\n    this.readOnlyMutableListeners.on(block.holder, 'keydown', (event: KeyboardEvent) => {\n      BlockEvents.keydown(event);\n    });\n\n    this.readOnlyMutableListeners.on(block.holder, 'keyup', (event: KeyboardEvent) => {\n      BlockEvents.keyup(event);\n    });\n\n    this.readOnlyMutableListeners.on(block.holder, 'dragover', (event: DragEvent) => {\n      BlockEvents.dragOver(event);\n    });\n\n    this.readOnlyMutableListeners.on(block.holder, 'dragleave', (event: DragEvent) => {\n      BlockEvents.dragLeave(event);\n    });\n\n    block.on('didMutated', (affectedBlock: Block) => {\n      return this.blockDidMutated(BlockMutationType.Changed, affectedBlock, {\n        index: this.getBlockIndex(affectedBlock),\n      });\n    });\n  }\n\n  /**\n   * Disable mutable handlers and bindings\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Enables all module handlers and bindings for all Blocks\n   */\n  private enableModuleBindings(): void {\n    /** Cut event */\n    this.readOnlyMutableListeners.on(\n      document,\n      'cut',\n      (e: ClipboardEvent) => this.Editor.BlockEvents.handleCommandX(e)\n    );\n\n    this.blocks.forEach((block: Block) => {\n      this.bindBlockEvents(block);\n    });\n  }\n\n  /**\n   * Validates that the given index is not lower than 0 or higher than the amount of blocks\n   *\n   * @param {number} index - index of blocks array to validate\n   *\n   * @returns {boolean}\n   */\n  private validateIndex(index: number): boolean {\n    return !(index < 0 || index >= this._blocks.length);\n  }\n\n  /**\n   * Block mutation callback\n   *\n   * @param mutationType - what happened with block\n   * @param block - mutated block\n   * @param details - additional data to pass with change event\n   */\n  private blockDidMutated(mutationType: BlockMutationType, block: Block, details: Record<string, unknown> = {}): Block {\n    const event = new CustomEvent(mutationType, {\n      detail: {\n        target: new BlockAPI(block),\n        ...details,\n      },\n    });\n\n    this.Editor.ModificationsObserver.onChange(event);\n\n    return block;\n  }\n}\n","/**\n * @class BlockSelection\n * @classdesc Manages Block selection with shortcut CMD+A\n *\n * @module BlockSelection\n * @version 1.0.0\n */\nimport Module from '../__module';\nimport Block from '../block';\nimport * as _ from '../utils';\nimport $ from '../dom';\nimport Shortcuts from '../utils/shortcuts';\n\nimport SelectionUtils from '../selection';\nimport { SanitizerConfig } from '../../../types/configs';\nimport { clean } from '../utils/sanitizer';\n\n/**\n *\n */\nexport default class BlockSelection extends Module {\n  /**\n   * Sometimes .anyBlockSelected can be called frequently,\n   * for example at ui@selectionChange (to clear native browser selection in CBS)\n   * We use cache to prevent multiple iterations through all the blocks\n   *\n   * @private\n   */\n  private anyBlockSelectedCache: boolean | null = null;\n\n  /**\n   * Sanitizer Config\n   *\n   * @returns {SanitizerConfig}\n   */\n  private get sanitizerConfig(): SanitizerConfig {\n    return {\n      p: {},\n      h1: {},\n      h2: {},\n      h3: {},\n      h4: {},\n      h5: {},\n      h6: {},\n      ol: {},\n      ul: {},\n      li: {},\n      br: true,\n      img: {\n        src: true,\n        width: true,\n        height: true,\n      },\n      a: {\n        href: true,\n      },\n      b: {},\n      i: {},\n      u: {},\n    };\n  }\n\n  /**\n   * Flag that identifies all Blocks selection\n   *\n   * @returns {boolean}\n   */\n  public get allBlocksSelected(): boolean {\n    const { BlockManager } = this.Editor;\n\n    return BlockManager.blocks.every((block) => block.selected === true);\n  }\n\n  /**\n   * Set selected all blocks\n   *\n   * @param {boolean} state - state to set\n   */\n  public set allBlocksSelected(state: boolean) {\n    const { BlockManager } = this.Editor;\n\n    BlockManager.blocks.forEach((block) => {\n      block.selected = state;\n    });\n\n    this.clearCache();\n  }\n\n  /**\n   * Flag that identifies any Block selection\n   *\n   * @returns {boolean}\n   */\n  public get anyBlockSelected(): boolean {\n    const { BlockManager } = this.Editor;\n\n    if (this.anyBlockSelectedCache === null) {\n      this.anyBlockSelectedCache = BlockManager.blocks.some((block) => block.selected === true);\n    }\n\n    return this.anyBlockSelectedCache;\n  }\n\n  /**\n   * Return selected Blocks array\n   *\n   * @returns {Block[]}\n   */\n  public get selectedBlocks(): Block[] {\n    return this.Editor.BlockManager.blocks.filter((block: Block) => block.selected);\n  }\n\n  /**\n   * Flag used to define block selection\n   * First CMD+A defines it as true and then second CMD+A selects all Blocks\n   *\n   * @type {boolean}\n   */\n  private needToSelectAll = false;\n\n  /**\n   * Flag used to define native input selection\n   * In this case we allow double CMD+A to select Block\n   *\n   * @type {boolean}\n   */\n  private nativeInputSelected = false;\n\n  /**\n   * Flag identifies any input selection\n   * That means we can select whole Block\n   *\n   * @type {boolean}\n   */\n  private readyToBlockSelection = false;\n\n  /**\n   * SelectionUtils instance\n   *\n   * @type {SelectionUtils}\n   */\n  private selection: SelectionUtils;\n\n  /**\n   * Module Preparation\n   * Registers Shortcuts CMD+A and CMD+C\n   * to select all and copy them\n   */\n  public prepare(): void {\n    this.selection = new SelectionUtils();\n\n    /**\n     * CMD/CTRL+A selection shortcut\n     */\n    Shortcuts.add({\n      name: 'CMD+A',\n      handler: (event) => {\n        const { BlockManager, ReadOnly } = this.Editor;\n\n        /**\n         * We use Editor's Block selection on CMD+A ShortCut instead of Browsers\n         */\n        if (ReadOnly.isEnabled) {\n          event.preventDefault();\n          this.selectAllBlocks();\n\n          return;\n        }\n\n        /**\n         * When one page consist of two or more EditorJS instances\n         * Shortcut module tries to handle all events.\n         * Thats why Editor's selection works inside the target Editor, but\n         * for others error occurs because nothing to select.\n         *\n         * Prevent such actions if focus is not inside the Editor\n         */\n        if (!BlockManager.currentBlock) {\n          return;\n        }\n\n        this.handleCommandA(event);\n      },\n      on: this.Editor.UI.nodes.redactor,\n    });\n  }\n\n  /**\n   * Toggle read-only state\n   *\n   *  - Remove all ranges\n   *  - Unselect all Blocks\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    SelectionUtils.get()\n      .removeAllRanges();\n\n    this.allBlocksSelected = false;\n  }\n\n  /**\n   * Remove selection of Block\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  public unSelectBlockByIndex(index?): void {\n    const { BlockManager } = this.Editor;\n\n    let block;\n\n    if (isNaN(index)) {\n      block = BlockManager.currentBlock;\n    } else {\n      block = BlockManager.getBlockByIndex(index);\n    }\n\n    block.selected = false;\n\n    this.clearCache();\n  }\n\n  /**\n   * Clear selection from Blocks\n   *\n   * @param {Event} reason - event caused clear of selection\n   * @param {boolean} restoreSelection - if true, restore saved selection\n   */\n  public clearSelection(reason?: Event, restoreSelection = false): void {\n    const { BlockManager, Caret, RectangleSelection } = this.Editor;\n\n    this.needToSelectAll = false;\n    this.nativeInputSelected = false;\n    this.readyToBlockSelection = false;\n\n    const isKeyboard = reason && (reason instanceof KeyboardEvent);\n    const isPrintableKey = isKeyboard && _.isPrintableKey((reason as KeyboardEvent).keyCode);\n\n    /**\n     * If reason caused clear of the selection was printable key and any block is selected,\n     * remove selected blocks and insert pressed key\n     */\n    if (this.anyBlockSelected && isKeyboard && isPrintableKey && !SelectionUtils.isSelectionExists) {\n      const indexToInsert = BlockManager.removeSelectedBlocks();\n\n      BlockManager.insertDefaultBlockAtIndex(indexToInsert, true);\n      Caret.setToBlock(BlockManager.currentBlock);\n      _.delay(() => {\n        const eventKey = (reason as KeyboardEvent).key;\n\n        /**\n         * If event.key length >1 that means key is special (e.g. Enter or Dead or Unidentifier).\n         * So we use empty string\n         *\n         * @see https://developer.mozilla.org/ru/docs/Web/API/KeyboardEvent/key\n         */\n        Caret.insertContentAtCaretPosition(eventKey.length > 1 ? '' : eventKey);\n      }, 20)();\n    }\n\n    this.Editor.CrossBlockSelection.clear(reason);\n\n    if (!this.anyBlockSelected || RectangleSelection.isRectActivated()) {\n      this.Editor.RectangleSelection.clearSelection();\n\n      return;\n    }\n\n    /**\n     * Restore selection when Block is already selected\n     * but someone tries to write something.\n     */\n    if (restoreSelection) {\n      this.selection.restore();\n    }\n\n    /** Now all blocks cleared */\n    this.allBlocksSelected = false;\n  }\n\n  /**\n   * Reduce each Block and copy its content\n   *\n   * @param {ClipboardEvent} e - copy/cut event\n   *\n   * @returns {Promise<void>}\n   */\n  public copySelectedBlocks(e: ClipboardEvent): Promise<void> {\n    /**\n     * Prevent default copy\n     */\n    e.preventDefault();\n\n    const fakeClipboard = $.make('div');\n\n    this.selectedBlocks.forEach((block) => {\n      /**\n       * Make <p> tag that holds clean HTML\n       */\n      const cleanHTML = clean(block.holder.innerHTML, this.sanitizerConfig);\n      const fragment = $.make('p');\n\n      fragment.innerHTML = cleanHTML;\n      fakeClipboard.appendChild(fragment);\n    });\n\n    const textPlain = Array.from(fakeClipboard.childNodes).map((node) => node.textContent)\n      .join('\\n\\n');\n    const textHTML = fakeClipboard.innerHTML;\n\n    e.clipboardData.setData('text/plain', textPlain);\n    e.clipboardData.setData('text/html', textHTML);\n\n    return Promise\n      .all(this.selectedBlocks.map((block) => block.save()))\n      .then(savedData => {\n        try {\n          e.clipboardData.setData(this.Editor.Paste.MIME_TYPE, JSON.stringify(savedData));\n        } catch (err) {\n          // In Firefox we can't set data in async function\n        }\n      });\n  }\n\n  /**\n   * select Block\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  public selectBlockByIndex(index?): void {\n    const { BlockManager } = this.Editor;\n\n    /**\n     * Remove previous focused Block's state\n     */\n    BlockManager.clearFocused();\n\n    let block;\n\n    if (isNaN(index)) {\n      block = BlockManager.currentBlock;\n    } else {\n      block = BlockManager.getBlockByIndex(index);\n    }\n\n    /** Save selection */\n    this.selection.save();\n    SelectionUtils.get()\n      .removeAllRanges();\n\n    block.selected = true;\n\n    this.clearCache();\n\n    /** close InlineToolbar when we selected any Block */\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * Clear anyBlockSelected cache\n   */\n  public clearCache(): void {\n    this.anyBlockSelectedCache = null;\n  }\n\n  /**\n   * Module destruction\n   * De-registers Shortcut CMD+A\n   */\n  public destroy(): void {\n    /** Selection shortcut */\n    Shortcuts.remove(this.Editor.UI.nodes.redactor, 'CMD+A');\n  }\n\n  /**\n   * First CMD+A selects all input content by native behaviour,\n   * next CMD+A keypress selects all blocks\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private handleCommandA(event: KeyboardEvent): void {\n    this.Editor.RectangleSelection.clearSelection();\n\n    /** allow default selection on native inputs */\n    if ($.isNativeInput(event.target) && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = true;\n\n      return;\n    }\n\n    const workingBlock = this.Editor.BlockManager.getBlock(event.target as HTMLElement);\n    const inputs = workingBlock.inputs;\n\n    /**\n     * If Block has more than one editable element allow native selection\n     * Second cmd+a will select whole Block\n     */\n    if (inputs.length > 1 && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = true;\n\n      return;\n    }\n\n    if (inputs.length === 1 && !this.needToSelectAll) {\n      this.needToSelectAll = true;\n\n      return;\n    }\n\n    if (this.needToSelectAll) {\n      /**\n       * Prevent default selection\n       */\n      event.preventDefault();\n\n      this.selectAllBlocks();\n\n      /**\n       * Disable any selection after all Blocks selected\n       */\n      this.needToSelectAll = false;\n      this.readyToBlockSelection = false;\n\n      /**\n       * Close ConversionToolbar when all Blocks selected\n       */\n      this.Editor.ConversionToolbar.close();\n    } else if (this.readyToBlockSelection) {\n      /**\n       * prevent default selection when we use custom selection\n       */\n      event.preventDefault();\n\n      /**\n       * select working Block\n       */\n      this.selectBlockByIndex();\n\n      /**\n       * Enable all Blocks selection if current Block is selected\n       */\n      this.needToSelectAll = true;\n    }\n  }\n\n  /**\n   * Select All Blocks\n   * Each Block has selected setter that makes Block copyable\n   */\n  private selectAllBlocks(): void {\n    /**\n     * Save selection\n     * Will be restored when closeSelection fired\n     */\n    this.selection.save();\n\n    /**\n     * Remove Ranges from Selection\n     */\n    SelectionUtils.get()\n      .removeAllRanges();\n\n    this.allBlocksSelected = true;\n\n    /** close InlineToolbar if we selected all Blocks */\n    this.Editor.InlineToolbar.close();\n  }\n}\n","/**\n * @class Caret\n * @classdesc Contains methods for working Caret\n *\n * Uses Range methods to manipulate with caret\n *\n * @module Caret\n *\n * @version 2.0.0\n */\n\nimport Selection from '../selection';\nimport Module from '../__module';\nimport Block from '../block';\nimport $ from '../dom';\nimport * as _ from '../utils';\n\n/**\n * @typedef {Caret} Caret\n */\nexport default class Caret extends Module {\n  /**\n   * Allowed caret positions in input\n   *\n   * @static\n   * @returns {{START: string, END: string, DEFAULT: string}}\n   */\n  public get positions(): {START: string; END: string; DEFAULT: string} {\n    return {\n      START: 'start',\n      END: 'end',\n      DEFAULT: 'default',\n    };\n  }\n\n  /**\n   * Elements styles that can be useful for Caret Module\n   */\n  private static get CSS(): {shadowCaret: string} {\n    return {\n      shadowCaret: 'cdx-shadow-caret',\n    };\n  }\n\n  /**\n   * Get's deepest first node and checks if offset is zero\n   *\n   * @returns {boolean}\n   */\n  public get isAtStart(): boolean {\n    const selection = Selection.get();\n    const firstNode = $.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);\n    let focusNode = selection.focusNode;\n\n    /** In case lastNode is native input */\n    if ($.isNativeInput(firstNode)) {\n      return (firstNode as HTMLInputElement).selectionEnd === 0;\n    }\n\n    /** Case when selection have been cleared programmatically, for example after CBS */\n    if (!selection.anchorNode) {\n      return false;\n    }\n\n    /**\n     * Workaround case when caret in the text like \" |Hello!\"\n     * selection.anchorOffset is 1, but real caret visible position is 0\n     *\n     * @type {number}\n     */\n\n    let firstLetterPosition = focusNode.textContent.search(/\\S/);\n\n    if (firstLetterPosition === -1) { // empty text\n      firstLetterPosition = 0;\n    }\n\n    /**\n     * If caret was set by external code, it might be set to text node wrapper.\n     * <div>|hello</div> <---- Selection references to <div> instead of text node\n     *\n     * In this case, anchor node has ELEMENT_NODE node type.\n     * Anchor offset shows amount of children between start of the element and caret position.\n     *\n     * So we use child with focusOffset index as new anchorNode.\n     */\n    let focusOffset = selection.focusOffset;\n\n    if (focusNode.nodeType !== Node.TEXT_NODE && focusNode.childNodes.length) {\n      if (focusNode.childNodes[focusOffset]) {\n        focusNode = focusNode.childNodes[focusOffset];\n        focusOffset = 0;\n      } else {\n        focusNode = focusNode.childNodes[focusOffset - 1];\n        focusOffset = focusNode.textContent.length;\n      }\n    }\n\n    /**\n     * In case of\n     * <div contenteditable>\n     *     <p><b></b></p>   <-- first (and deepest) node is <b></b>\n     *     |adaddad         <-- focus node\n     * </div>\n     */\n    if ($.isLineBreakTag(firstNode as HTMLElement) || $.isEmpty(firstNode)) {\n      const leftSiblings = this.getHigherLevelSiblings(focusNode as HTMLElement, 'left');\n      const nothingAtLeft = leftSiblings.every((node) => {\n        /**\n         * Workaround case when block starts with several <br>'s (created by SHIFT+ENTER)\n         *\n         * @see https://github.com/codex-team/editor.js/issues/726\n         * We need to allow to delete such linebreaks, so in this case caret IS NOT AT START\n         */\n        const regularLineBreak = $.isLineBreakTag(node);\n        /**\n         * Workaround SHIFT+ENTER in Safari, that creates <div><br></div> instead of <br>\n         */\n        const lineBreakInSafari = node.children.length === 1 && $.isLineBreakTag(node.children[0] as HTMLElement);\n        const isLineBreak = regularLineBreak || lineBreakInSafari;\n\n        return $.isEmpty(node) && !isLineBreak;\n      });\n\n      if (nothingAtLeft && focusOffset === firstLetterPosition) {\n        return true;\n      }\n    }\n\n    /**\n     * We use <= comparison for case:\n     * \"| Hello\"  <--- selection.anchorOffset is 0, but firstLetterPosition is 1\n     */\n    return firstNode === null || (focusNode === firstNode && focusOffset <= firstLetterPosition);\n  }\n\n  /**\n   * Get's deepest last node and checks if offset is last node text length\n   *\n   * @returns {boolean}\n   */\n  public get isAtEnd(): boolean {\n    const selection = Selection.get();\n    let focusNode = selection.focusNode;\n\n    const lastNode = $.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput, true);\n\n    /** In case lastNode is native input */\n    if ($.isNativeInput(lastNode)) {\n      return (lastNode as HTMLInputElement).selectionEnd === (lastNode as HTMLInputElement).value.length;\n    }\n\n    /** Case when selection have been cleared programmatically, for example after CBS */\n    if (!selection.focusNode) {\n      return false;\n    }\n\n    /**\n     * If caret was set by external code, it might be set to text node wrapper.\n     * <div>hello|</div> <---- Selection references to <div> instead of text node\n     *\n     * In this case, anchor node has ELEMENT_NODE node type.\n     * Anchor offset shows amount of children between start of the element and caret position.\n     *\n     * So we use child with anchofocusOffset - 1 as new focusNode.\n     */\n    let focusOffset = selection.focusOffset;\n\n    if (focusNode.nodeType !== Node.TEXT_NODE && focusNode.childNodes.length) {\n      if (focusNode.childNodes[focusOffset - 1]) {\n        focusNode = focusNode.childNodes[focusOffset - 1];\n        focusOffset = focusNode.textContent.length;\n      } else {\n        focusNode = focusNode.childNodes[0];\n        focusOffset = 0;\n      }\n    }\n\n    /**\n     * In case of\n     * <div contenteditable>\n     *     adaddad|         <-- anchor node\n     *     <p><b></b></p>   <-- first (and deepest) node is <b></b>\n     * </div>\n     */\n    if ($.isLineBreakTag(lastNode as HTMLElement) || $.isEmpty(lastNode)) {\n      const rightSiblings = this.getHigherLevelSiblings(focusNode as HTMLElement, 'right');\n      const nothingAtRight = rightSiblings.every((node, i) => {\n        /**\n         * If last right sibling is BR isEmpty returns false, but there actually nothing at right\n         */\n        const isLastBR = i === rightSiblings.length - 1 && $.isLineBreakTag(node as HTMLElement);\n\n        return isLastBR || ($.isEmpty(node) && !$.isLineBreakTag(node));\n      });\n\n      if (nothingAtRight && focusOffset === focusNode.textContent.length) {\n        return true;\n      }\n    }\n\n    /**\n     * Workaround case:\n     * hello |     <--- anchorOffset will be 5, but textContent.length will be 6.\n     * Why not regular .trim():\n     *  in case of ' hello |' trim() will also remove space at the beginning, so length will be lower than anchorOffset\n     */\n    const rightTrimmedText = lastNode.textContent.replace(/\\s+$/, '');\n\n    /**\n     * We use >= comparison for case:\n     * \"Hello |\"  <--- selection.anchorOffset is 7, but rightTrimmedText is 6\n     */\n    return focusNode === lastNode && focusOffset >= rightTrimmedText.length;\n  }\n\n  /**\n   * Method gets Block instance and puts caret to the text node with offset\n   * There two ways that method applies caret position:\n   *   - first found text node: sets at the beginning, but you can pass an offset\n   *   - last found text node: sets at the end of the node. Also, you can customize the behaviour\n   *\n   * @param {Block} block - Block class\n   * @param {string} position - position where to set caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  public setToBlock(block: Block, position: string = this.positions.DEFAULT, offset = 0): void {\n    const { BlockManager } = this.Editor;\n    let element;\n\n    switch (position) {\n      case this.positions.START:\n        element = block.firstInput;\n        break;\n      case this.positions.END:\n        element = block.lastInput;\n        break;\n      default:\n        element = block.currentInput;\n    }\n\n    if (!element) {\n      return;\n    }\n\n    const nodeToSet = $.getDeepestNode(element, position === this.positions.END);\n    const contentLength = $.getContentLength(nodeToSet);\n\n    switch (true) {\n      case position === this.positions.START:\n        offset = 0;\n        break;\n      case position === this.positions.END:\n      case offset > contentLength:\n        offset = contentLength;\n        break;\n    }\n\n    /**\n     * @todo try to fix via Promises or use querySelectorAll to not to use timeout\n     */\n    _.delay(() => {\n      this.set(nodeToSet as HTMLElement, offset);\n    }, 20)();\n\n    BlockManager.setCurrentBlockByChildNode(block.holder);\n    BlockManager.currentBlock.currentInput = element;\n  }\n\n  /**\n   * Set caret to the current input of current Block.\n   *\n   * @param {HTMLElement} input - input where caret should be set\n   * @param {string} position - position of the caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  public setToInput(input: HTMLElement, position: string = this.positions.DEFAULT, offset = 0): void {\n    const { currentBlock } = this.Editor.BlockManager;\n    const nodeToSet = $.getDeepestNode(input);\n\n    switch (position) {\n      case this.positions.START:\n        this.set(nodeToSet as HTMLElement, 0);\n        break;\n\n      case this.positions.END:\n        this.set(nodeToSet as HTMLElement, $.getContentLength(nodeToSet));\n        break;\n\n      default:\n        if (offset) {\n          this.set(nodeToSet as HTMLElement, offset);\n        }\n    }\n\n    currentBlock.currentInput = input;\n  }\n\n  /**\n   * Creates Document Range and sets caret to the element with offset\n   *\n   * @param {HTMLElement} element - target node.\n   * @param {number} offset - offset\n   */\n  public set(element: HTMLElement, offset = 0): void {\n    const { top, bottom } = Selection.setCursor(element, offset);\n\n    /** If new cursor position is not visible, scroll to it */\n    const { innerHeight } = window;\n\n    if (top < 0) {\n      window.scrollBy(0, top);\n    }\n    if (bottom > innerHeight) {\n      window.scrollBy(0, bottom - innerHeight);\n    }\n  }\n\n  /**\n   * Set Caret to the last Block\n   * If last block is not empty, append another empty block\n   */\n  public setToTheLastBlock(): void {\n    const lastBlock = this.Editor.BlockManager.lastBlock;\n\n    if (!lastBlock) {\n      return;\n    }\n\n    /**\n     * If last block is empty and it is an defaultBlock, set to that.\n     * Otherwise, append new empty block and set to that\n     */\n    if (lastBlock.tool.isDefault && lastBlock.isEmpty) {\n      this.setToBlock(lastBlock);\n    } else {\n      const newBlock = this.Editor.BlockManager.insertAtEnd();\n\n      this.setToBlock(newBlock);\n    }\n  }\n\n  /**\n   * Extract content fragment of current Block from Caret position to the end of the Block\n   */\n  public extractFragmentFromCaretPosition(): void|DocumentFragment {\n    const selection = Selection.get();\n\n    if (selection.rangeCount) {\n      const selectRange = selection.getRangeAt(0);\n      const currentBlockInput = this.Editor.BlockManager.currentBlock.currentInput;\n\n      selectRange.deleteContents();\n\n      if (currentBlockInput) {\n        if ($.isNativeInput(currentBlockInput)) {\n          /**\n           * If input is native text input we need to use it's value\n           * Text before the caret stays in the input,\n           * while text after the caret is returned as a fragment to be inserted after the block.\n           */\n          const input = currentBlockInput as HTMLInputElement | HTMLTextAreaElement;\n          const newFragment = document.createDocumentFragment();\n\n          const inputRemainingText = input.value.substring(0, input.selectionStart);\n          const fragmentText = input.value.substring(input.selectionStart);\n\n          newFragment.textContent = fragmentText;\n          input.value = inputRemainingText;\n\n          return newFragment;\n        } else {\n          const range = selectRange.cloneRange();\n\n          range.selectNodeContents(currentBlockInput);\n          range.setStart(selectRange.endContainer, selectRange.endOffset);\n\n          return range.extractContents();\n        }\n      }\n    }\n  }\n\n  /**\n   * Set's caret to the next Block or Tool`s input\n   * Before moving caret, we should check if caret position is at the end of Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @returns {boolean}\n   */\n  public navigateNext(): boolean {\n    const { BlockManager } = this.Editor;\n    const { currentBlock, nextContentfulBlock } = BlockManager;\n    const { nextInput } = currentBlock;\n    const isAtEnd = this.isAtEnd;\n\n    let nextBlock = nextContentfulBlock;\n\n    if (!nextBlock && !nextInput) {\n      /**\n       * This code allows to exit from the last non-initial tool:\n       * https://github.com/codex-team/editor.js/issues/1103\n       */\n\n      /**\n       * 1. If there is a last block and it is default, do nothing\n       * 2. If there is a last block and it is non-default --> and caret not at the end <--, do nothing\n       *    (https://github.com/codex-team/editor.js/issues/1414)\n       */\n      if (currentBlock.tool.isDefault || !isAtEnd) {\n        return false;\n      }\n\n      /**\n       * If there is no nextBlock, but currentBlock is not default,\n       * insert new default block at the end and navigate to it\n       */\n      nextBlock = BlockManager.insertAtEnd();\n    }\n\n    if (isAtEnd) {\n      /** If next Tool`s input exists, focus on it. Otherwise set caret to the next Block */\n      if (!nextInput) {\n        this.setToBlock(nextBlock, this.positions.START);\n      } else {\n        this.setToInput(nextInput, this.positions.START);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Set's caret to the previous Tool`s input or Block\n   * Before moving caret, we should check if caret position is start of the Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @returns {boolean}\n   */\n  public navigatePrevious(): boolean {\n    const { currentBlock, previousContentfulBlock } = this.Editor.BlockManager;\n\n    if (!currentBlock) {\n      return false;\n    }\n\n    const { previousInput } = currentBlock;\n\n    if (!previousContentfulBlock && !previousInput) {\n      return false;\n    }\n\n    if (this.isAtStart) {\n      /** If previous Tool`s input exists, focus on it. Otherwise set caret to the previous Block */\n      if (!previousInput) {\n        this.setToBlock(previousContentfulBlock, this.positions.END);\n      } else {\n        this.setToInput(previousInput, this.positions.END);\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Inserts shadow element after passed element where caret can be placed\n   *\n   * @param {Element} element - element after which shadow caret should be inserted\n   */\n  public createShadow(element: Element): void {\n    const shadowCaret = document.createElement('span');\n\n    shadowCaret.classList.add(Caret.CSS.shadowCaret);\n    element.insertAdjacentElement('beforeend', shadowCaret);\n  }\n\n  /**\n   * Restores caret position\n   *\n   * @param {HTMLElement} element - element where caret should be restored\n   */\n  public restoreCaret(element: HTMLElement): void {\n    const shadowCaret = element.querySelector(`.${Caret.CSS.shadowCaret}`);\n\n    if (!shadowCaret) {\n      return;\n    }\n\n    /**\n     * After we set the caret to the required place\n     * we need to clear shadow caret\n     *\n     * - make new range\n     * - select shadowed span\n     * - use extractContent to remove it from DOM\n     */\n    const sel = new Selection();\n\n    sel.expandToTag(shadowCaret as HTMLElement);\n\n    setTimeout(() => {\n      const newRange = document.createRange();\n\n      newRange.selectNode(shadowCaret);\n      newRange.extractContents();\n    }, 50);\n  }\n\n  /**\n   * Inserts passed content at caret position\n   *\n   * @param {string} content - content to insert\n   */\n  public insertContentAtCaretPosition(content: string): void {\n    const fragment = document.createDocumentFragment();\n    const wrapper = document.createElement('div');\n    const selection = Selection.get();\n    const range = Selection.range;\n\n    wrapper.innerHTML = content;\n\n    Array.from(wrapper.childNodes).forEach((child: Node) => fragment.appendChild(child));\n\n    /**\n     * If there is no child node, append empty one\n     */\n    if (fragment.childNodes.length === 0) {\n      fragment.appendChild(new Text());\n    }\n\n    const lastChild = fragment.lastChild;\n\n    range.deleteContents();\n    range.insertNode(fragment);\n\n    /** Cross-browser caret insertion */\n    const newRange = document.createRange();\n\n    newRange.setStart(lastChild, lastChild.textContent.length);\n\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n\n  /**\n   * Get all first-level (first child of [contenteditabel]) siblings from passed node\n   * Then you can check it for emptiness\n   *\n   * @example\n   * <div contenteditable>\n   * <p></p>                            |\n   * <p></p>                            | left first-level siblings\n   * <p></p>                            |\n   * <blockquote><a><b>adaddad</b><a><blockquote>       <-- passed node for example <b>\n   * <p></p>                            |\n   * <p></p>                            | right first-level siblings\n   * <p></p>                            |\n   * </div>\n   *\n   * @param {HTMLElement} from - element from which siblings should be searched\n   * @param {'left' | 'right'} direction - direction of search\n   *\n   * @returns {HTMLElement[]}\n   */\n  private getHigherLevelSiblings(from: HTMLElement, direction?: 'left' | 'right'): HTMLElement[] {\n    let current = from;\n    const siblings = [];\n\n    /**\n     * Find passed node's firs-level parent (in example - blockquote)\n     */\n    while (current.parentNode && (current.parentNode as HTMLElement).contentEditable !== 'true') {\n      current = current.parentNode as HTMLElement;\n    }\n\n    const sibling = direction === 'left' ? 'previousSibling' : 'nextSibling';\n\n    /**\n     * Find all left/right siblings\n     */\n    while (current[sibling]) {\n      current = current[sibling] as HTMLElement;\n      siblings.push(current);\n    }\n\n    return siblings;\n  }\n}\n","import Module from '../__module';\nimport Block from '../block';\nimport SelectionUtils from '../selection';\nimport * as _ from '../utils';\n\n/**\n *\n */\nexport default class CrossBlockSelection extends Module {\n  /**\n   * Block where selection is started\n   */\n  private firstSelectedBlock: Block;\n\n  /**\n   * Last selected Block\n   */\n  private lastSelectedBlock: Block;\n\n  /**\n   * Module preparation\n   *\n   * @returns {Promise}\n   */\n  public async prepare(): Promise<void> {\n    this.listeners.on(document, 'mousedown', (event: MouseEvent) => {\n      this.enableCrossBlockSelection(event);\n    });\n  }\n\n  /**\n   * Sets up listeners\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  public watchSelection(event: MouseEvent): void {\n    if (event.button !== _.mouseButtons.LEFT) {\n      return;\n    }\n\n    const { BlockManager } = this.Editor;\n\n    this.firstSelectedBlock = BlockManager.getBlock(event.target as HTMLElement);\n    this.lastSelectedBlock = this.firstSelectedBlock;\n\n    this.listeners.on(document, 'mouseover', this.onMouseOver);\n    this.listeners.on(document, 'mouseup', this.onMouseUp);\n  }\n\n  /**\n   * return boolean is cross block selection started\n   */\n  public get isCrossBlockSelectionStarted(): boolean {\n    return !!this.firstSelectedBlock &&\n      !!this.lastSelectedBlock;\n  }\n\n  /**\n   * Change selection state of the next Block\n   * Used for CBS via Shift + arrow keys\n   *\n   * @param {boolean} next - if true, toggle next block. Previous otherwise\n   */\n  public toggleBlockSelectedState(next = true): void {\n    const { BlockManager, BlockSelection } = this.Editor;\n\n    if (!this.lastSelectedBlock) {\n      this.lastSelectedBlock = this.firstSelectedBlock = BlockManager.currentBlock;\n    }\n\n    if (this.firstSelectedBlock === this.lastSelectedBlock) {\n      this.firstSelectedBlock.selected = true;\n\n      BlockSelection.clearCache();\n      SelectionUtils.get().removeAllRanges();\n    }\n\n    const nextBlockIndex = BlockManager.blocks.indexOf(this.lastSelectedBlock) + (next ? 1 : -1);\n    const nextBlock = BlockManager.blocks[nextBlockIndex];\n\n    if (!nextBlock) {\n      return;\n    }\n\n    if (this.lastSelectedBlock.selected !== nextBlock.selected) {\n      nextBlock.selected = true;\n\n      BlockSelection.clearCache();\n    } else {\n      this.lastSelectedBlock.selected = false;\n\n      BlockSelection.clearCache();\n    }\n\n    this.lastSelectedBlock = nextBlock;\n\n    /** close InlineToolbar when Blocks selected */\n    this.Editor.InlineToolbar.close();\n\n    nextBlock.holder.scrollIntoView({\n      block: 'nearest',\n    });\n  }\n\n  /**\n   * Clear saved state\n   *\n   * @param {Event} reason - event caused clear of selection\n   */\n  public clear(reason?: Event): void {\n    const { BlockManager, BlockSelection, Caret } = this.Editor;\n    const fIndex = BlockManager.blocks.indexOf(this.firstSelectedBlock);\n    const lIndex = BlockManager.blocks.indexOf(this.lastSelectedBlock);\n\n    if (BlockSelection.anyBlockSelected && fIndex > -1 && lIndex > -1) {\n      if (reason && reason instanceof KeyboardEvent) {\n        /**\n         * Set caret depending on pressed key if pressed key is an arrow.\n         */\n        switch (reason.keyCode) {\n          case _.keyCodes.DOWN:\n          case _.keyCodes.RIGHT:\n            Caret.setToBlock(BlockManager.blocks[Math.max(fIndex, lIndex)], Caret.positions.END);\n            break;\n\n          case _.keyCodes.UP:\n          case _.keyCodes.LEFT:\n            Caret.setToBlock(BlockManager.blocks[Math.min(fIndex, lIndex)], Caret.positions.START);\n            break;\n          default:\n            Caret.setToBlock(BlockManager.blocks[Math.max(fIndex, lIndex)], Caret.positions.END);\n        }\n      } else {\n        /**\n         * By default set caret at the end of the last selected block\n         */\n        Caret.setToBlock(BlockManager.blocks[Math.max(fIndex, lIndex)], Caret.positions.END);\n      }\n    }\n\n    this.firstSelectedBlock = this.lastSelectedBlock = null;\n  }\n\n  /**\n   * Enables Cross Block Selection\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  private enableCrossBlockSelection(event: MouseEvent): void {\n    const { UI } = this.Editor;\n\n    /**\n     * Each mouse down on must disable selectAll state\n     */\n    if (!SelectionUtils.isCollapsed) {\n      this.Editor.BlockSelection.clearSelection(event);\n    }\n\n    /**\n     * If mouse down is performed inside the editor, we should watch CBS\n     */\n    if (UI.nodes.redactor.contains(event.target as Node)) {\n      this.watchSelection(event);\n    } else {\n      /**\n       * Otherwise, clear selection\n       */\n      this.Editor.BlockSelection.clearSelection(event);\n    }\n  }\n\n  /**\n   * Mouse up event handler.\n   * Removes the listeners\n   */\n  private onMouseUp = (): void => {\n    this.listeners.off(document, 'mouseover', this.onMouseOver);\n    this.listeners.off(document, 'mouseup', this.onMouseUp);\n  }\n\n  /**\n   * Mouse over event handler\n   * Gets target and related blocks and change selected state for blocks in between\n   *\n   * @param {MouseEvent} event - mouse over event\n   */\n  private onMouseOver = (event: MouseEvent): void => {\n    const { BlockManager, BlockSelection } = this.Editor;\n\n    const relatedBlock = BlockManager.getBlockByChildNode(event.relatedTarget as Node) || this.lastSelectedBlock;\n    const targetBlock = BlockManager.getBlockByChildNode(event.target as Node);\n\n    if (!relatedBlock || !targetBlock) {\n      return;\n    }\n\n    if (targetBlock === relatedBlock) {\n      return;\n    }\n\n    if (relatedBlock === this.firstSelectedBlock) {\n      SelectionUtils.get().removeAllRanges();\n\n      relatedBlock.selected = true;\n      targetBlock.selected = true;\n\n      BlockSelection.clearCache();\n\n      return;\n    }\n\n    if (targetBlock === this.firstSelectedBlock) {\n      relatedBlock.selected = false;\n      targetBlock.selected = false;\n\n      BlockSelection.clearCache();\n\n      return;\n    }\n\n    this.Editor.InlineToolbar.close();\n\n    this.toggleBlocksSelectedState(relatedBlock, targetBlock);\n    this.lastSelectedBlock = targetBlock;\n  }\n\n  /**\n   * Change blocks selection state between passed two blocks.\n   *\n   * @param {Block} firstBlock - first block in range\n   * @param {Block} lastBlock - last block in range\n   */\n  private toggleBlocksSelectedState(firstBlock: Block, lastBlock: Block): void {\n    const { BlockManager, BlockSelection } = this.Editor;\n    const fIndex = BlockManager.blocks.indexOf(firstBlock);\n    const lIndex = BlockManager.blocks.indexOf(lastBlock);\n\n    /**\n     * If first and last block have the different selection state\n     * it means we should't toggle selection of the first selected block.\n     * In the other case we shouldn't toggle the last selected block.\n     */\n    const shouldntSelectFirstBlock = firstBlock.selected !== lastBlock.selected;\n\n    for (let i = Math.min(fIndex, lIndex); i <= Math.max(fIndex, lIndex); i++) {\n      const block = BlockManager.blocks[i];\n\n      if (\n        block !== this.firstSelectedBlock &&\n        block !== (shouldntSelectFirstBlock ? firstBlock : lastBlock)\n      ) {\n        BlockManager.blocks[i].selected = !BlockManager.blocks[i].selected;\n\n        BlockSelection.clearCache();\n      }\n    }\n  }\n}\n","import SelectionUtils from '../selection';\n\nimport Module from '../__module';\n/**\n *\n */\nexport default class DragNDrop extends Module {\n  /**\n   * If drag has been started at editor, we save it\n   *\n   * @type {boolean}\n   * @private\n   */\n  private isStartedAtEditor = false;\n\n  /**\n   * Toggle read-only state\n   *\n   * if state is true:\n   *  - disable all drag-n-drop event handlers\n   *\n   * if state is false:\n   *  - restore drag-n-drop event handlers\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (readOnlyEnabled) {\n      this.disableModuleBindings();\n    } else {\n      this.enableModuleBindings();\n    }\n  }\n\n  /**\n   * Add drag events listeners to editor zone\n   */\n  private enableModuleBindings(): void {\n    const { UI } = this.Editor;\n\n    this.readOnlyMutableListeners.on(UI.nodes.holder, 'drop', async (dropEvent: DragEvent) => {\n      await this.processDrop(dropEvent);\n    }, true);\n\n    this.readOnlyMutableListeners.on(UI.nodes.holder, 'dragstart', () => {\n      this.processDragStart();\n    });\n\n    /**\n     * Prevent default browser behavior to allow drop on non-contenteditable elements\n     */\n    this.readOnlyMutableListeners.on(UI.nodes.holder, 'dragover', (dragEvent: DragEvent) => {\n      this.processDragOver(dragEvent);\n    }, true);\n  }\n\n  /**\n   * Unbind drag-n-drop event handlers\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Handle drop event\n   *\n   * @param {DragEvent} dropEvent - drop event\n   */\n  private async processDrop(dropEvent: DragEvent): Promise<void> {\n    const {\n      BlockManager,\n      Caret,\n      Paste,\n    } = this.Editor;\n\n    dropEvent.preventDefault();\n\n    BlockManager.blocks.forEach((block) => {\n      block.dropTarget = false;\n    });\n\n    if (SelectionUtils.isAtEditor && !SelectionUtils.isCollapsed && this.isStartedAtEditor) {\n      document.execCommand('delete');\n    }\n\n    this.isStartedAtEditor = false;\n\n    /**\n     * Try to set current block by drop target.\n     * If drop target is not part of the Block, set last Block as current.\n     */\n    const targetBlock = BlockManager.setCurrentBlockByChildNode(dropEvent.target as Node);\n\n    if (targetBlock) {\n      this.Editor.Caret.setToBlock(targetBlock, Caret.positions.END);\n    } else {\n      const lastBlock = BlockManager.setCurrentBlockByChildNode(BlockManager.lastBlock.holder);\n\n      this.Editor.Caret.setToBlock(lastBlock, Caret.positions.END);\n    }\n\n    await Paste.processDataTransfer(dropEvent.dataTransfer, true);\n  }\n\n  /**\n   * Handle drag start event\n   */\n  private processDragStart(): void {\n    if (SelectionUtils.isAtEditor && !SelectionUtils.isCollapsed) {\n      this.isStartedAtEditor = true;\n    }\n\n    this.Editor.InlineToolbar.close();\n  }\n\n  /**\n   * @param {DragEvent} dragEvent - drag event\n   */\n  private processDragOver(dragEvent: DragEvent): void {\n    dragEvent.preventDefault();\n  }\n}\n","import Module from '../__module';\nimport * as _ from '../utils';\n\n/**\n * Single entry point for Block mutation events\n */\nexport default class ModificationsObserver extends Module {\n  /**\n   * Flag shows onChange event is disabled\n   */\n  private disabled = false;\n\n  /**\n   * Enables onChange event\n   */\n  public enable(): void {\n    this.disabled = false;\n  }\n\n  /**\n   * Disables onChange event\n   */\n  public disable(): void {\n    this.disabled = true;\n  }\n\n  /**\n   * Call onChange event passed to Editor.js configuration\n   *\n   * @param event - some of our custom change events\n   */\n  public onChange(event: CustomEvent): void {\n    if (this.disabled || !_.isFunction(this.config.onChange)) {\n      return;\n    }\n\n    this.config.onChange(this.Editor.API.methods, event);\n  }\n}\n","import Module from '../__module';\nimport $ from '../dom';\nimport * as _ from '../utils';\nimport {\n  BlockAPI,\n  PasteEvent,\n  PasteEventDetail\n} from '../../../types';\nimport Block from '../block';\nimport { SavedData } from '../../../types/data-formats';\nimport { clean, sanitizeBlocks } from '../utils/sanitizer';\nimport BlockTool from '../tools/block';\n\n/**\n * Tag substitute object.\n */\ninterface TagSubstitute {\n  /**\n   * Name of related Tool\n   *\n   */\n  tool: BlockTool;\n}\n\n/**\n * Pattern substitute object.\n */\ninterface PatternSubstitute {\n  /**\n   * Pattern`s key\n   */\n  key: string;\n\n  /**\n   * Pattern regexp\n   */\n  pattern: RegExp;\n\n  /**\n   * Name of related Tool\n   */\n  tool: BlockTool;\n}\n\n/**\n * Files` types substitutions object.\n */\ninterface FilesSubstitution {\n  /**\n   * Array of file extensions Tool can handle\n   *\n   * @type {string[]}\n   */\n  extensions: string[];\n\n  /**\n   * Array of MIME types Tool can handle\n   *\n   * @type {string[]}\n   */\n  mimeTypes: string[];\n}\n\n/**\n * Processed paste data object.\n *\n * @interface PasteData\n */\ninterface PasteData {\n  /**\n   * Name of related Tool\n   *\n   * @type {string}\n   */\n  tool: string;\n\n  /**\n   * Pasted data. Processed and wrapped to HTML element\n   *\n   * @type {HTMLElement}\n   */\n  content: HTMLElement;\n\n  /**\n   * Pasted data\n   */\n  event: PasteEvent;\n\n  /**\n   * True if content should be inserted as new Block\n   *\n   * @type {boolean}\n   */\n  isBlock: boolean;\n}\n\n/**\n * @class Paste\n * @classdesc Contains methods to handle paste on editor\n *\n * @module Paste\n *\n * @version 2.0.0\n */\nexport default class Paste extends Module {\n  /** If string`s length is greater than this number we don't check paste patterns */\n  public static readonly PATTERN_PROCESSING_MAX_LENGTH = 450;\n\n  /** Custom EditorJS mime-type to handle in-editor copy/paste actions */\n  public readonly MIME_TYPE = 'application/x-editor-js';\n\n  /**\n   * Tags` substitutions parameters\n   */\n  private toolsTags: {[tag: string]: TagSubstitute} = {};\n\n  /**\n   * Store tags to substitute by tool name\n   */\n  private tagsByTool: {[tools: string]: string[]} = {};\n\n  /** Patterns` substitutions parameters */\n  private toolsPatterns: PatternSubstitute[] = [];\n\n  /** Files` substitutions parameters */\n  private toolsFiles: {\n    [tool: string]: FilesSubstitution;\n  } = {};\n\n  /**\n   * List of tools which do not need a paste handling\n   */\n  private exceptionList: string[] = [];\n\n  /**\n   * Set onPaste callback and collect tools` paste configurations\n   */\n  public async prepare(): Promise<void> {\n    this.processTools();\n  }\n\n  /**\n   * Set read-only state\n   *\n   * @param {boolean} readOnlyEnabled - read only flag value\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.setCallback();\n    } else {\n      this.unsetCallback();\n    }\n  }\n\n  /**\n   * Handle pasted or dropped data transfer object\n   *\n   * @param {DataTransfer} dataTransfer - pasted or dropped data transfer object\n   * @param {boolean} isDragNDrop - true if data transfer comes from drag'n'drop events\n   */\n  public async processDataTransfer(dataTransfer: DataTransfer, isDragNDrop = false): Promise<void> {\n    const { Tools } = this.Editor;\n    const types = dataTransfer.types;\n\n    /**\n     * In Microsoft Edge types is DOMStringList. So 'contains' is used to check if 'Files' type included\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const includesFiles = types.includes ? types.includes('Files') : (types as any).contains('Files');\n\n    if (includesFiles) {\n      await this.processFiles(dataTransfer.files);\n\n      return;\n    }\n\n    const editorJSData = dataTransfer.getData(this.MIME_TYPE);\n    const plainData = dataTransfer.getData('text/plain');\n    let htmlData = dataTransfer.getData('text/html');\n\n    /**\n     * If EditorJS json is passed, insert it\n     */\n    if (editorJSData) {\n      try {\n        this.insertEditorJSData(JSON.parse(editorJSData));\n\n        return;\n      } catch (e) {} // Do nothing and continue execution as usual if error appears\n    }\n\n    /**\n     *  If text was drag'n'dropped, wrap content with P tag to insert it as the new Block\n     */\n    if (isDragNDrop && plainData.trim() && htmlData.trim()) {\n      htmlData = '<p>' + (htmlData.trim() ? htmlData : plainData) + '</p>';\n    }\n\n    /** Add all tags that can be substituted to sanitizer configuration */\n    const toolsTags = Object.keys(this.toolsTags).reduce((result, tag) => {\n      result[tag.toLowerCase()] = true;\n\n      return result;\n    }, {});\n\n    const customConfig = Object.assign({}, toolsTags, Tools.getAllInlineToolsSanitizeConfig(), { br: {} });\n    const cleanData = clean(htmlData, customConfig);\n\n    /** If there is no HTML or HTML string is equal to plain one, process it as plain text */\n    if (!cleanData.trim() || cleanData.trim() === plainData || !$.isHTMLString(cleanData)) {\n      await this.processText(plainData);\n    } else {\n      await this.processText(cleanData, true);\n    }\n  }\n\n  /**\n   * Process pasted text and divide them into Blocks\n   *\n   * @param {string} data - text to process. Can be HTML or plain.\n   * @param {boolean} isHTML - if passed string is HTML, this parameter should be true\n   */\n  public async processText(data: string, isHTML = false): Promise<void> {\n    const { Caret, BlockManager } = this.Editor;\n    const dataToInsert = isHTML ? this.processHTML(data) : this.processPlain(data);\n\n    if (!dataToInsert.length) {\n      return;\n    }\n\n    if (dataToInsert.length === 1) {\n      if (!dataToInsert[0].isBlock) {\n        this.processInlinePaste(dataToInsert.pop());\n      } else {\n        this.processSingleBlock(dataToInsert.pop());\n      }\n\n      return;\n    }\n\n    const isCurrentBlockDefault = BlockManager.currentBlock && BlockManager.currentBlock.tool.isDefault;\n    const needToReplaceCurrentBlock = isCurrentBlockDefault && BlockManager.currentBlock.isEmpty;\n\n    dataToInsert.map(\n      async (content, i) => this.insertBlock(content, i === 0 && needToReplaceCurrentBlock)\n    );\n\n    if (BlockManager.currentBlock) {\n      Caret.setToBlock(BlockManager.currentBlock, Caret.positions.END);\n    }\n  }\n\n  /**\n   * Set onPaste callback handler\n   */\n  private setCallback(): void {\n    this.listeners.on(this.Editor.UI.nodes.holder, 'paste', this.handlePasteEvent);\n  }\n\n  /**\n   * Unset onPaste callback handler\n   */\n  private unsetCallback(): void {\n    this.listeners.off(this.Editor.UI.nodes.holder, 'paste', this.handlePasteEvent);\n  }\n\n  /**\n   * Get and process tool`s paste configs\n   */\n  private processTools(): void {\n    const tools = this.Editor.Tools.blockTools;\n\n    Array\n      .from(tools.values())\n      .forEach(this.processTool);\n  }\n\n  /**\n   * Process paste config for each tool\n   *\n   * @param tool - BlockTool object\n   */\n  private processTool = (tool: BlockTool): void => {\n    try {\n      const toolInstance = tool.create({}, {} as BlockAPI, false);\n\n      if (tool.pasteConfig === false) {\n        this.exceptionList.push(tool.name);\n\n        return;\n      }\n\n      if (!_.isFunction(toolInstance.onPaste)) {\n        return;\n      }\n\n      this.getTagsConfig(tool);\n      this.getFilesConfig(tool);\n      this.getPatternsConfig(tool);\n    } catch (e) {\n      _.log(\n        `Paste handling for ${tool.name} Tool hasn't been set up because of the error`,\n        'warn',\n        e\n      );\n    }\n  }\n\n  /**\n   * Get tags to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  private getTagsConfig(tool: BlockTool): void {\n    const tags = tool.pasteConfig.tags || [];\n\n    tags.forEach((tag) => {\n      if (Object.prototype.hasOwnProperty.call(this.toolsTags, tag)) {\n        _.log(\n          `Paste handler for ${tool.name} Tool on ${tag} tag is skipped ` +\n          `because it is already used by ${this.toolsTags[tag].tool.name} Tool.`,\n          'warn'\n        );\n\n        return;\n      }\n\n      this.toolsTags[tag.toUpperCase()] = {\n        tool,\n      };\n    });\n\n    this.tagsByTool[tool.name] = tags.map((t) => t.toUpperCase());\n  }\n\n  /**\n   * Get files` types and extensions to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  private getFilesConfig(tool: BlockTool): void {\n    const { files = {} } = tool.pasteConfig;\n    let { extensions, mimeTypes } = files;\n\n    if (!extensions && !mimeTypes) {\n      return;\n    }\n\n    if (extensions && !Array.isArray(extensions)) {\n      _.log(`extensions property of the onDrop config for ${tool.name} Tool should be an array`);\n      extensions = [];\n    }\n\n    if (mimeTypes && !Array.isArray(mimeTypes)) {\n      _.log(`mimeTypes property of the onDrop config for ${tool.name} Tool should be an array`);\n      mimeTypes = [];\n    }\n\n    if (mimeTypes) {\n      mimeTypes = mimeTypes.filter((type) => {\n        if (!_.isValidMimeType(type)) {\n          _.log(`MIME type value ${type} for the ${tool.name} Tool is not a valid MIME type`, 'warn');\n\n          return false;\n        }\n\n        return true;\n      });\n    }\n\n    this.toolsFiles[tool.name] = {\n      extensions: extensions || [],\n      mimeTypes: mimeTypes || [],\n    };\n  }\n\n  /**\n   * Get RegExp patterns to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  private getPatternsConfig(tool: BlockTool): void {\n    if (!tool.pasteConfig.patterns || _.isEmpty(tool.pasteConfig.patterns)) {\n      return;\n    }\n\n    Object.entries(tool.pasteConfig.patterns).forEach(([key, pattern]: [string, RegExp]) => {\n      /** Still need to validate pattern as it provided by user */\n      if (!(pattern instanceof RegExp)) {\n        _.log(\n          `Pattern ${pattern} for ${tool.name} Tool is skipped because it should be a Regexp instance.`,\n          'warn'\n        );\n      }\n\n      this.toolsPatterns.push({\n        key,\n        pattern,\n        tool,\n      });\n    });\n  }\n\n  /**\n   * Check if browser behavior suits better\n   *\n   * @param {EventTarget} element - element where content has been pasted\n   *\n   * @returns {boolean}\n   */\n  private isNativeBehaviour(element: EventTarget): boolean {\n    return $.isNativeInput(element);\n  }\n\n  /**\n   * Check if Editor should process pasted data and pass data transfer object to handler\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  private handlePasteEvent = async (event: ClipboardEvent): Promise<void> => {\n    const { BlockManager, Toolbar } = this.Editor;\n\n    /** If target is native input or is not Block, use browser behaviour */\n    if (\n      !BlockManager.currentBlock || (this.isNativeBehaviour(event.target) && !event.clipboardData.types.includes('Files'))\n    ) {\n      return;\n    }\n\n    /**\n     * If Tools is in list of errors, skip processing of paste event\n     */\n    if (BlockManager.currentBlock && this.exceptionList.includes(BlockManager.currentBlock.name)) {\n      return;\n    }\n\n    event.preventDefault();\n    this.processDataTransfer(event.clipboardData);\n\n    BlockManager.clearFocused();\n    Toolbar.close();\n  }\n\n  /**\n   * Get files from data transfer object and insert related Tools\n   *\n   * @param {FileList} items - pasted or dropped items\n   */\n  private async processFiles(items: FileList): Promise<void> {\n    const { BlockManager } = this.Editor;\n\n    let dataToInsert: {type: string; event: PasteEvent}[];\n\n    dataToInsert = await Promise.all(\n      Array\n        .from(items)\n        .map((item) => this.processFile(item))\n    );\n    dataToInsert = dataToInsert.filter((data) => !!data);\n\n    const isCurrentBlockDefault = BlockManager.currentBlock.tool.isDefault;\n    const needToReplaceCurrentBlock = isCurrentBlockDefault && BlockManager.currentBlock.isEmpty;\n\n    dataToInsert.forEach(\n      (data, i) => {\n        BlockManager.paste(data.type, data.event, i === 0 && needToReplaceCurrentBlock);\n      }\n    );\n  }\n\n  /**\n   * Get information about file and find Tool to handle it\n   *\n   * @param {File} file - file to process\n   */\n  private async processFile(file: File): Promise<{event: PasteEvent; type: string}> {\n    const extension = _.getFileExtension(file);\n\n    const foundConfig = Object\n      .entries(this.toolsFiles)\n      .find(([toolName, { mimeTypes, extensions } ]) => {\n        const [fileType, fileSubtype] = file.type.split('/');\n\n        const foundExt = extensions.find((ext) => ext.toLowerCase() === extension.toLowerCase());\n        const foundMimeType = mimeTypes.find((mime) => {\n          const [type, subtype] = mime.split('/');\n\n          return type === fileType && (subtype === fileSubtype || subtype === '*');\n        });\n\n        return !!foundExt || !!foundMimeType;\n      });\n\n    if (!foundConfig) {\n      return;\n    }\n\n    const [ tool ] = foundConfig;\n    const pasteEvent = this.composePasteEvent('file', {\n      file,\n    });\n\n    return {\n      event: pasteEvent,\n      type: tool,\n    };\n  }\n\n  /**\n   * Split HTML string to blocks and return it as array of Block data\n   *\n   * @param {string} innerHTML - html string to process\n   *\n   * @returns {PasteData[]}\n   */\n  private processHTML(innerHTML: string): PasteData[] {\n    const { Tools } = this.Editor;\n    const wrapper = $.make('DIV');\n\n    wrapper.innerHTML = innerHTML;\n\n    const nodes = this.getNodes(wrapper);\n\n    return nodes\n      .map((node) => {\n        let content, tool = Tools.defaultTool, isBlock = false;\n\n        switch (node.nodeType) {\n          /** If node is a document fragment, use temp wrapper to get innerHTML */\n          case Node.DOCUMENT_FRAGMENT_NODE:\n            content = $.make('div');\n            content.appendChild(node);\n            break;\n\n          /** If node is an element, then there might be a substitution */\n          case Node.ELEMENT_NODE:\n            content = node as HTMLElement;\n            isBlock = true;\n\n            if (this.toolsTags[content.tagName]) {\n              tool = this.toolsTags[content.tagName].tool;\n            }\n            break;\n        }\n\n        const { tags } = tool.pasteConfig;\n\n        const toolTags = tags.reduce((result, tag) => {\n          result[tag.toLowerCase()] = {};\n\n          return result;\n        }, {});\n        const customConfig = Object.assign({}, toolTags, tool.baseSanitizeConfig);\n\n        content.innerHTML = clean(content.innerHTML, customConfig);\n\n        const event = this.composePasteEvent('tag', {\n          data: content,\n        });\n\n        return {\n          content,\n          isBlock,\n          tool: tool.name,\n          event,\n        };\n      })\n      .filter((data) => !$.isNodeEmpty(data.content) || $.isSingleTag(data.content));\n  }\n\n  /**\n   * Split plain text by new line symbols and return it as array of Block data\n   *\n   * @param {string} plain - string to process\n   *\n   * @returns {PasteData[]}\n   */\n  private processPlain(plain: string): PasteData[] {\n    const { defaultBlock } = this.config as {defaultBlock: string};\n\n    if (!plain) {\n      return [];\n    }\n\n    const tool = defaultBlock;\n\n    return plain\n      .split(/\\r?\\n/)\n      .filter((text) => text.trim())\n      .map((text) => {\n        const content = $.make('div');\n\n        content.textContent = text;\n\n        const event = this.composePasteEvent('tag', {\n          data: content,\n        });\n\n        return {\n          content,\n          tool,\n          isBlock: false,\n          event,\n        };\n      });\n  }\n\n  /**\n   * Process paste of single Block tool content\n   *\n   * @param {PasteData} dataToInsert - data of Block to inseret\n   */\n  private async processSingleBlock(dataToInsert: PasteData): Promise<void> {\n    const { Caret, BlockManager } = this.Editor;\n    const { currentBlock } = BlockManager;\n\n    /**\n     * If pasted tool isn`t equal current Block or if pasted content contains block elements, insert it as new Block\n     */\n    if (\n      !currentBlock ||\n      dataToInsert.tool !== currentBlock.name ||\n      !$.containsOnlyInlineElements(dataToInsert.content.innerHTML)\n    ) {\n      this.insertBlock(dataToInsert, currentBlock?.tool.isDefault && currentBlock.isEmpty);\n\n      return;\n    }\n\n    Caret.insertContentAtCaretPosition(dataToInsert.content.innerHTML);\n  }\n\n  /**\n   * Process paste to single Block:\n   * 1. Find patterns` matches\n   * 2. Insert new block if it is not the same type as current one\n   * 3. Just insert text if there is no substitutions\n   *\n   * @param {PasteData} dataToInsert - data of Block to insert\n   */\n  private async processInlinePaste(dataToInsert: PasteData): Promise<void> {\n    const { BlockManager, Caret } = this.Editor;\n    const { content } = dataToInsert;\n\n    const currentBlockIsDefault = BlockManager.currentBlock && BlockManager.currentBlock.tool.isDefault;\n\n    if (currentBlockIsDefault && content.textContent.length < Paste.PATTERN_PROCESSING_MAX_LENGTH) {\n      const blockData = await this.processPattern(content.textContent);\n\n      if (blockData) {\n        const needToReplaceCurrentBlock = BlockManager.currentBlock &&\n          BlockManager.currentBlock.tool.isDefault &&\n          BlockManager.currentBlock.isEmpty;\n\n        const insertedBlock = BlockManager.paste(blockData.tool, blockData.event, needToReplaceCurrentBlock);\n\n        Caret.setToBlock(insertedBlock, Caret.positions.END);\n\n        return;\n      }\n    }\n\n    /** If there is no pattern substitute - insert string as it is */\n    if (BlockManager.currentBlock && BlockManager.currentBlock.currentInput) {\n      const currentToolSanitizeConfig = BlockManager.currentBlock.tool.sanitizeConfig;\n\n      document.execCommand(\n        'insertHTML',\n        false,\n        clean(content.innerHTML, currentToolSanitizeConfig)\n      );\n    } else {\n      this.insertBlock(dataToInsert);\n    }\n  }\n\n  /**\n   * Get patterns` matches\n   *\n   * @param {string} text - text to process\n   *\n   * @returns {Promise<{event: PasteEvent, tool: string}>}\n   */\n  private async processPattern(text: string): Promise<{event: PasteEvent; tool: string}> {\n    const pattern = this.toolsPatterns.find((substitute) => {\n      const execResult = substitute.pattern.exec(text);\n\n      if (!execResult) {\n        return false;\n      }\n\n      return text === execResult.shift();\n    });\n\n    if (!pattern) {\n      return;\n    }\n\n    const event = this.composePasteEvent('pattern', {\n      key: pattern.key,\n      data: text,\n    });\n\n    return {\n      event,\n      tool: pattern.tool.name,\n    };\n  }\n\n  /**\n   * Insert pasted Block content to Editor\n   *\n   * @param {PasteData} data - data to insert\n   * @param {boolean} canReplaceCurrentBlock - if true and is current Block is empty, will replace current Block\n   *\n   * @returns {void}\n   */\n  private insertBlock(data: PasteData, canReplaceCurrentBlock = false): void {\n    const { BlockManager, Caret } = this.Editor;\n    const { currentBlock } = BlockManager;\n    let block: Block;\n\n    if (canReplaceCurrentBlock && currentBlock && currentBlock.isEmpty) {\n      block = BlockManager.paste(data.tool, data.event, true);\n      Caret.setToBlock(block, Caret.positions.END);\n\n      return;\n    }\n\n    block = BlockManager.paste(data.tool, data.event);\n\n    Caret.setToBlock(block, Caret.positions.END);\n  }\n\n  /**\n   * Insert data passed as application/x-editor-js JSON\n   *\n   * @param {Array} blocks  Blocks' data to insert\n   *\n   * @returns {void}\n   */\n  private insertEditorJSData(blocks: Pick<SavedData, 'id' | 'data' | 'tool'>[]): void {\n    const { BlockManager, Caret, Tools } = this.Editor;\n    const sanitizedBlocks = sanitizeBlocks(blocks, (name) =>\n      Tools.blockTools.get(name).sanitizeConfig\n    );\n\n    sanitizedBlocks.forEach(({ tool, data }, i) => {\n      let needToReplaceCurrentBlock = false;\n\n      if (i === 0) {\n        const isCurrentBlockDefault = BlockManager.currentBlock && BlockManager.currentBlock.tool.isDefault;\n\n        needToReplaceCurrentBlock = isCurrentBlockDefault && BlockManager.currentBlock.isEmpty;\n      }\n\n      const block = BlockManager.insert({\n        tool,\n        data,\n        replace: needToReplaceCurrentBlock,\n      });\n\n      Caret.setToBlock(block, Caret.positions.END);\n    });\n  }\n\n  /**\n   * Fetch nodes from Element node\n   *\n   * @param {Node} node - current node\n   * @param {Node[]} nodes - processed nodes\n   * @param {Node} destNode - destination node\n   *\n   * @returns {Node[]}\n   */\n  private processElementNode(node: Node, nodes: Node[], destNode: Node): Node[] | void {\n    const tags = Object.keys(this.toolsTags);\n\n    const element = node as HTMLElement;\n\n    const { tool } = this.toolsTags[element.tagName] || {};\n    const toolTags = this.tagsByTool[tool?.name] || [];\n\n    const isSubstitutable = tags.includes(element.tagName);\n    const isBlockElement = $.blockElements.includes(element.tagName.toLowerCase());\n    const containsAnotherToolTags = Array\n      .from(element.children)\n      .some(\n        ({ tagName }) => tags.includes(tagName) && !toolTags.includes(tagName)\n      );\n\n    const containsBlockElements = Array.from(element.children).some(\n      ({ tagName }) => $.blockElements.includes(tagName.toLowerCase())\n    );\n\n    /** Append inline elements to previous fragment */\n    if (!isBlockElement && !isSubstitutable && !containsAnotherToolTags) {\n      destNode.appendChild(element);\n\n      return [...nodes, destNode];\n    }\n\n    if (\n      (isSubstitutable && !containsAnotherToolTags) ||\n      (isBlockElement && !containsBlockElements && !containsAnotherToolTags)\n    ) {\n      return [...nodes, destNode, element];\n    }\n  }\n\n  /**\n   * Recursively divide HTML string to two types of nodes:\n   * 1. Block element\n   * 2. Document Fragments contained text and markup tags like a, b, i etc.\n   *\n   * @param {Node} wrapper - wrapper of paster HTML content\n   *\n   * @returns {Node[]}\n   */\n  private getNodes(wrapper: Node): Node[] {\n    const children = Array.from(wrapper.childNodes);\n    let elementNodeProcessingResult: Node[] | void;\n\n    const reducer = (nodes: Node[], node: Node): Node[] => {\n      if ($.isEmpty(node) && !$.isSingleTag(node as HTMLElement)) {\n        return nodes;\n      }\n\n      const lastNode = nodes[nodes.length - 1];\n\n      let destNode: Node = new DocumentFragment();\n\n      if (lastNode && $.isFragment(lastNode)) {\n        destNode = nodes.pop();\n      }\n\n      switch (node.nodeType) {\n        /**\n         * If node is HTML element:\n         * 1. Check if it is inline element\n         * 2. Check if it contains another block or substitutable elements\n         */\n        case Node.ELEMENT_NODE:\n          elementNodeProcessingResult = this.processElementNode(node, nodes, destNode);\n\n          if (elementNodeProcessingResult) {\n            return elementNodeProcessingResult;\n          }\n          break;\n\n        /**\n         * If node is text node, wrap it with DocumentFragment\n         */\n        case Node.TEXT_NODE:\n          destNode.appendChild(node);\n\n          return [...nodes, destNode];\n\n        default:\n          return [...nodes, destNode];\n      }\n\n      return [...nodes, ...Array.from(node.childNodes).reduce(reducer, [])];\n    };\n\n    return children.reduce(reducer, []);\n  }\n\n  /**\n   * Compose paste event with passed type and detail\n   *\n   * @param {string} type - event type\n   * @param {PasteEventDetail} detail - event detail\n   */\n  private composePasteEvent(type: string, detail: PasteEventDetail): PasteEvent {\n    return new CustomEvent(type, {\n      detail,\n    }) as PasteEvent;\n  }\n}\n","import Module from '../__module';\nimport { CriticalError } from '../errors/critical';\n\n/**\n * @module ReadOnly\n *\n * Has one important method:\n *    - {Function} toggleReadonly - Set read-only mode or toggle current state\n *\n * @version 1.0.0\n *\n * @typedef {ReadOnly} ReadOnly\n * @property {boolean} readOnlyEnabled - read-only state\n */\nexport default class ReadOnly extends Module {\n  /**\n   * Array of tools name which don't support read-only mode\n   */\n  private toolsDontSupportReadOnly: string[] = [];\n\n  /**\n   * Value to track read-only state\n   *\n   * @type {boolean}\n   */\n  private readOnlyEnabled = false;\n\n  /**\n   * Returns state of read only mode\n   */\n  public get isEnabled(): boolean {\n    return this.readOnlyEnabled;\n  }\n\n  /**\n   * Set initial state\n   */\n  public async prepare(): Promise<void> {\n    const { Tools } = this.Editor;\n    const { blockTools } = Tools;\n    const toolsDontSupportReadOnly: string[] = [];\n\n    Array\n      .from(blockTools.entries())\n      .forEach(([name, tool]) => {\n        if (!tool.isReadOnlySupported) {\n          toolsDontSupportReadOnly.push(name);\n        }\n      });\n\n    this.toolsDontSupportReadOnly = toolsDontSupportReadOnly;\n\n    if (this.config.readOnly && toolsDontSupportReadOnly.length > 0) {\n      this.throwCriticalError();\n    }\n\n    this.toggle(this.config.readOnly);\n  }\n\n  /**\n   * Set read-only mode or toggle current state\n   * Call all Modules `toggleReadOnly` method and re-render Editor\n   *\n   * @param {boolean} state - (optional) read-only state or toggle\n   */\n  public async toggle(state = !this.readOnlyEnabled): Promise<boolean> {\n    if (state && this.toolsDontSupportReadOnly.length > 0) {\n      this.throwCriticalError();\n    }\n\n    const oldState = this.readOnlyEnabled;\n\n    this.readOnlyEnabled = state;\n\n    for (const name in this.Editor) {\n      /**\n       * Verify module has method `toggleReadOnly` method\n       */\n      if (!this.Editor[name].toggleReadOnly) {\n        continue;\n      }\n\n      /**\n       * set or toggle read-only state\n       */\n      this.Editor[name].toggleReadOnly(state);\n    }\n\n    /**\n     * If new state equals old one, do not re-render blocks\n     */\n    if (oldState === state) {\n      return this.readOnlyEnabled;\n    }\n\n    /**\n     * Save current Editor Blocks and render again\n     */\n    const savedBlocks = await this.Editor.Saver.save();\n\n    await this.Editor.BlockManager.clear();\n    await this.Editor.Renderer.render(savedBlocks.blocks);\n\n    return this.readOnlyEnabled;\n  }\n\n  /**\n   * Throws an error about tools which don't support read-only mode\n   */\n  private throwCriticalError(): never {\n    throw new CriticalError(\n      `To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(', ')} don't support read-only mode.`\n    );\n  }\n}\n","/**\n * @class RectangleSelection\n * @classdesc Manages Block selection with mouse\n *\n * @module RectangleSelection\n * @version 1.0.0\n */\nimport Module from '../__module';\nimport $ from '../dom';\n\nimport SelectionUtils from '../selection';\nimport Block from '../block';\nimport * as _ from '../utils';\n\n/**\n *\n */\nexport default class RectangleSelection extends Module {\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  public static get CSS(): {[name: string]: string} {\n    return {\n      overlay: 'codex-editor-overlay',\n      overlayContainer: 'codex-editor-overlay__container',\n      rect: 'codex-editor-overlay__rectangle',\n      topScrollZone: 'codex-editor-overlay__scroll-zone--top',\n      bottomScrollZone: 'codex-editor-overlay__scroll-zone--bottom',\n    };\n  }\n\n  /**\n   * Using the selection rectangle\n   *\n   * @type {boolean}\n   */\n  private isRectSelectionActivated = false;\n\n  /**\n   *  Speed of Scrolling\n   */\n  private readonly SCROLL_SPEED: number = 3;\n\n  /**\n   *  Height of scroll zone on boundary of screen\n   */\n  private readonly HEIGHT_OF_SCROLL_ZONE = 40;\n\n  /**\n   *  Scroll zone type indicators\n   */\n  private readonly BOTTOM_SCROLL_ZONE = 1;\n  private readonly TOP_SCROLL_ZONE = 2;\n\n  /**\n   * Id of main button for event.button\n   */\n  private readonly MAIN_MOUSE_BUTTON = 0;\n\n  /**\n   *  Mouse is clamped\n   */\n  private mousedown = false;\n\n  /**\n   *  Is scrolling now\n   */\n  private isScrolling = false;\n\n  /**\n   *  Mouse is in scroll zone\n   */\n  private inScrollZone: number | null = null;\n\n  /**\n   *  Coords of rect\n   */\n  private startX = 0;\n  private startY = 0;\n  private mouseX = 0;\n  private mouseY = 0;\n\n  /**\n   * Selected blocks\n   */\n  private stackOfSelected: number[] = [];\n\n  /**\n   * Does the rectangle intersect blocks\n   */\n  private rectCrossesBlocks: boolean;\n\n  /**\n   * Selection rectangle\n   */\n  private overlayRectangle: HTMLDivElement;\n\n  /**\n   * Listener identifiers\n   */\n  private listenerIds: string[] = [];\n\n  /**\n   * Module Preparation\n   * Creating rect and hang handlers\n   */\n  public prepare(): void {\n    this.enableModuleBindings();\n  }\n\n  /**\n   * Init rect params\n   *\n   * @param {number} pageX - X coord of mouse\n   * @param {number} pageY - Y coord of mouse\n   */\n  public startSelection(pageX, pageY): void {\n    const elemWhereSelectionStart = document.elementFromPoint(pageX - window.pageXOffset, pageY - window.pageYOffset);\n\n    /**\n     * Don't clear selected block by clicks on the Block settings\n     * because we need to keep highlighting working block\n     */\n    const startsInsideToolbar = elemWhereSelectionStart.closest(`.${this.Editor.Toolbar.CSS.toolbar}`);\n\n    if (!startsInsideToolbar) {\n      this.Editor.BlockSelection.allBlocksSelected = false;\n      this.clearSelection();\n      this.stackOfSelected = [];\n    }\n\n    const selectorsToAvoid = [\n      `.${Block.CSS.content}`,\n      `.${this.Editor.Toolbar.CSS.toolbar}`,\n      `.${this.Editor.InlineToolbar.CSS.inlineToolbar}`,\n    ];\n\n    const startsInsideEditor = elemWhereSelectionStart.closest('.' + this.Editor.UI.CSS.editorWrapper);\n    const startsInSelectorToAvoid = selectorsToAvoid.some((selector) => !!elemWhereSelectionStart.closest(selector));\n\n    /**\n     * If selection starts outside of the editor or inside the blocks or on Editor UI elements, do not handle it\n     */\n    if (!startsInsideEditor || startsInSelectorToAvoid) {\n      return;\n    }\n\n    this.mousedown = true;\n    this.startX = pageX;\n    this.startY = pageY;\n  }\n\n  /**\n   * Clear all params to end selection\n   */\n  public endSelection(): void {\n    this.mousedown = false;\n    this.startX = 0;\n    this.startY = 0;\n    this.overlayRectangle.style.display = 'none';\n  }\n\n  /**\n   * is RectSelection Activated\n   */\n  public isRectActivated(): boolean {\n    return this.isRectSelectionActivated;\n  }\n\n  /**\n   * Mark that selection is end\n   */\n  public clearSelection(): void {\n    this.isRectSelectionActivated = false;\n  }\n\n  /**\n   * Sets Module necessary event handlers\n   */\n  private enableModuleBindings(): void {\n    const { container } = this.genHTML();\n\n    this.listeners.on(container, 'mousedown', (mouseEvent: MouseEvent) => {\n      this.processMouseDown(mouseEvent);\n    }, false);\n\n    this.listeners.on(document.body, 'mousemove', _.throttle((mouseEvent: MouseEvent) => {\n      this.processMouseMove(mouseEvent);\n    }, 10), {\n      passive: true,\n    });\n\n    this.listeners.on(document.body, 'mouseleave', () => {\n      this.processMouseLeave();\n    });\n\n    this.listeners.on(window, 'scroll', _.throttle((mouseEvent: MouseEvent) => {\n      this.processScroll(mouseEvent);\n    }, 10), {\n      passive: true,\n    });\n\n    this.listeners.on(document.body, 'mouseup', () => {\n      this.processMouseUp();\n    }, false);\n  }\n\n  /**\n   * Handle mouse down events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  private processMouseDown(mouseEvent: MouseEvent): void {\n    if (mouseEvent.button !== this.MAIN_MOUSE_BUTTON) {\n      return;\n    }\n\n    /**\n     * Do not enable the Rectangle Selection when mouse dragging started some editable input\n     * Used to prevent Rectangle Selection on Block Tune wrappers' inputs that also can be inside the Block\n     */\n    const startedFromContentEditable = (mouseEvent.target as Element).closest($.allInputsSelector) !== null;\n\n    if (!startedFromContentEditable) {\n      this.startSelection(mouseEvent.pageX, mouseEvent.pageY);\n    }\n  }\n\n  /**\n   * Handle mouse move events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  private processMouseMove(mouseEvent: MouseEvent): void {\n    this.changingRectangle(mouseEvent);\n    this.scrollByZones(mouseEvent.clientY);\n  }\n\n  /**\n   * Handle mouse leave\n   */\n  private processMouseLeave(): void {\n    this.clearSelection();\n    this.endSelection();\n  }\n\n  /**\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  private processScroll(mouseEvent: MouseEvent): void {\n    this.changingRectangle(mouseEvent);\n  }\n\n  /**\n   * Handle mouse up\n   */\n  private processMouseUp(): void {\n    this.clearSelection();\n    this.endSelection();\n  }\n\n  /**\n   * Scroll If mouse in scroll zone\n   *\n   * @param {number} clientY - Y coord of mouse\n   */\n  private scrollByZones(clientY): void {\n    this.inScrollZone = null;\n    if (clientY <= this.HEIGHT_OF_SCROLL_ZONE) {\n      this.inScrollZone = this.TOP_SCROLL_ZONE;\n    }\n    if (document.documentElement.clientHeight - clientY <= this.HEIGHT_OF_SCROLL_ZONE) {\n      this.inScrollZone = this.BOTTOM_SCROLL_ZONE;\n    }\n\n    if (!this.inScrollZone) {\n      this.isScrolling = false;\n\n      return;\n    }\n\n    if (!this.isScrolling) {\n      this.scrollVertical(this.inScrollZone === this.TOP_SCROLL_ZONE ? -this.SCROLL_SPEED : this.SCROLL_SPEED);\n      this.isScrolling = true;\n    }\n  }\n\n  /**\n   * Generates required HTML elements\n   *\n   * @returns {object<string, Element>}\n   */\n  private genHTML(): {container: Element; overlay: Element} {\n    const { UI } = this.Editor;\n\n    const container = UI.nodes.holder.querySelector('.' + UI.CSS.editorWrapper);\n    const overlay = $.make('div', RectangleSelection.CSS.overlay, {});\n    const overlayContainer = $.make('div', RectangleSelection.CSS.overlayContainer, {});\n    const overlayRectangle = $.make('div', RectangleSelection.CSS.rect, {});\n\n    overlayContainer.appendChild(overlayRectangle);\n    overlay.appendChild(overlayContainer);\n    container.appendChild(overlay);\n\n    this.overlayRectangle = overlayRectangle as HTMLDivElement;\n\n    return {\n      container,\n      overlay,\n    };\n  }\n\n  /**\n   * Activates scrolling if blockSelection is active and mouse is in scroll zone\n   *\n   * @param {number} speed - speed of scrolling\n   */\n  private scrollVertical(speed): void {\n    if (!(this.inScrollZone && this.mousedown)) {\n      return;\n    }\n    const lastOffset = window.pageYOffset;\n\n    window.scrollBy(0, speed);\n    this.mouseY += window.pageYOffset - lastOffset;\n    setTimeout(() => {\n      this.scrollVertical(speed);\n    }, 0);\n  }\n\n  /**\n   * Handles the change in the rectangle and its effect\n   *\n   * @param {MouseEvent} event - mouse event\n   */\n  private changingRectangle(event: MouseEvent): void {\n    if (!this.mousedown) {\n      return;\n    }\n\n    if (event.pageY !== undefined) {\n      this.mouseX = event.pageX;\n      this.mouseY = event.pageY;\n    }\n\n    const { rightPos, leftPos, index } = this.genInfoForMouseSelection();\n    // There is not new block in selection\n\n    const rectIsOnRighSideOfredactor = this.startX > rightPos && this.mouseX > rightPos;\n    const rectISOnLeftSideOfRedactor = this.startX < leftPos && this.mouseX < leftPos;\n\n    this.rectCrossesBlocks = !(rectIsOnRighSideOfredactor || rectISOnLeftSideOfRedactor);\n\n    if (!this.isRectSelectionActivated) {\n      this.rectCrossesBlocks = false;\n      this.isRectSelectionActivated = true;\n      this.shrinkRectangleToPoint();\n      this.overlayRectangle.style.display = 'block';\n    }\n\n    this.updateRectangleSize();\n\n    /**\n     * Hide Block Settings Toggler (along with the Toolbar) (if showed) when the Rectangle Selection is activated\n     */\n    this.Editor.Toolbar.close();\n\n    if (index === undefined) {\n      return;\n    }\n\n    this.trySelectNextBlock(index);\n    // For case, when rect is out from blocks\n    this.inverseSelection();\n\n    SelectionUtils.get().removeAllRanges();\n  }\n\n  /**\n   * Shrink rect to singular point\n   */\n  private shrinkRectangleToPoint(): void {\n    this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`;\n    this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`;\n    this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`;\n    this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;\n  }\n\n  /**\n   * Select or unselect all of blocks in array if rect is out or in selectable area\n   */\n  private inverseSelection(): void {\n    const firstBlockInStack = this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]);\n    const isSelectedMode = firstBlockInStack.selected;\n\n    if (this.rectCrossesBlocks && !isSelectedMode) {\n      for (const it of this.stackOfSelected) {\n        this.Editor.BlockSelection.selectBlockByIndex(it);\n      }\n    }\n\n    if (!this.rectCrossesBlocks && isSelectedMode) {\n      for (const it of this.stackOfSelected) {\n        this.Editor.BlockSelection.unSelectBlockByIndex(it);\n      }\n    }\n  }\n\n  /**\n   * Updates size of rectangle\n   */\n  private updateRectangleSize(): void {\n    // Depending on the position of the mouse relative to the starting point,\n    // change this.e distance from the desired edge of the screen*/\n    if (this.mouseY >= this.startY) {\n      this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`;\n      this.overlayRectangle.style.bottom = `calc(100% - ${this.mouseY - window.pageYOffset}px`;\n    } else {\n      this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`;\n      this.overlayRectangle.style.top = `${this.mouseY - window.pageYOffset}px`;\n    }\n\n    if (this.mouseX >= this.startX) {\n      this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`;\n      this.overlayRectangle.style.right = `calc(100% - ${this.mouseX - window.pageXOffset}px`;\n    } else {\n      this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;\n      this.overlayRectangle.style.left = `${this.mouseX - window.pageXOffset}px`;\n    }\n  }\n\n  /**\n   * Collects information needed to determine the behavior of the rectangle\n   *\n   * @returns {object} index - index next Block, leftPos - start of left border of Block, rightPos - right border\n   */\n  private genInfoForMouseSelection(): {index: number; leftPos: number; rightPos: number} {\n    const widthOfRedactor = document.body.offsetWidth;\n    const centerOfRedactor = widthOfRedactor / 2;\n    const Y = this.mouseY - window.pageYOffset;\n    const elementUnderMouse = document.elementFromPoint(centerOfRedactor, Y);\n    const blockInCurrentPos = this.Editor.BlockManager.getBlockByChildNode(elementUnderMouse);\n    let index;\n\n    if (blockInCurrentPos !== undefined) {\n      index = this.Editor.BlockManager.blocks.findIndex((block) => block.holder === blockInCurrentPos.holder);\n    }\n    const contentElement = this.Editor.BlockManager.lastBlock.holder.querySelector('.' + Block.CSS.content);\n    const centerOfBlock = Number.parseInt(window.getComputedStyle(contentElement).width, 10) / 2;\n    const leftPos = centerOfRedactor - centerOfBlock;\n    const rightPos = centerOfRedactor + centerOfBlock;\n\n    return {\n      index,\n      leftPos,\n      rightPos,\n    };\n  }\n\n  /**\n   * Select block with index index\n   *\n   * @param index - index of block in redactor\n   */\n  private addBlockInSelection(index): void {\n    if (this.rectCrossesBlocks) {\n      this.Editor.BlockSelection.selectBlockByIndex(index);\n    }\n    this.stackOfSelected.push(index);\n  }\n\n  /**\n   * Adds a block to the selection and determines which blocks should be selected\n   *\n   * @param {object} index - index of new block in the reactor\n   */\n  private trySelectNextBlock(index): void {\n    const sameBlock = this.stackOfSelected[this.stackOfSelected.length - 1] === index;\n    const sizeStack = this.stackOfSelected.length;\n    const down = 1, up = -1, undef = 0;\n\n    if (sameBlock) {\n      return;\n    }\n\n    const blockNumbersIncrease = this.stackOfSelected[sizeStack - 1] - this.stackOfSelected[sizeStack - 2] > 0;\n\n    let direction = undef;\n\n    if (sizeStack > 1) {\n      direction = blockNumbersIncrease ? down : up;\n    }\n\n    const selectionInDownDirection = index > this.stackOfSelected[sizeStack - 1] && direction === down;\n    const selectionInUpDirection = index < this.stackOfSelected[sizeStack - 1] && direction === up;\n    const generalSelection = selectionInDownDirection || selectionInUpDirection || direction === undef;\n    const reduction = !generalSelection;\n\n    // When the selection is too fast, some blocks do not have time to be noticed. Fix it.\n    if (!reduction && (index > this.stackOfSelected[sizeStack - 1] ||\n      this.stackOfSelected[sizeStack - 1] === undefined)) {\n      let ind = this.stackOfSelected[sizeStack - 1] + 1 || index;\n\n      for (ind; ind <= index; ind++) {\n        this.addBlockInSelection(ind);\n      }\n\n      return;\n    }\n\n    // for both directions\n    if (!reduction && (index < this.stackOfSelected[sizeStack - 1])) {\n      for (let ind = this.stackOfSelected[sizeStack - 1] - 1; ind >= index; ind--) {\n        this.addBlockInSelection(ind);\n      }\n\n      return;\n    }\n\n    if (!reduction) {\n      return;\n    }\n\n    let i = sizeStack - 1;\n    let cmp;\n\n    // cmp for different directions\n    if (index > this.stackOfSelected[sizeStack - 1]) {\n      cmp = (): boolean => index > this.stackOfSelected[i];\n    } else {\n      cmp = (): boolean => index < this.stackOfSelected[i];\n    }\n\n    // Remove blocks missed due to speed.\n    // cmp checks if we have removed all the necessary blocks\n    while (cmp()) {\n      if (this.rectCrossesBlocks) {\n        this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[i]);\n      }\n      this.stackOfSelected.pop();\n      i--;\n    }\n  }\n}\n","import Module from '../__module';\nimport * as _ from '../utils';\nimport { OutputBlockData } from '../../../types';\nimport BlockTool from '../tools/block';\n\n/**\n * Editor.js Renderer Module\n *\n * @module Renderer\n * @author CodeX Team\n *\n * @version 2.0.0\n */\nexport default class Renderer extends Module {\n  /**\n   * @typedef {object} RendererBlocks\n   * @property {string} type - tool name\n   * @property {object} data - tool data\n   */\n\n  /**\n   * @example\n   *\n   * blocks: [\n   *   {\n   *     id   : 'oDe-EVrGWA',\n   *     type : 'paragraph',\n   *     data : {\n   *       text : 'Hello from Codex!'\n   *     }\n   *   },\n   *   {\n   *     id   : 'Ld5BJjJCHs',\n   *     type : 'paragraph',\n   *     data : {\n   *       text : 'Leave feedback if you like it!'\n   *     }\n   *   },\n   * ]\n   *\n   */\n\n  /**\n   * Make plugin blocks from array of plugin`s data\n   *\n   * @param {OutputBlockData[]} blocks - blocks to render\n   */\n  public async render(blocks: OutputBlockData[]): Promise<void> {\n    const chainData = blocks.map((block) => ({ function: (): Promise<void> => this.insertBlock(block) }));\n\n    /**\n     * Disable onChange callback on render to not to spam those events\n     */\n    this.Editor.ModificationsObserver.disable();\n\n    const sequence = await _.sequence(chainData as _.ChainData[]);\n\n    this.Editor.ModificationsObserver.enable();\n\n    this.Editor.UI.checkEmptiness();\n\n    return sequence;\n  }\n\n  /**\n   * Get plugin instance\n   * Add plugin instance to BlockManager\n   * Insert block to working zone\n   *\n   * @param {object} item - Block data to insert\n   *\n   * @returns {Promise<void>}\n   */\n  public async insertBlock(item: OutputBlockData): Promise<void> {\n    const { Tools, BlockManager } = this.Editor;\n    const { type: tool, data, tunes, id } = item;\n\n    if (Tools.available.has(tool)) {\n      try {\n        BlockManager.insert({\n          id,\n          tool,\n          data,\n          tunes,\n        });\n      } catch (error) {\n        _.log(`Block ${tool} skipped because of plugins error`, 'warn', data);\n        throw Error(error);\n      }\n    } else {\n      /** If Tool is unavailable, create stub Block for it */\n      const stubData = {\n        savedData: {\n          id,\n          type: tool,\n          data,\n        },\n        title: tool,\n      };\n\n      if (Tools.unavailable.has(tool)) {\n        const toolboxSettings = (Tools.unavailable.get(tool) as BlockTool).toolbox;\n\n        stubData.title = toolboxSettings?.title || stubData.title;\n      }\n\n      const stub = BlockManager.insert({\n        id,\n        tool: Tools.stubTool,\n        data: stubData,\n      });\n\n      stub.stretched = true;\n\n      _.log(`Tool ${tool} is not found. Check 'tools' property at your initial Editor.js config.`, 'warn');\n    }\n  }\n}\n","/**\n * Editor.js Saver\n *\n * @module Saver\n * @author Codex Team\n * @version 2.0.0\n */\nimport Module from '../__module';\nimport { OutputData } from '../../../types';\nimport { SavedData, ValidatedData } from '../../../types/data-formats';\nimport Block from '../block';\nimport * as _ from '../utils';\nimport { sanitizeBlocks } from '../utils/sanitizer';\n\ndeclare const VERSION: string;\n\n/**\n * @classdesc This method reduces all Blocks asyncronically and calls Block's save method to extract data\n *\n * @typedef {Saver} Saver\n * @property {Element} html - Editor HTML content\n * @property {string} json - Editor JSON output\n */\nexport default class Saver extends Module {\n  /**\n   * Composes new chain of Promises to fire them alternatelly\n   *\n   * @returns {OutputData}\n   */\n  public async save(): Promise<OutputData> {\n    const { BlockManager, Tools, ModificationsObserver } = this.Editor;\n    const blocks = BlockManager.blocks,\n        chainData = [];\n\n    try {\n      /**\n       * Disable onChange callback on save to not to spam those events\n       */\n      ModificationsObserver.disable();\n\n      blocks.forEach((block: Block) => {\n        chainData.push(this.getSavedData(block));\n      });\n\n      const extractedData = await Promise.all(chainData) as Array<Pick<SavedData, 'data' | 'tool'>>;\n      const sanitizedData = await sanitizeBlocks(extractedData, (name) => {\n        return Tools.blockTools.get(name).sanitizeConfig;\n      });\n\n      return this.makeOutput(sanitizedData);\n    } catch (e) {\n      _.logLabeled(`Saving failed due to the Error %o`, 'error', e);\n    } finally {\n      ModificationsObserver.enable();\n    }\n  }\n\n  /**\n   * Saves and validates\n   *\n   * @param {Block} block - Editor's Tool\n   * @returns {ValidatedData} - Tool's validated data\n   */\n  private async getSavedData(block: Block): Promise<ValidatedData> {\n    const blockData = await block.save();\n    const isValid = blockData && await block.validate(blockData.data);\n\n    return {\n      ...blockData,\n      isValid,\n    };\n  }\n\n  /**\n   * Creates output object with saved data, time and version of editor\n   *\n   * @param {ValidatedData} allExtractedData - data extracted from Blocks\n   * @returns {OutputData}\n   */\n  private makeOutput(allExtractedData): OutputData {\n    let totalTime = 0;\n    const blocks = [];\n\n    _.log('[Editor.js saving]:', 'groupCollapsed');\n\n    allExtractedData.forEach(({ id, tool, data, tunes, time, isValid }) => {\n      totalTime += time;\n\n      /**\n       * Capitalize Tool name\n       */\n      _.log(`${tool.charAt(0).toUpperCase() + tool.slice(1)}`, 'group');\n\n      if (isValid) {\n        /** Group process info */\n        _.log(data);\n        _.log(undefined, 'groupEnd');\n      } else {\n        _.log(`Block ${tool} skipped because saved data is invalid`);\n        _.log(undefined, 'groupEnd');\n\n        return;\n      }\n\n      /** If it was stub Block, get original data */\n      if (tool === this.Editor.Tools.stubTool) {\n        blocks.push(data);\n\n        return;\n      }\n\n      const output = {\n        id,\n        type: tool,\n        data,\n        ...!_.isEmpty(tunes) && {\n          tunes,\n        },\n      };\n\n      blocks.push(output);\n    });\n\n    _.log('Total', 'log', totalTime);\n    _.log(undefined, 'groupEnd');\n\n    return {\n      time: +new Date(),\n      blocks,\n      version: VERSION,\n    };\n  }\n}\n","import Module from \"../../__module\";\nimport $ from \"../../dom\";\nimport Flipper, { FlipperOptions } from \"../../flipper\";\nimport * as _ from \"../../utils\";\nimport SelectionUtils from \"../../selection\";\nimport Block from \"../../block\";\n\n/**\n * HTML Elements that used for BlockSettings\n */\ninterface BlockSettingsNodes {\n  wrapper: HTMLElement;\n  toolSettings: HTMLElement;\n  defaultSettings: HTMLElement;\n}\n\n/**\n *  @todo Make Block Settings no-module but a standalone class, like Toolbox\n */\nexport default class BlockSettings extends Module<BlockSettingsNodes> {\n  /**\n   * Module Events\n   *\n   * @returns {{opened: string, closed: string}}\n   */\n  public get events(): { opened: string; closed: string } {\n    return {\n      opened: \"block-settings-opened\",\n      closed: \"block-settings-closed\",\n    };\n  }\n\n  /**\n   * Block Settings CSS\n   *\n   * @returns {{wrapper, wrapperOpened, toolSettings, defaultSettings, button}}\n   */\n  public get CSS(): { [name: string]: string } {\n    return {\n      // Settings Panel\n      wrapper: \"ce-settings\",\n      wrapperOpened: \"ce-settings--opened\",\n      toolSettings: \"ce-settings__plugin-zone\",\n      defaultSettings: \"ce-settings__default-zone\",\n\n      button: \"ce-settings__button\",\n\n      focusedButton: \"ce-settings__button--focused\",\n      focusedButtonAnimated: \"ce-settings__button--focused-animated\",\n    };\n  }\n\n  /**\n   * Is Block Settings opened or not\n   *\n   * @returns {boolean}\n   */\n  public get opened(): boolean {\n    return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened);\n  }\n\n  /**\n   * List of buttons\n   */\n  private buttons: HTMLElement[] = [];\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   *\n   * @type {Flipper|null}\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Page selection utils\n   */\n  private selection: SelectionUtils = new SelectionUtils();\n\n  /**\n   * Panel with block settings with 2 sections:\n   *  - Tool's Settings\n   *  - Default Settings [Move, Remove, etc]\n   */\n  public make(): void {\n    this.nodes.wrapper = $.make(\"div\", this.CSS.wrapper);\n\n    this.nodes.toolSettings = $.make(\"div\", this.CSS.toolSettings);\n    this.nodes.defaultSettings = $.make(\"div\", this.CSS.defaultSettings);\n\n    $.append(this.nodes.wrapper, [\n      this.nodes.toolSettings,\n      this.nodes.defaultSettings,\n    ]);\n\n    /**\n     * Active leafing by arrows/tab\n     * Buttons will be filled on opening\n     */\n    this.enableFlipper();\n  }\n\n  /**\n   * Destroys module\n   */\n  public destroy(): void {\n    /**\n     * Sometimes (in read-only mode) there is no Flipper\n     */\n    if (this.flipper) {\n      this.flipper.deactivate();\n      this.flipper = null;\n    }\n\n    this.removeAllNodes();\n  }\n\n  /**\n   * Open Block Settings pane\n   *\n   * @param targetBlock - near which Block we should open BlockSettings\n   */\n  public open(\n    targetBlock: Block = this.Editor.BlockManager.currentBlock\n  ): void {\n    this.nodes.wrapper.classList.add(this.CSS.wrapperOpened);\n\n    /**\n     * If block settings contains any inputs, focus will be set there,\n     * so we need to save current selection to restore it after block settings is closed\n     */\n    this.selection.save();\n\n    /**\n     * Highlight content of a Block we are working with\n     */\n    targetBlock.selected = true;\n    this.Editor.BlockSelection.clearCache();\n\n    /**\n     * Fill Tool's settings\n     */\n    this.addToolSettings(targetBlock);\n\n    /**\n     * Add default settings that presents for all Blocks\n     */\n    this.addTunes(targetBlock);\n\n    /** Tell to subscribers that block settings is opened */\n    this.eventsDispatcher.emit(this.events.opened);\n\n    this.flipper.activate(this.blockTunesButtons);\n  }\n\n  /**\n   * Close Block Settings pane\n   */\n  public close(): void {\n    this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened);\n\n    /**\n     * If selection is at editor on Block Settings closing,\n     * it means that caret placed at some editable element inside the Block Settings.\n     * Previously we have saved the selection, then open the Block Settings and set caret to the input\n     *\n     * So, we need to restore selection back to Block after closing the Block Settings\n     */\n    if (!SelectionUtils.isAtEditor) {\n      this.selection.restore();\n    }\n\n    this.selection.clearSaved();\n\n    /**\n     * Remove highlighted content of a Block we are working with\n     */\n    if (\n      !this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted &&\n      this.Editor.BlockManager.currentBlock\n    ) {\n      this.Editor.BlockManager.currentBlock.selected = false;\n    }\n\n    /** Clear settings */\n    this.nodes.toolSettings.innerHTML = \"\";\n    this.nodes.defaultSettings.innerHTML = \"\";\n\n    /** Tell to subscribers that block settings is closed */\n    this.eventsDispatcher.emit(this.events.closed);\n\n    /** Clear cached buttons */\n    this.buttons = [];\n\n    /** Clear focus on active button */\n    this.flipper.deactivate();\n  }\n\n  /**\n   * Returns Tools Settings and Default Settings\n   *\n   * @returns {HTMLElement[]}\n   */\n  public get blockTunesButtons(): HTMLElement[] {\n    const { StylesAPI } = this.Editor;\n\n    /**\n     * Return from cache\n     * if exists\n     */\n    if (this.buttons.length !== 0) {\n      return this.buttons;\n    }\n\n    const toolSettings = this.nodes.toolSettings.querySelectorAll(\n      // Select buttons and inputs\n      `.${StylesAPI.classes.settingsButton}, ${$.allInputsSelector}`\n    );\n    const defaultSettings = this.nodes.defaultSettings.querySelectorAll(\n      `.${this.CSS.button}`\n    );\n\n    toolSettings.forEach((item) => {\n      this.buttons.push(item as HTMLElement);\n    });\n\n    defaultSettings.forEach((item) => {\n      this.buttons.push(item as HTMLElement);\n    });\n\n    return this.buttons;\n  }\n\n  /**\n   * Add Tool's settings\n   *\n   * @param targetBlock - Block to render settings\n   */\n  private addToolSettings(targetBlock): void {\n    const settingsElement = targetBlock.renderSettings();\n\n    if (settingsElement) {\n      $.append(this.nodes.toolSettings, settingsElement);\n    }\n  }\n\n  /**\n   * Add tunes: provided by user and default ones\n   *\n   * @param targetBlock - Block to render its Tunes set\n   */\n  private addTunes(targetBlock): void {\n    const [toolTunes, defaultTunes] = targetBlock.renderTunes();\n\n    $.append(this.nodes.toolSettings, toolTunes);\n    $.append(this.nodes.defaultSettings, defaultTunes);\n  }\n\n  /**\n   * Active leafing by arrows/tab\n   * Buttons will be filled on opening\n   */\n  private enableFlipper(): void {\n    this.flipper = new Flipper({\n      focusedItemClass: this.CSS.focusedButton,\n      /**\n       * @param {HTMLElement} focusedItem - activated Tune\n       */\n      activateCallback: (focusedItem) => {\n        /**\n         * If focused item is editable element, close block settings\n         */\n        if (focusedItem && $.canSetCaret(focusedItem)) {\n          this.close();\n\n          return;\n        }\n\n        /**\n         * Restoring focus on current Block after settings clicked.\n         * For example, when H3 changed to H2  DOM Elements replaced, so we need to focus a new one\n         */\n        _.delay(() => {\n          this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock);\n        }, 50)();\n      },\n    } as FlipperOptions);\n  }\n}\n","import Module from \"../../__module\";\nimport $ from \"../../dom\";\nimport * as _ from \"../../utils\";\nimport { SavedData } from \"../../../../types/data-formats\";\nimport Flipper from \"../../flipper\";\nimport I18n from \"../../i18n\";\nimport { I18nInternalNS } from \"../../i18n/namespace-internal\";\nimport { clean } from \"../../utils/sanitizer\";\n\n/**\n * HTML Elements used for ConversionToolbar\n */\ninterface ConversionToolbarNodes {\n  wrapper: HTMLElement;\n  tools: HTMLElement;\n}\n\n/**\n * Block Converter\n *\n * @todo Make the Conversion Toolbar no-module but a standalone class, like Toolbox\n */\nexport default class ConversionToolbar extends Module<ConversionToolbarNodes> {\n  /**\n   * CSS getter\n   */\n  public static get CSS(): { [key: string]: string } {\n    return {\n      conversionToolbarWrapper: \"ce-conversion-toolbar\",\n      conversionToolbarShowed: \"ce-conversion-toolbar--showed\",\n      conversionToolbarTools: \"ce-conversion-toolbar__tools\",\n      conversionToolbarLabel: \"ce-conversion-toolbar__label\",\n      conversionTool: \"ce-conversion-tool\",\n      conversionToolCurrent: \"ce-conversion-tool--current\",\n      conversionToolIcon: \"ce-conversion-tool__icon\",\n      conversionToolCheckIcon: \"ce-conversion-tool__check-icon\",\n\n      conversionToolFocused: \"ce-conversion-tool--focused\",\n      conversionToolActive: \"ce-conversion-tool--active\",\n    };\n  }\n\n  /**\n   * Conversion Toolbar open/close state\n   *\n   * @type {boolean}\n   */\n  public opened = false;\n\n  /**\n   * Available tools\n   */\n  private tools: { [key: string]: HTMLElement } = {};\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   *\n   * @type {Flipper|null}\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Callback that fill be fired on open/close and accepts an opening state\n   */\n  private togglingCallback = null;\n\n  /**\n   * Create UI of Conversion Toolbar\n   */\n  public make(): HTMLElement {\n    this.nodes.wrapper = $.make(\"div\", [\n      ConversionToolbar.CSS.conversionToolbarWrapper,\n      ...(this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []),\n    ]);\n    this.nodes.tools = $.make(\n      \"div\",\n      ConversionToolbar.CSS.conversionToolbarTools\n    );\n\n    const label = $.make(\"div\", ConversionToolbar.CSS.conversionToolbarLabel, {\n      textContent: I18n.ui(\n        I18nInternalNS.ui.inlineToolbar.converter,\n        \"Convert to\"\n      ),\n    });\n\n    /**\n     * Add Tools that has 'import' method\n     */\n    this.addTools();\n\n    /**\n     * Prepare Flipper to be able to leaf tools by arrows/tab\n     */\n    this.enableFlipper();\n\n    $.append(this.nodes.wrapper, label);\n    $.append(this.nodes.wrapper, this.nodes.tools);\n\n    return this.nodes.wrapper;\n  }\n\n  /**\n   * Deactivates flipper and removes all nodes\n   */\n  public destroy(): void {\n    /**\n     * Sometimes (in read-only mode) there is no Flipper\n     */\n    if (this.flipper) {\n      this.flipper.deactivate();\n      this.flipper = null;\n    }\n\n    this.removeAllNodes();\n  }\n\n  /**\n   * Toggle conversion dropdown visibility\n   *\n   * @param {Function} [togglingCallback]  callback that will accept opening state\n   */\n  public toggle(togglingCallback?: (openedState: boolean) => void): void {\n    if (!this.opened) {\n      this.open();\n    } else {\n      this.close();\n    }\n\n    if (_.isFunction(togglingCallback)) {\n      this.togglingCallback = togglingCallback;\n    }\n  }\n\n  /**\n   * Shows Conversion Toolbar\n   */\n  public open(): void {\n    this.filterTools();\n\n    this.opened = true;\n    this.nodes.wrapper.classList.add(\n      ConversionToolbar.CSS.conversionToolbarShowed\n    );\n\n    /**\n     * We use timeout to prevent bubbling Enter keydown on first dropdown item\n     * Conversion flipper will be activated after dropdown will open\n     */\n    setTimeout(() => {\n      this.flipper.activate(Object.values(this.tools));\n      this.flipper.focusFirst();\n\n      if (_.isFunction(this.togglingCallback)) {\n        this.togglingCallback(true);\n      }\n    }, 50);\n  }\n\n  /**\n   * Closes Conversion Toolbar\n   */\n  public close(): void {\n    this.opened = false;\n    this.flipper.deactivate();\n    this.nodes.wrapper.classList.remove(\n      ConversionToolbar.CSS.conversionToolbarShowed\n    );\n\n    if (_.isFunction(this.togglingCallback)) {\n      this.togglingCallback(false);\n    }\n  }\n\n  /**\n   * Returns true if it has more than one tool available for convert in\n   */\n  public hasTools(): boolean {\n    const tools = Object.keys(this.tools); // available tools in array representation\n\n    return !(tools.length === 1 && tools.shift() === this.config.defaultBlock);\n  }\n\n  /**\n   * Replaces one Block with another\n   * For that Tools must provide import/export methods\n   *\n   * @param {string} replacingToolName - name of Tool which replaces current\n   */\n  public async replaceWithBlock(replacingToolName: string): Promise<void> {\n    /**\n     * At first, we get current Block data\n     *\n     * @type {BlockToolConstructable}\n     */\n    const currentBlockTool = this.Editor.BlockManager.currentBlock.tool;\n    const currentBlockName = this.Editor.BlockManager.currentBlock.name;\n    const savedBlock =\n      (await this.Editor.BlockManager.currentBlock.save()) as SavedData;\n    const blockData = savedBlock.data;\n\n    /**\n     * When current Block name is equals to the replacing tool Name,\n     * than convert this Block back to the default Block\n     */\n    if (currentBlockName === replacingToolName) {\n      replacingToolName = this.config.defaultBlock;\n    }\n\n    /**\n     * Getting a class of replacing Tool\n     *\n     * @type {BlockToolConstructable}\n     */\n    const replacingTool = this.Editor.Tools.blockTools.get(replacingToolName);\n\n    /**\n     * Export property can be:\n     * 1) Function  Tool defines which data to return\n     * 2) String  the name of saved property\n     *\n     * In both cases returning value must be a string\n     */\n    let exportData = \"\";\n    const exportProp = currentBlockTool.conversionConfig.export;\n\n    if (_.isFunction(exportProp)) {\n      exportData = exportProp(blockData);\n    } else if (_.isString(exportProp)) {\n      exportData = blockData[exportProp];\n    } else {\n      _.log(\n        \"Conversion export property must be a string or function. \" +\n          \"String means key of saved data object to export. Function should export processed string to export.\"\n      );\n\n      return;\n    }\n\n    /**\n     * Clean exported data with replacing sanitizer config\n     */\n    const cleaned: string = clean(exportData, replacingTool.sanitizeConfig);\n\n    /**\n     * import property can be Function or String\n     * function  accept imported string and compose tool data object\n     * string  the name of data field to import\n     */\n    let newBlockData = {};\n    const importProp = replacingTool.conversionConfig.import;\n\n    if (_.isFunction(importProp)) {\n      newBlockData = importProp(cleaned);\n    } else if (_.isString(importProp)) {\n      newBlockData[importProp] = cleaned;\n    } else {\n      _.log(\n        \"Conversion import property must be a string or function. \" +\n          \"String means key of tool data to import. Function accepts a imported string and return composed tool data.\"\n      );\n\n      return;\n    }\n\n    this.Editor.BlockManager.replace({\n      tool: replacingToolName,\n      data: newBlockData,\n    });\n    this.Editor.BlockSelection.clearSelection();\n\n    this.close();\n    this.Editor.InlineToolbar.close();\n\n    _.delay(() => {\n      this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock);\n    }, 10)();\n  }\n\n  /**\n   * Iterates existing Tools and inserts to the ConversionToolbar\n   * if tools have ability to import\n   */\n  private addTools(): void {\n    const tools = this.Editor.Tools.blockTools;\n\n    Array.from(tools.entries()).forEach(([name, tool]) => {\n      const toolboxSettings = tool.toolbox;\n      const conversionConfig = tool.conversionConfig;\n\n      /**\n       * Skip tools that don't pass 'toolbox' property\n       */\n      if (_.isEmpty(toolboxSettings) || !toolboxSettings.icon) {\n        return;\n      }\n\n      /**\n       * Skip tools without import rule specified\n       */\n      if (!conversionConfig || !conversionConfig.import) {\n        return;\n      }\n\n      this.addTool(name, toolboxSettings.icon, toolboxSettings.title);\n    });\n  }\n\n  /**\n   * Add tool to the Conversion Toolbar\n   *\n   * @param {string} toolName - name of Tool to add\n   * @param {string} toolIcon - Tool icon\n   * @param {string} title - button title\n   */\n  private addTool(toolName: string, toolIcon: string, title: string): void {\n    const tool = $.make(\"div\", [ConversionToolbar.CSS.conversionTool]);\n    const icon = $.make(\"div\", [ConversionToolbar.CSS.conversionToolIcon]);\n    const checkIcon = $.make(\"div\", [\n      ConversionToolbar.CSS.conversionToolCheckIcon,\n    ]);\n\n    tool.dataset.tool = toolName;\n\n    switch (toolName) {\n      case \"paragraph\":\n        icon.innerHTML = `<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 1C0 0.723858 0.223858 0.5 0.5 0.5H6H11.5C11.7761 0.5 12 0.723858 12 1V2.5C12 2.77614 11.7761 3 11.5 3C11.2238 3 11 2.77614 11 2.5V1.5H6.5V10.5H8.11107C8.38721 10.5 8.61107 10.7239 8.61107 11C8.61107 11.2761 8.38721 11.5 8.11107 11.5H6H3.66663C3.39048 11.5 3.16663 11.2761 3.16663 11C3.16663 10.7239 3.39048 10.5 3.66663 10.5H5.5V1.5H1V2.5C1 2.77614 0.776142 3 0.5 3C0.223858 3 0 2.77614 0 2.5V1Z\" />\n        </svg>`;\n        break;\n\n      case \"header1\":\n        icon.innerHTML = `<svg width=\"13\" height=\"10\" viewBox=\"0 0 13 10\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1 0.5C1 0.223858 0.776142 0 0.5 0C0.223858 0 0 0.223858 0 0.5V9.5C0 9.77614 0.223858 10 0.5 10C0.776142 10 1 9.77614 1 9.5V5.5H7V9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5V0.5C8 0.223858 7.77614 0 7.5 0C7.22386 0 7 0.223858 7 0.5V4.5H1V0.5ZM13 2.5C13 2.3156 12.8985 2.14617 12.7359 2.05916C12.5733 1.97215 12.3761 1.98169 12.2226 2.08398L10.7226 3.08398C10.4929 3.23715 10.4308 3.54759 10.584 3.77735C10.7371 4.00712 11.0476 4.0692 11.2773 3.91603L12 3.43426V9.5C12 9.77614 12.2239 10 12.5 10C12.7761 10 13 9.77614 13 9.5V2.5Z\" /></svg>`;\n        break;\n\n      case \"header2\":\n        icon.innerHTML = `<svg width=\"14\" height=\"10\" viewBox=\"0 0 14 10\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1 0.5C1 0.223858 0.776142 0 0.5 0C0.223858 0 0 0.223858 0 0.5V9.5C0 9.77614 0.223858 10 0.5 10C0.776142 10 1 9.77614 1 9.5V5.5H7V9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5V0.5C8 0.223858 7.77614 0 7.5 0C7.22386 0 7 0.223858 7 0.5V4.5H1V0.5ZM11.5334 4.11564C11.7372 4.00803 11.9718 3.97417 12.1977 4.01976C12.4235 4.06535 12.6268 4.18761 12.773 4.36593C12.9192 4.54426 12.9994 4.76771 13 4.99847L13 4.9995C13.0009 5.19384 12.9438 5.38392 12.8361 5.54544L10.0998 9.20034C9.98629 9.35188 9.96815 9.55451 10.0529 9.7238C10.1376 9.89308 10.3107 10 10.5 10H13.5C13.7761 10 14 9.77614 14 9.5C14 9.22386 13.7761 9 13.5 9H11.499L13.644 6.13492C13.6484 6.12897 13.6528 6.12292 13.6569 6.11678C13.8821 5.78634 14.0017 5.39536 14 4.99551C13.9987 4.53462 13.8385 4.08826 13.5463 3.73187C13.2539 3.37535 12.8475 3.13075 12.3956 3.03953C11.9437 2.94831 11.4741 3.01608 11.0665 3.23136C10.6588 3.44663 10.338 3.79616 10.1583 4.22077C10.0507 4.47507 10.1696 4.76848 10.4239 4.8761C10.6782 4.98373 10.9716 4.86482 11.0792 4.61051C11.1691 4.39805 11.3296 4.22326 11.5334 4.11564Z\" /></svg>`;\n        break;\n\n      case \"header3\":\n        icon.innerHTML = `<svg width=\"14\" height=\"10\" viewBox=\"0 0 14 10\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1 0.5C1 0.223858 0.776142 0 0.5 0C0.223858 0 0 0.223858 0 0.5V9.5C0 9.77614 0.223858 10 0.5 10C0.776142 10 1 9.77614 1 9.5V5.5H7V9.5C7 9.77614 7.22386 10 7.5 10C7.77614 10 8 9.77614 8 9.5V0.5C8 0.223858 7.77614 0 7.5 0C7.22386 0 7 0.223858 7 0.5V4.5H1V0.5ZM10.5 3C10.2239 3 10 3.22386 10 3.5C10 3.77614 10.2239 4 10.5 4H12.5397L11.3404 5.71327C11.2335 5.866 11.2204 6.06553 11.3065 6.23089C11.3926 6.39625 11.5635 6.49999 11.75 6.5C11.9555 6.50001 12.1579 6.55072 12.3392 6.64763C12.5205 6.74454 12.675 6.88466 12.7892 7.05558C12.9034 7.2265 12.9737 7.42294 12.9939 7.62751C13.014 7.83208 12.9834 8.03846 12.9047 8.22837C12.8261 8.41827 12.7018 8.58585 12.5429 8.71626C12.384 8.84666 12.1954 8.93587 11.9938 8.97598C11.7922 9.01608 11.5838 9.00585 11.3871 8.94619C11.1904 8.88652 11.0114 8.77927 10.866 8.63393C10.6708 8.43868 10.3542 8.43869 10.1589 8.63396C9.96368 8.82924 9.96369 9.14582 10.159 9.34107C10.4206 9.60269 10.7427 9.79574 11.0968 9.90314C11.4509 10.0105 11.826 10.0289 12.1889 9.95676C12.5518 9.88457 12.8913 9.724 13.1773 9.48927C13.4633 9.25454 13.687 8.9529 13.8286 8.61106C13.9702 8.26922 14.0253 7.89774 13.989 7.52952C13.9528 7.1613 13.8263 6.8077 13.6207 6.50004C13.4152 6.19239 13.1369 5.94017 12.8106 5.76574C12.7404 5.7282 12.6684 5.69451 12.595 5.66475L13.9096 3.78673C14.0165 3.634 14.0296 3.43446 13.9435 3.26909C13.8574 3.10373 13.6864 3 13.5 3H10.5Z\" /></svg>`;\n        break;\n\n      case \"unorderedList\":\n        icon.innerHTML = `<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2 1.5C2 2.05228 1.55228 2.5 1 2.5C0.447715 2.5 0 2.05228 0 1.5C0 0.947715 0.447715 0.5 1 0.5C1.55228 0.5 2 0.947715 2 1.5ZM2 6C2 6.55228 1.55228 7 1 7C0.447715 7 0 6.55228 0 6C0 5.44772 0.447715 5 1 5C1.55228 5 2 5.44772 2 6ZM1 11.5C1.55228 11.5 2 11.0523 2 10.5C2 9.94771 1.55228 9.5 1 9.5C0.447715 9.5 0 9.94771 0 10.5C0 11.0523 0.447715 11.5 1 11.5ZM4.5 1C4.22386 1 4 1.22386 4 1.5C4 1.77614 4.22386 2 4.5 2H11.5C11.7761 2 12 1.77614 12 1.5C12 1.22386 11.7761 1 11.5 1H4.5ZM4 6C4 5.72386 4.22386 5.5 4.5 5.5H11.5C11.7761 5.5 12 5.72386 12 6C12 6.27614 11.7761 6.5 11.5 6.5H4.5C4.22386 6.5 4 6.27614 4 6ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H11.5C11.7761 11 12 10.7761 12 10.5C12 10.2239 11.7761 10 11.5 10H4.5Z\" /></svg>`;\n        break;\n\n      case \"orderedList\":\n        icon.innerHTML = `<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.74245 0.0626789C1.90143 0.150792 2.00007 0.318238 2.00007 0.5V4.5C2.00007 4.77614 1.77621 5 1.50007 5C1.22392 5 1.00007 4.77614 1.00007 4.5V1.40212L0.765066 1.549C0.530898 1.69535 0.222423 1.62417 0.0760678 1.39C-0.0702874 1.15583 0.000899193 0.847356 0.235067 0.701001L1.23507 0.0760011C1.3892 -0.0203329 1.58347 -0.0254338 1.74245 0.0626789ZM4 1.5C4 1.22386 4.22386 1 4.5 1H11.5C11.7761 1 12 1.22386 12 1.5C12 1.77614 11.7761 2 11.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 6C4 5.72386 4.22386 5.5 4.5 5.5H11.5C11.7761 5.5 12 5.72386 12 6C12 6.27614 11.7761 6.5 11.5 6.5H4.5C4.22386 6.5 4 6.27614 4 6ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H11.5C11.7761 11 12 10.7761 12 10.5C12 10.2239 11.7761 10 11.5 10H4.5ZM1.35604 8.02953C1.42178 8.00579 1.49179 7.9962 1.56149 8.00136C1.63119 8.00652 1.69902 8.02632 1.76056 8.05948C1.8221 8.09264 1.87595 8.1384 1.91861 8.19379C1.96126 8.24917 1.99176 8.31294 2.00811 8.38092C2.02388 8.44647 2.02614 8.51453 2.0148 8.58094C2.01397 8.58393 2.01228 8.58991 2.00939 8.59919C2.00337 8.61846 1.99479 8.64356 1.98437 8.6706C1.97388 8.69782 1.96284 8.72363 1.95229 8.74541C1.9471 8.75613 1.9426 8.76467 1.93898 8.77108C1.93556 8.77716 1.93378 8.77982 1.93378 8.77982C1.9232 8.79514 1.91348 8.81103 1.90467 8.82744L0.059498 11.2634C-0.0237152 11.4184 -0.0193906 11.6057 0.0708864 11.7566C0.161163 11.9076 0.324114 12 0.5 12H2.49421C2.77035 12 2.99421 11.7761 2.99421 11.5C2.99421 11.2239 2.77035 11 2.49421 11H1.33604L2.77479 9.32082C2.83921 9.22067 2.88712 9.10899 2.91752 9.0301C2.94992 8.94598 2.9828 8.84533 2.99656 8.7715C3.03512 8.56454 3.02962 8.35178 2.98039 8.14709C2.93117 7.94241 2.83933 7.7504 2.71088 7.58361C2.58242 7.41683 2.42024 7.279 2.23491 7.17914C2.04958 7.07928 1.84528 7.01963 1.63533 7.00409C1.42538 6.98854 1.21452 7.01745 1.0165 7.08893C0.818487 7.16041 0.637775 7.27285 0.486163 7.41891C0.33455 7.56496 0.215443 7.74135 0.136616 7.93656C0.0332176 8.19261 0.156969 8.484 0.413022 8.5874C0.669076 8.6908 0.960469 8.56705 1.06387 8.311C1.09005 8.24617 1.1296 8.18759 1.17995 8.13909C1.23029 8.09059 1.2903 8.05326 1.35604 8.02953Z\" /></svg>`;\n        break;\n\n      case \"blockChecklist\":\n        icon.innerHTML = `<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.86941 0.158694C4.05818 0.360241 4.04782 0.676654 3.84627 0.865422L2.01274 2.8229C1.82026 3.00318 1.52085 3.00297 1.32862 2.82241L0.157681 1.57218C-0.0435939 1.38312 -0.053497 1.0667 0.135562 0.865422C0.32462 0.664148 0.641048 0.654245 0.842322 0.843303L1.67144 1.77246L3.16268 0.135557C3.36423 -0.0532111 3.68064 -0.0428523 3.86941 0.158694ZM5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H11.5C11.7761 2 12 1.77614 12 1.5C12 1.22386 11.7761 1 11.5 1H5.5ZM5.5 5.5C5.22386 5.5 5 5.72386 5 6C5 6.27615 5.22386 6.5 5.5 6.5H11.5C11.7761 6.5 12 6.27615 12 6C12 5.72386 11.7761 5.5 11.5 5.5H5.5ZM5 10.5C5 10.2238 5.22386 9.99999 5.5 9.99999H11.5C11.7761 9.99999 12 10.2238 12 10.5C12 10.7761 11.7761 11 11.5 11H5.5C5.22386 11 5 10.7761 5 10.5ZM3.84627 5.36493C4.04782 5.17617 4.05818 4.85975 3.86941 4.65821C3.68064 4.45666 3.36423 4.4463 3.16268 4.63507L1.67144 6.27197L0.842322 5.34281C0.641048 5.15376 0.32462 5.16366 0.135562 5.36493C-0.053497 5.56621 -0.0435939 5.88264 0.157681 6.07169L1.32862 7.32192C1.52085 7.50248 1.82026 7.50269 2.01274 7.32241L3.84627 5.36493ZM3.84627 9.86542C4.04782 9.67665 4.05818 9.36024 3.86941 9.15869C3.68064 8.95715 3.36423 8.94679 3.16268 9.13556L1.67144 10.7725L0.842322 9.8433C0.641048 9.65424 0.32462 9.66415 0.135562 9.86542C-0.053497 10.0667 -0.0435939 10.3831 0.157681 10.5722L1.32862 11.8224C1.52085 12.003 1.82026 12.0032 2.01274 11.8229L3.84627 9.86542Z\" /></svg>`;\n        break;\n\n      default:\n        icon.innerHTML = toolIcon;\n    }\n\n    checkIcon.innerHTML = `<svg width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.1919 0.278013C11.5907 0.660142 11.6041 1.29316 11.222 1.69191L5.47199 7.69191C5.09491 8.08539 4.47219 8.10446 4.07172 7.73481L0.821725 4.7348C0.415904 4.3602 0.390598 3.72754 0.765202 3.32172C1.13981 2.9159 1.77246 2.89059 2.17829 3.2652L4.7071 5.59949L9.77802 0.308096C10.1601 -0.090647 10.7932 -0.104116 11.1919 0.278013Z\" />\n    </svg>`;\n\n    $.append(tool, icon);\n    $.append(\n      tool,\n      $.text(I18n.t(I18nInternalNS.toolNames, title || _.capitalize(toolName)))\n    );\n    $.append(tool, checkIcon);\n\n    $.append(this.nodes.tools, tool);\n    this.tools[toolName] = tool;\n\n    this.listeners.on(tool, \"click\", async () => {\n      await this.replaceWithBlock(toolName);\n    });\n  }\n\n  /**\n   * Get current tool button and add icon\n   */\n  private filterTools(): void {\n    const { currentBlock } = this.Editor.BlockManager;\n\n    Object.entries(this.tools).forEach(([name, button]) => {\n      button.classList.toggle(\n        ConversionToolbar.CSS.conversionToolCurrent,\n        name === currentBlock.name\n      );\n    });\n  }\n\n  /**\n   * Prepare Flipper to be able to leaf tools by arrows/tab\n   */\n  private enableFlipper(): void {\n    this.flipper = new Flipper({\n      focusedItemClass: ConversionToolbar.CSS.conversionToolFocused,\n    });\n  }\n}\n","import Module from \"../../__module\";\nimport $ from \"../../dom\";\nimport SelectionUtils from \"../../selection\";\nimport * as _ from \"../../utils\";\nimport { InlineTool as IInlineTool } from \"../../../../types\";\nimport Flipper from \"../../flipper\";\nimport I18n from \"../../i18n\";\nimport { I18nInternalNS } from \"../../i18n/namespace-internal\";\nimport Shortcuts from \"../../utils/shortcuts\";\nimport Tooltip from \"../../utils/tooltip\";\nimport { ModuleConfig } from \"../../../types-internal/module-config\";\nimport InlineTool from \"../../tools/inline\";\nimport { CommonInternalSettings } from \"../../tools/base\";\n\n/**\n * Inline Toolbar elements\n */\ninterface InlineToolbarNodes {\n  wrapper: HTMLElement;\n  togglerAndButtonsWrapper: HTMLElement;\n  buttons: HTMLElement;\n  conversionToggler: HTMLElement;\n  conversionTogglerContent: HTMLElement;\n  /**\n   * Zone below the buttons where Tools can create additional actions by 'renderActions()' method\n   * For example, input for the 'link' tool or textarea for the 'comment' tool\n   */\n  actions: HTMLElement;\n}\n\n/**\n * Inline toolbar with actions that modifies selected text fragment\n *\n * ||\n * |   B  i [link] [mark]   |\n * |________________________|\n */\nexport default class InlineToolbar extends Module<InlineToolbarNodes> {\n  /**\n   * CSS styles\n   */\n  public CSS = {\n    inlineToolbar: \"ce-inline-toolbar\",\n    inlineToolbarShowed: \"ce-inline-toolbar--showed\",\n    inlineToolbarLeftOriented: \"ce-inline-toolbar--left-oriented\",\n    inlineToolbarRightOriented: \"ce-inline-toolbar--right-oriented\",\n    inlineToolbarShortcut: \"ce-inline-toolbar__shortcut\",\n    buttonsWrapper: \"ce-inline-toolbar__buttons\",\n    actionsWrapper: \"ce-inline-toolbar__actions\",\n    inlineToolButton: \"ce-inline-tool\",\n    inputField: \"cdx-input\",\n    focusedButton: \"ce-inline-tool--focused\",\n    conversionToggler: \"ce-inline-toolbar__dropdown\",\n    conversionTogglerHidden: \"ce-inline-toolbar__dropdown--hidden\",\n    conversionTogglerContent: \"ce-inline-toolbar__dropdown-content\",\n    togglerAndButtonsWrapper: \"ce-inline-toolbar__toggler-and-button-wrapper\",\n  };\n\n  /**\n   * State of inline toolbar\n   *\n   * @type {boolean}\n   */\n  public opened = false;\n\n  /**\n   * Margin above/below the Toolbar\n   */\n  private readonly toolbarVerticalMargin: number = 5;\n\n  /**\n   * TODO: Get rid of this\n   *\n   * Currently visible tools instances\n   */\n  private toolsInstances: Map<string, IInlineTool>;\n\n  /**\n   * Buttons List\n   *\n   * @type {NodeList}\n   */\n  private buttonsList: NodeList = null;\n\n  /**\n   * Cache for Inline Toolbar width\n   *\n   * @type {number}\n   */\n  private width = 0;\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Tooltip utility Instance\n   */\n  private tooltip: Tooltip;\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config, eventsDispatcher }: ModuleConfig) {\n    super({\n      config,\n      eventsDispatcher,\n    });\n    this.tooltip = new Tooltip();\n  }\n\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    if (!readOnlyEnabled) {\n      this.make();\n    } else {\n      this.destroy();\n      this.Editor.ConversionToolbar.destroy();\n    }\n  }\n\n  /**\n   *  Moving / appearance\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n\n  /**\n   * Shows Inline Toolbar if something is selected\n   *\n   * @param [needToClose] - pass true to close toolbar if it is not allowed.\n   *                                  Avoid to use it just for closing IT, better call .close() clearly.\n   * @param [needToShowConversionToolbar] - pass false to not to show Conversion Toolbar\n   */\n  public tryToShow(\n    needToClose = false,\n    needToShowConversionToolbar = true\n  ): void {\n    if (!this.allowedToShow()) {\n      if (needToClose) {\n        this.close();\n      }\n\n      return;\n    }\n\n    this.move();\n    this.open(needToShowConversionToolbar);\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * Move Toolbar to the selected text\n   */\n  public move(): void {\n    const selectionRect = SelectionUtils.rect as DOMRect;\n    const wrapperOffset = this.Editor.UI.nodes.wrapper.getBoundingClientRect();\n    const newCoords = {\n      x: selectionRect.x - wrapperOffset.left + 145,\n      y: selectionRect.y - wrapperOffset.top - 40,\n    };\n\n    const toolbarWidth =\n      document.getElementsByClassName(\"ce-inline-toolbar\")[0].clientWidth;\n\n    const blockOffset = document\n      .getElementsByClassName(\"ce-block__content\")[0]\n      .getBoundingClientRect();\n\n    if (\n      blockOffset.width < 650 &&\n      wrapperOffset.right - selectionRect.x < toolbarWidth\n    ) {\n      newCoords.x =\n        newCoords.x - (toolbarWidth - (wrapperOffset.right - selectionRect.x));\n    } else if (\n      blockOffset.width >= 650 &&\n      blockOffset.right - selectionRect.x < toolbarWidth\n    ) {\n      newCoords.x -= toolbarWidth - (blockOffset.right - selectionRect.x);\n    }\n\n    this.nodes.wrapper.style.left = Math.floor(newCoords.x) + \"px\";\n\n    this.nodes.wrapper.style.top = Math.floor(newCoords.y) + \"px\";\n  }\n\n  /**\n   * Hides Inline Toolbar\n   */\n  public close(): void {\n    if (!this.opened) {\n      return;\n    }\n\n    if (this.Editor.ReadOnly.isEnabled) {\n      return;\n    }\n\n    this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed);\n    Array.from(this.toolsInstances.entries()).forEach(\n      ([name, toolInstance]) => {\n        const shortcut = this.getToolShortcut(name);\n\n        if (shortcut) {\n          Shortcuts.remove(this.Editor.UI.nodes.redactor, shortcut);\n        }\n\n        /**\n         * @todo replace 'clear' with 'destroy'\n         */\n        if (_.isFunction(toolInstance.clear)) {\n          toolInstance.clear();\n        }\n      }\n    );\n\n    this.opened = false;\n\n    this.flipper.deactivate();\n    this.Editor.ConversionToolbar.close();\n  }\n\n  /**\n   * Shows Inline Toolbar\n   *\n   * @param [needToShowConversionToolbar] - pass false to not to show Conversion Toolbar\n   */\n  public open(needToShowConversionToolbar = true): void {\n    if (this.opened) {\n      return;\n    }\n    /**\n     * Filter inline-tools and show only allowed by Block's Tool\n     */\n    this.addToolsFiltered();\n\n    /**\n     * Show Inline Toolbar\n     */\n    this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed);\n\n    this.buttonsList = this.nodes.buttons.querySelectorAll(\n      `.${this.CSS.inlineToolButton}`\n    );\n    this.opened = true;\n\n    if (\n      needToShowConversionToolbar &&\n      this.Editor.ConversionToolbar.hasTools()\n    ) {\n      /**\n       * Change Conversion Dropdown content for current tool\n       */\n      this.setConversionTogglerContent();\n    } else {\n      /**\n       * hide Conversion Dropdown with there are no tools\n       */\n      this.nodes.conversionToggler.hidden = true;\n    }\n\n    /**\n     * Get currently visible buttons to pass it to the Flipper\n     */\n    let visibleTools = Array.from(this.buttonsList);\n\n    visibleTools.unshift(this.nodes.conversionToggler);\n    visibleTools = visibleTools.filter((tool) => !(tool as HTMLElement).hidden);\n\n    this.flipper.activate(visibleTools as HTMLElement[]);\n  }\n\n  /**\n   * Check if node is contained by Inline Toolbar\n   *\n   * @param {Node} node  node to chcek\n   */\n  public containsNode(node: Node): boolean {\n    return this.nodes.wrapper.contains(node);\n  }\n\n  /**\n   * Removes UI and its components\n   */\n  public destroy(): void {\n    /**\n     * Sometimes (in read-only mode) there is no Flipper\n     */\n    if (this.flipper) {\n      this.flipper.deactivate();\n      this.flipper = null;\n    }\n\n    this.removeAllNodes();\n    this.tooltip.destroy();\n  }\n\n  /**\n   * Making DOM\n   */\n  private make(): void {\n    this.nodes.wrapper = $.make(\"div\", [\n      this.CSS.inlineToolbar,\n      ...(this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []),\n    ]);\n    /**\n     * Creates a different wrapper for toggler and buttons.\n     */\n    this.nodes.togglerAndButtonsWrapper = $.make(\n      \"div\",\n      this.CSS.togglerAndButtonsWrapper\n    );\n    this.nodes.buttons = $.make(\"div\", this.CSS.buttonsWrapper);\n    this.nodes.actions = $.make(\"div\", this.CSS.actionsWrapper);\n\n    // To prevent reset of a selection when click on the wrapper\n    this.listeners.on(this.nodes.wrapper, \"mousedown\", (event) => {\n      const isClickedOnActionsWrapper = (event.target as Element).closest(\n        `.${this.CSS.actionsWrapper}`\n      );\n\n      // If click is on actions wrapper,\n      // do not prevent default behaviour because actions might include interactive elements\n      if (!isClickedOnActionsWrapper) {\n        event.preventDefault();\n      }\n    });\n\n    /**\n     * Append the intermediary wrapper which contains toggler and buttons and button actions.\n     */\n    $.append(this.nodes.wrapper, [\n      this.nodes.togglerAndButtonsWrapper,\n      this.nodes.actions,\n    ]);\n    /**\n     * Append the inline toolbar to the editor.\n     */\n    $.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n\n    /**\n     * Add button that will allow switching block type\n     */\n    this.addConversionToggler();\n\n    /**\n     * Wrapper for the inline tools\n     * Will be appended after the Conversion Toolbar toggler\n     */\n    $.append(this.nodes.togglerAndButtonsWrapper, this.nodes.buttons);\n\n    /**\n     * Prepare conversion toolbar.\n     * If it has any conversion tool then it will be enabled in the Inline Toolbar\n     */\n    this.prepareConversionToolbar();\n\n    /**\n     * Recalculate initial width with all buttons\n     */\n    this.recalculateWidth();\n\n    /**\n     * Allow to leaf buttons by arrows / tab\n     * Buttons will be filled on opening\n     */\n    this.enableFlipper();\n  }\n\n  /**\n   * Need to show Inline Toolbar or not\n   */\n  private allowedToShow(): boolean {\n    /**\n     * Tags conflicts with window.selection function.\n     * Ex. IMG tag returns null (Firefox) or Redactors wrapper (Chrome)\n     */\n    const tagsConflictsWithSelection = [\"IMG\", \"INPUT\"];\n    const currentSelection = SelectionUtils.get();\n    const selectedText = SelectionUtils.text;\n\n    // old browsers\n    if (!currentSelection || !currentSelection.anchorNode) {\n      return false;\n    }\n\n    // empty selection\n    if (currentSelection.isCollapsed || selectedText.length < 1) {\n      return false;\n    }\n\n    const target = !$.isElement(currentSelection.anchorNode)\n      ? currentSelection.anchorNode.parentElement\n      : currentSelection.anchorNode;\n\n    if (\n      currentSelection &&\n      tagsConflictsWithSelection.includes(target.tagName)\n    ) {\n      return false;\n    }\n\n    // The selection of the element only in contenteditable\n    const contenteditable = target.closest('[contenteditable=\"true\"]');\n\n    if (contenteditable === null) {\n      return false;\n    }\n\n    // is enabled by current Block's Tool\n    const currentBlock = this.Editor.BlockManager.getBlock(\n      currentSelection.anchorNode as HTMLElement\n    );\n\n    if (!currentBlock) {\n      return false;\n    }\n\n    return currentBlock.tool.inlineTools.size !== 0;\n  }\n\n  /**\n   * Recalculate inline toolbar width\n   */\n  private recalculateWidth(): void {\n    this.width = this.nodes.wrapper.offsetWidth;\n  }\n\n  /**\n   * Create a toggler for Conversion Dropdown\n   * and prepend it to the buttons list\n   */\n  private addConversionToggler(): void {\n    this.nodes.conversionToggler = $.make(\"div\", this.CSS.conversionToggler);\n    this.nodes.conversionTogglerContent = $.make(\n      \"div\",\n      this.CSS.conversionTogglerContent\n    );\n\n    const icon = $.svg(\"toggler-down\", 7, 4);\n\n    this.nodes.conversionToggler.appendChild(\n      this.nodes.conversionTogglerContent\n    );\n    this.nodes.conversionToggler.appendChild(icon);\n\n    this.nodes.togglerAndButtonsWrapper.appendChild(\n      this.nodes.conversionToggler\n    );\n\n    this.listeners.on(this.nodes.conversionToggler, \"click\", () => {\n      this.Editor.ConversionToolbar.toggle((conversionToolbarOpened) => {\n        /**\n         * When ConversionToolbar is opening on activated InlineToolbar flipper\n         * Then we need to temporarily deactivate InlineToolbar flipper so that we could flip ConversionToolbar items\n         *\n         * Other case when ConversionToolbar is closing (for example, by escape) but we need to continue flipping\n         * InlineToolbar items, we activate InlineToolbar flipper\n         */\n        const canActivateInlineToolbarFlipper =\n          !conversionToolbarOpened && this.opened;\n\n        if (canActivateInlineToolbarFlipper) {\n          this.flipper.activate();\n        } else if (this.opened) {\n          this.flipper.deactivate();\n        }\n      });\n    });\n\n    this.tooltip.onHover(\n      this.nodes.conversionToggler,\n      I18n.ui(I18nInternalNS.ui.inlineToolbar.converter, \"Convert to\"),\n      {\n        placement: \"top\",\n        hidingDelay: 100,\n      }\n    );\n  }\n\n  /**\n   * Changes Conversion Dropdown content for current block's Tool\n   */\n  private setConversionTogglerContent(): void {\n    const { BlockManager } = this.Editor;\n    const { currentBlock } = BlockManager;\n    const toolName = currentBlock.name;\n\n    /**\n     * If tool does not provide 'export' rule, hide conversion dropdown\n     */\n    const conversionConfig = currentBlock.tool.conversionConfig;\n    const exportRuleDefined = conversionConfig && conversionConfig.export;\n\n    this.nodes.conversionToggler.hidden = !exportRuleDefined;\n    this.nodes.conversionToggler.classList.toggle(\n      this.CSS.conversionTogglerHidden,\n      !exportRuleDefined\n    );\n\n    /**\n     * Get icon or title for dropdown\n     */\n    const toolboxSettings = currentBlock.tool.toolbox || {};\n\n    this.nodes.conversionTogglerContent.innerHTML =\n      toolboxSettings.icon || toolboxSettings.title || _.capitalize(toolName);\n  }\n\n  /**\n   * Makes the Conversion Dropdown\n   */\n  private prepareConversionToolbar(): void {\n    const ct = this.Editor.ConversionToolbar.make();\n\n    $.append(this.nodes.wrapper, ct);\n  }\n\n  /**\n   *  Working with Tools\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n\n  /**\n   * Append only allowed Tools\n   */\n  private addToolsFiltered(): void {\n    const currentSelection = SelectionUtils.get();\n    const currentBlock = this.Editor.BlockManager.getBlock(\n      currentSelection.anchorNode as HTMLElement\n    );\n\n    /**\n     * Clear buttons list\n     */\n    this.nodes.buttons.innerHTML = \"\";\n    this.nodes.actions.innerHTML = \"\";\n    this.toolsInstances = new Map();\n\n    Array.from(currentBlock.tool.inlineTools.values()).forEach((tool) => {\n      this.addTool(tool);\n    });\n\n    /**\n     * Recalculate width because some buttons can be hidden\n     */\n    this.recalculateWidth();\n  }\n\n  /**\n   * Add tool button and activate clicks\n   *\n   * @param {InlineTool} tool - InlineTool object\n   */\n  private addTool(tool: InlineTool): void {\n    const instance = tool.create();\n    const button = instance.render();\n\n    if (!button) {\n      _.log(\"Render method must return an instance of Node\", \"warn\", tool.name);\n\n      return;\n    }\n\n    button.dataset.tool = tool.name;\n    this.nodes.buttons.appendChild(button);\n    this.toolsInstances.set(tool.name, instance);\n\n    if (_.isFunction(instance.renderActions)) {\n      const actions = instance.renderActions();\n\n      this.nodes.actions.appendChild(actions);\n    }\n\n    this.listeners.on(button, \"click\", (event) => {\n      this.toolClicked(instance);\n      event.preventDefault();\n    });\n\n    const shortcut = this.getToolShortcut(tool.name);\n\n    if (shortcut) {\n      try {\n        this.enableShortcuts(instance, shortcut);\n      } catch (e) {}\n    }\n\n    /**\n     * Enable tooltip module on button\n     */\n    const tooltipContent = $.make(\"div\");\n    const toolTitle = I18n.t(\n      I18nInternalNS.toolNames,\n      tool.title || _.capitalize(tool.name)\n    );\n\n    tooltipContent.appendChild($.text(toolTitle));\n\n    if (shortcut) {\n      tooltipContent.appendChild(\n        $.make(\"div\", this.CSS.inlineToolbarShortcut, {\n          textContent: _.beautifyShortcut(shortcut),\n        })\n      );\n    }\n\n    this.tooltip.onHover(button, tooltipContent, {\n      placement: \"top\",\n      hidingDelay: 100,\n    });\n\n    instance.checkState(SelectionUtils.get());\n  }\n\n  /**\n   * Get shortcut name for tool\n   *\n   * @param toolName  Tool name\n   */\n  private getToolShortcut(toolName): string | void {\n    const { Tools } = this.Editor;\n\n    /**\n     * Enable shortcuts\n     * Ignore tool that doesn't have shortcut or empty string\n     */\n    const tool = Tools.inlineTools.get(toolName);\n\n    /**\n     * 1) For internal tools, check public getter 'shortcut'\n     * 2) For external tools, check tool's settings\n     * 3) If shortcut is not set in settings, check Tool's public property\n     */\n    const internalTools = Tools.internal.inlineTools;\n\n    if (Array.from(internalTools.keys()).includes(toolName)) {\n      return this.inlineTools[toolName][CommonInternalSettings.Shortcut];\n    }\n\n    return tool.shortcut;\n  }\n\n  /**\n   * Enable Tool shortcut with Editor Shortcuts Module\n   *\n   * @param {InlineTool} tool - Tool instance\n   * @param {string} shortcut - shortcut according to the ShortcutData Module format\n   */\n  private enableShortcuts(tool: IInlineTool, shortcut: string): void {\n    Shortcuts.add({\n      name: shortcut,\n      handler: (event) => {\n        const { currentBlock } = this.Editor.BlockManager;\n\n        /**\n         * Editor is not focused\n         */\n        if (!currentBlock) {\n          return;\n        }\n\n        /**\n         * We allow to fire shortcut with empty selection (isCollapsed=true)\n         * it can be used by tools like Mention that works without selection:\n         * Example: by SHIFT+@ show dropdown and insert selected username\n         */\n        // if (SelectionUtils.isCollapsed) return;\n\n        if (!currentBlock.tool.enabledInlineTools) {\n          return;\n        }\n\n        event.preventDefault();\n        this.toolClicked(tool);\n      },\n      on: this.Editor.UI.nodes.redactor,\n    });\n  }\n\n  /**\n   * Inline Tool button clicks\n   *\n   * @param {InlineTool} tool - Tool's instance\n   */\n  private toolClicked(tool: IInlineTool): void {\n    const range = SelectionUtils.range;\n\n    tool.surround(range);\n    this.checkToolsState();\n  }\n\n  /**\n   * Check Tools` state by selection\n   */\n  private checkToolsState(): void {\n    this.toolsInstances.forEach((toolInstance) => {\n      toolInstance.checkState(SelectionUtils.get());\n    });\n  }\n\n  /**\n   * Get inline tools tools\n   * Tools that has isInline is true\n   */\n  private get inlineTools(): { [name: string]: IInlineTool } {\n    const result = {};\n\n    Array.from(this.Editor.Tools.inlineTools.entries()).forEach(\n      ([name, tool]) => {\n        result[name] = tool.create();\n      }\n    );\n\n    return result;\n  }\n\n  /**\n   * Allow to leaf buttons by arrows / tab\n   * Buttons will be filled on opening\n   */\n  private enableFlipper(): void {\n    this.flipper = new Flipper({\n      focusedItemClass: this.CSS.focusedButton,\n      allowArrows: false,\n    });\n  }\n}\n","import Paragraph from \"../../tools/paragraph/dist/bundle\";\nimport Module from \"../__module\";\nimport * as _ from \"../utils\";\nimport {\n  SanitizerConfig,\n  ToolConfig,\n  ToolConstructable,\n  ToolSettings,\n} from \"../../../types\";\nimport BoldInlineTool from \"../inline-tools/inline-tool-bold\";\nimport ItalicInlineTool from \"../inline-tools/inline-tool-italic\";\nimport LinkInlineTool from \"../inline-tools/inline-tool-link\";\nimport Stub from \"../../tools/stub\";\nimport ToolsFactory from \"../tools/factory\";\nimport InlineTool from \"../tools/inline\";\nimport BlockTool from \"../tools/block\";\nimport BlockTune from \"../tools/tune\";\nimport MoveDownTune from \"../block-tunes/block-tune-move-down\";\nimport DeleteTune from \"../block-tunes/block-tune-delete\";\nimport MoveUpTune from \"../block-tunes/block-tune-move-up\";\nimport ToolsCollection from \"../tools/collection\";\n\n/**\n * @module Editor.js Tools Submodule\n *\n * Creates Instances from Plugins and binds external config to the instances\n */\n\ntype ToolClass = BlockTool | InlineTool | BlockTune;\n\n/**\n * Class properties:\n *\n * @typedef {Tools} Tools\n * @property {Tools[]} toolsAvailable - available Tools\n * @property {Tools[]} toolsUnavailable - unavailable Tools\n * @property {object} toolsClasses - all classes\n * @property {object} toolsSettings - Tools settings\n * @property {EditorConfig} config - Editor config\n */\nexport default class Tools extends Module {\n  /**\n   * Name of Stub Tool\n   * Stub Tool is used to substitute unavailable block Tools and store their data\n   *\n   * @type {string}\n   */\n  public stubTool = \"stub\";\n\n  /**\n   * Returns available Tools\n   *\n   * @returns {object<Tool>}\n   */\n  public get available(): ToolsCollection {\n    return this.toolsAvailable;\n  }\n\n  /**\n   * Returns unavailable Tools\n   *\n   * @returns {Tool[]}\n   */\n  public get unavailable(): ToolsCollection {\n    return this.toolsUnavailable;\n  }\n\n  /**\n   * Return Tools for the Inline Toolbar\n   *\n   * @returns {object} - object of Inline Tool's classes\n   */\n  public get inlineTools(): ToolsCollection<InlineTool> {\n    return this.available.inlineTools;\n  }\n\n  /**\n   * Return editor block tools\n   */\n  public get blockTools(): ToolsCollection<BlockTool> {\n    return this.available.blockTools;\n  }\n\n  /**\n   * Return available Block Tunes\n   *\n   * @returns {object} - object of Inline Tool's classes\n   */\n  public get blockTunes(): ToolsCollection<BlockTune> {\n    return this.available.blockTunes;\n  }\n\n  /**\n   * Returns default Tool object\n   */\n  public get defaultTool(): BlockTool {\n    return this.blockTools.get(this.config.defaultBlock);\n  }\n\n  /**\n   * Tools objects factory\n   */\n  private factory: ToolsFactory;\n\n  /**\n   * Tools` classes available to use\n   */\n  private readonly toolsAvailable: ToolsCollection = new ToolsCollection();\n\n  /**\n   * Tools` classes not available to use because of preparation failure\n   */\n  private readonly toolsUnavailable: ToolsCollection = new ToolsCollection();\n\n  /**\n   * Returns internal tools\n   */\n  public get internal(): ToolsCollection {\n    return this.available.internalTools;\n  }\n\n  /**\n   * Creates instances via passed or default configuration\n   *\n   * @returns {Promise<void>}\n   */\n  public async prepare(): Promise<void> {\n    this.validateTools();\n\n    /**\n     * Assign internal tools\n     */\n    this.config.tools = _.deepMerge({}, this.internalTools, this.config.tools);\n\n    if (\n      !Object.prototype.hasOwnProperty.call(this.config, \"tools\") ||\n      Object.keys(this.config.tools).length === 0\n    ) {\n      throw Error(\"Can't start without tools\");\n    }\n\n    const config = this.prepareConfig();\n\n    this.factory = new ToolsFactory(config, this.config, this.Editor.API);\n\n    /**\n     * getting classes that has prepare method\n     */\n    const sequenceData = this.getListOfPrepareFunctions(config);\n\n    /**\n     * if sequence data contains nothing then resolve current chain and run other module prepare\n     */\n    if (sequenceData.length === 0) {\n      return Promise.resolve();\n    }\n\n    /**\n     * to see how it works {@link '../utils.ts#sequence'}\n     */\n    await _.sequence(\n      sequenceData,\n      (data: { toolName: string }) => {\n        this.toolPrepareMethodSuccess(data);\n      },\n      (data: { toolName: string }) => {\n        this.toolPrepareMethodFallback(data);\n      }\n    );\n\n    this.prepareBlockTools();\n  }\n\n  /**\n   * Return general Sanitizer config for all inline tools\n   */\n  @_.cacheable\n  public getAllInlineToolsSanitizeConfig(): SanitizerConfig {\n    const config: SanitizerConfig = {} as SanitizerConfig;\n\n    Array.from(this.inlineTools.values()).forEach((inlineTool) => {\n      Object.assign(config, inlineTool.sanitizeConfig);\n    });\n\n    return config;\n  }\n\n  /**\n   * Calls each Tool reset method to clean up anything set by Tool\n   */\n  public destroy(): void {\n    Object.values(this.available).forEach(async (tool) => {\n      if (_.isFunction(tool.reset)) {\n        await tool.reset();\n      }\n    });\n  }\n\n  /**\n   * Returns internal tools\n   * Includes Bold, Italic, Link and Paragraph\n   */\n  private get internalTools(): {\n    [toolName: string]:\n      | ToolConstructable\n      | (ToolSettings & { isInternal?: boolean });\n  } {\n    return {\n      bold: {\n        class: BoldInlineTool,\n        isInternal: true,\n      },\n      italic: {\n        class: ItalicInlineTool,\n        isInternal: true,\n      },\n      link: {\n        class: LinkInlineTool,\n        isInternal: true,\n      },\n      paragraph: {\n        class: Paragraph,\n        inlineToolbar: true,\n        isInternal: true,\n      },\n      stub: {\n        class: Stub,\n        isInternal: true,\n      },\n      moveUp: {\n        class: MoveUpTune,\n        isInternal: true,\n      },\n      moveDown: {\n        class: MoveDownTune,\n        isInternal: true,\n      },\n      delete: {\n        class: DeleteTune,\n        isInternal: true,\n      },\n    };\n  }\n\n  /**\n   * Tool prepare method success callback\n   *\n   * @param {object} data - append tool to available list\n   */\n  private toolPrepareMethodSuccess(data: { toolName: string }): void {\n    const tool = this.factory.get(data.toolName);\n\n    if (tool.isInline()) {\n      /**\n       * Some Tools validation\n       */\n      const inlineToolRequiredMethods = [\"render\", \"surround\", \"checkState\"];\n      const notImplementedMethods = inlineToolRequiredMethods.filter(\n        (method) => !tool.create()[method]\n      );\n\n      if (notImplementedMethods.length) {\n        _.log(\n          `Incorrect Inline Tool: ${tool.name}. Some of required methods is not implemented %o`,\n          \"warn\",\n          notImplementedMethods\n        );\n\n        this.toolsUnavailable.set(tool.name, tool);\n\n        return;\n      }\n    }\n\n    this.toolsAvailable.set(tool.name, tool);\n  }\n\n  /**\n   * Tool prepare method fail callback\n   *\n   * @param {object} data - append tool to unavailable list\n   */\n  private toolPrepareMethodFallback(data: { toolName: string }): void {\n    this.toolsUnavailable.set(data.toolName, this.factory.get(data.toolName));\n  }\n\n  /**\n   * Binds prepare function of plugins with user or default config\n   *\n   * @returns {Array} list of functions that needs to be fired sequentially\n   * @param config - tools config\n   */\n  private getListOfPrepareFunctions(config: { [name: string]: ToolSettings }): {\n    function: (data: {\n      toolName: string;\n      config: ToolConfig;\n    }) => void | Promise<void>;\n    data: { toolName: string; config: ToolConfig };\n  }[] {\n    const toolPreparationList: {\n      function: (data: { toolName: string }) => void | Promise<void>;\n      data: { toolName: string; config: ToolConfig };\n    }[] = [];\n\n    Object.entries(config).forEach(([toolName, settings]) => {\n      toolPreparationList.push({\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        function: _.isFunction(settings.class.prepare)\n          ? settings.class.prepare\n          : (): void => {},\n        data: {\n          toolName,\n          config: settings.config,\n        },\n      });\n    });\n\n    return toolPreparationList;\n  }\n\n  /**\n   * Assign enabled Inline Tools and Block Tunes for Block Tool\n   */\n  private prepareBlockTools(): void {\n    Array.from(this.blockTools.values()).forEach((tool) => {\n      this.assignInlineToolsToBlockTool(tool);\n      this.assignBlockTunesToBlockTool(tool);\n    });\n  }\n\n  /**\n   * Assign enabled Inline Tools for Block Tool\n   *\n   * @param tool - Block Tool\n   */\n  private assignInlineToolsToBlockTool(tool: BlockTool): void {\n    /**\n     * If common inlineToolbar property is false no Inline Tools should be assigned\n     */\n    if (this.config.inlineToolbar === false) {\n      return;\n    }\n\n    /**\n     * If user pass just 'true' for tool, get common inlineToolbar settings\n     * - if common settings is an array, use it\n     * - if common settings is 'true' or not specified, get default order\n     */\n    if (tool.enabledInlineTools === true) {\n      tool.inlineTools = new ToolsCollection<InlineTool>(\n        Array.isArray(this.config.inlineToolbar)\n          ? this.config.inlineToolbar.map((name) => [\n              name,\n              this.inlineTools.get(name),\n            ])\n          : /**\n             * If common settings is 'true' or not specified (will be set as true at core.ts), get the default order\n             */\n            Array.from(this.inlineTools.entries())\n      );\n\n      return;\n    }\n\n    /**\n     * If user pass the list of inline tools for the particular tool, return it.\n     */\n    if (Array.isArray(tool.enabledInlineTools)) {\n      tool.inlineTools = new ToolsCollection<InlineTool>(\n        tool.enabledInlineTools.map((name) => [\n          name,\n          this.inlineTools.get(name),\n        ])\n      );\n    }\n  }\n\n  /**\n   * Assign enabled Block Tunes for Block Tool\n   *\n   * @param tool  Block Tool\n   */\n  private assignBlockTunesToBlockTool(tool: BlockTool): void {\n    if (tool.enabledBlockTunes === false) {\n      return;\n    }\n\n    if (Array.isArray(tool.enabledBlockTunes)) {\n      const userTunes = new ToolsCollection<BlockTune>(\n        tool.enabledBlockTunes.map((name) => [name, this.blockTunes.get(name)])\n      );\n\n      tool.tunes = new ToolsCollection<BlockTune>([\n        ...userTunes,\n        ...this.blockTunes.internalTools,\n      ]);\n\n      return;\n    }\n\n    if (Array.isArray(this.config.tunes)) {\n      const userTunes = new ToolsCollection<BlockTune>(\n        this.config.tunes.map((name) => [name, this.blockTunes.get(name)])\n      );\n\n      tool.tunes = new ToolsCollection<BlockTune>([\n        ...userTunes,\n        ...this.blockTunes.internalTools,\n      ]);\n\n      return;\n    }\n\n    tool.tunes = this.blockTunes.internalTools;\n  }\n\n  /**\n   * Validate Tools configuration objects and throw Error for user if it is invalid\n   */\n  private validateTools(): void {\n    /**\n     * Check Tools for a class containing\n     */\n    for (const toolName in this.config.tools) {\n      if (Object.prototype.hasOwnProperty.call(this.config.tools, toolName)) {\n        if (toolName in this.internalTools) {\n          return;\n        }\n\n        const tool = this.config.tools[toolName];\n\n        if (\n          !_.isFunction(tool) &&\n          !_.isFunction((tool as ToolSettings).class)\n        ) {\n          throw Error(\n            `Tool ${toolName} must be a constructor function or an object with function in the class property`\n          );\n        }\n      }\n    }\n  }\n\n  /**\n   * Unify tools config\n   */\n  private prepareConfig(): { [name: string]: ToolSettings } {\n    const config: { [name: string]: ToolSettings } = {};\n\n    /**\n     * Save Tools settings to a map\n     */\n    for (const toolName in this.config.tools) {\n      /**\n       * If Tool is an object not a Tool's class then\n       * save class and settings separately\n       */\n      if (_.isObject(this.config.tools[toolName])) {\n        config[toolName] = this.config.tools[toolName] as ToolSettings;\n      } else {\n        config[toolName] = {\n          class: this.config.tools[toolName] as ToolConstructable,\n        };\n      }\n    }\n\n    return config;\n  }\n}\n","import BlockTool from './block';\nimport InlineTool from './inline';\nimport BlockTune from './tune';\n\nexport type ToolClass = BlockTool | InlineTool | BlockTune;\n\n/**\n * Class to store Editor Tools\n */\nexport default class ToolsCollection<V extends ToolClass = ToolClass> extends Map<string, V> {\n  /**\n   * Returns Block Tools collection\n   */\n  public get blockTools(): ToolsCollection<BlockTool> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => tool.isBlock()) as [string, BlockTool][];\n\n    return new ToolsCollection<BlockTool>(tools);\n  }\n\n  /**\n   * Returns Inline Tools collection\n   */\n  public get inlineTools(): ToolsCollection<InlineTool> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => tool.isInline()) as [string, InlineTool][];\n\n    return new ToolsCollection<InlineTool>(tools);\n  }\n\n  /**\n   * Returns Block Tunes collection\n   */\n  public get blockTunes(): ToolsCollection<BlockTune> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => tool.isTune()) as [string, BlockTune][];\n\n    return new ToolsCollection<BlockTune>(tools);\n  }\n\n  /**\n   * Returns internal Tools collection\n   */\n  public get internalTools(): ToolsCollection<V> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => tool.isInternal);\n\n    return new ToolsCollection<V>(tools);\n  }\n\n  /**\n   * Returns Tools collection provided by user\n   */\n  public get externalTools(): ToolsCollection<V> {\n    const tools = Array\n      .from(this.entries())\n      .filter(([, tool]) => !tool.isInternal);\n\n    return new ToolsCollection<V>(tools);\n  }\n}\n","/* eslint-disable jsdoc/no-undefined-types */\n/**\n * Prebuilded sprite of SVG icons\n */\nimport sprite from \"../../../dist/sprite.svg\";\n\n/**\n * Module UI\n *\n * @type {UI}\n */\nimport Module from \"../__module\";\nimport $ from \"../dom\";\nimport * as _ from \"../utils\";\n\nimport Selection from \"../selection\";\nimport Block from \"../block\";\nimport Flipper from \"../flipper\";\n\n/**\n * HTML Elements used for UI\n */\ninterface UINodes {\n  holder: HTMLElement;\n  wrapper: HTMLElement;\n  redactor: HTMLElement;\n  loader: HTMLElement;\n}\n\n/**\n * @class\n *\n * @classdesc Makes Editor.js UI:\n *                <codex-editor>\n *                    <ce-redactor />\n *                    <ce-toolbar />\n *                    <ce-inline-toolbar />\n *                </codex-editor>\n *\n * @typedef {UI} UI\n * @property {EditorConfig} config   - editor configuration {@link EditorJS#configuration}\n * @property {object} Editor         - available editor modules {@link EditorJS#moduleInstances}\n * @property {object} nodes          -\n * @property {Element} nodes.holder  - element where we need to append redactor\n * @property {Element} nodes.wrapper  - <codex-editor>\n * @property {Element} nodes.redactor - <ce-redactor>\n */\nexport default class UI extends Module<UINodes> {\n  /**\n   * Events could be emitted by this module.\n   */\n  public get events(): { blockHovered: string } {\n    return {\n      blockHovered: \"block-hovered\",\n    };\n  }\n\n  /**\n   * Editor.js UI CSS class names\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  public get CSS(): {\n    editorWrapper: string;\n    editorWrapperNarrow: string;\n    editorZone: string;\n    editorZoneHidden: string;\n    editorLoader: string;\n    editorEmpty: string;\n    editorRtlFix: string;\n  } {\n    return {\n      editorWrapper: \"codex-editor\",\n      editorWrapperNarrow: \"codex-editor--narrow\",\n      editorZone: \"codex-editor__redactor\",\n      editorZoneHidden: \"codex-editor__redactor--hidden\",\n      editorLoader: \"codex-editor__loader\",\n      editorEmpty: \"codex-editor--empty\",\n      editorRtlFix: \"codex-editor--rtl\",\n    };\n  }\n\n  /**\n   * Return Width of center column of Editor\n   *\n   * @returns {DOMRect}\n   */\n  public get contentRect(): DOMRect {\n    if (this.contentRectCache) {\n      return this.contentRectCache;\n    }\n\n    const someBlock = this.nodes.wrapper.querySelector(`.${Block.CSS.content}`);\n\n    /**\n     * When Editor is not ready, there is no Blocks, so return the default value\n     */\n    if (!someBlock) {\n      return {\n        width: 650,\n        left: 0,\n        right: 0,\n      } as DOMRect;\n    }\n\n    this.contentRectCache = someBlock.getBoundingClientRect() as DOMRect;\n\n    return this.contentRectCache;\n  }\n\n  /**\n   * Flag that became true on mobile viewport\n   *\n   * @type {boolean}\n   */\n  public isMobile = false;\n\n  /**\n   * Cache for center column rectangle info\n   * Invalidates on window resize\n   *\n   * @type {DOMRect}\n   */\n  private contentRectCache: DOMRect = undefined;\n\n  /**\n   * Handle window resize only when it finished\n   *\n   * @type {() => void}\n   */\n  private resizeDebouncer: () => void = _.debounce(() => {\n    this.windowResize();\n  }, 200);\n\n  /**\n   * Adds loader to editor while content is not ready\n   */\n  public addLoader(): void {\n    this.nodes.loader = $.make(\"div\", this.CSS.editorLoader);\n    this.nodes.wrapper.prepend(this.nodes.loader);\n    this.nodes.redactor.classList.add(this.CSS.editorZoneHidden);\n  }\n\n  /**\n   * Removes loader when content has loaded\n   */\n  public removeLoader(): void {\n    this.nodes.loader.remove();\n    this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden);\n  }\n\n  /**\n   * Making main interface\n   */\n  public async prepare(): Promise<void> {\n    /**\n     * Detect mobile version\n     */\n    this.checkIsMobile();\n\n    /**\n     * Make main UI elements\n     */\n    this.make();\n\n    /**\n     * Loader for rendering process\n     */\n    this.addLoader();\n\n    /**\n     * Append SVG sprite\n     */\n    this.appendSVGSprite();\n\n    /**\n     * Load and append CSS\n     */\n    this.loadStyles();\n  }\n\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - removes all listeners from main UI module elements\n   *\n   * if readOnly is false:\n   *  - enables all listeners to UI module elements\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  public toggleReadOnly(readOnlyEnabled: boolean): void {\n    /**\n     * Prepare components based on read-only state\n     */\n    if (!readOnlyEnabled) {\n      /**\n       * Unbind all events\n       */\n      this.enableModuleBindings();\n    } else {\n      /**\n       * Bind events for the UI elements\n       */\n      this.disableModuleBindings();\n    }\n  }\n\n  /**\n   * Check if Editor is empty and set CSS class to wrapper\n   */\n  public checkEmptiness(): void {\n    const { BlockManager } = this.Editor;\n\n    this.nodes.wrapper.classList.toggle(\n      this.CSS.editorEmpty,\n      BlockManager.isEditorEmpty\n    );\n  }\n\n  /**\n   * Check if one of Toolbar is opened\n   * Used to prevent global keydowns (for example, Enter) conflicts with Enter-on-toolbar\n   *\n   * @returns {boolean}\n   */\n  public get someToolbarOpened(): boolean {\n    const { Toolbar, BlockSettings, InlineToolbar, ConversionToolbar } =\n      this.Editor;\n\n    return (\n      BlockSettings.opened ||\n      InlineToolbar.opened ||\n      ConversionToolbar.opened ||\n      Toolbar.toolbox.opened\n    );\n  }\n\n  /**\n   * Check for some Flipper-buttons is under focus\n   */\n  public get someFlipperButtonFocused(): boolean {\n    /**\n     * Toolbar has internal module (Toolbox) that has own Flipper,\n     * so we check it manually\n     */\n    if (this.Editor.Toolbar.toolbox.flipperHasFocus) {\n      return true;\n    }\n\n    return Object.entries(this.Editor)\n      .filter(([moduleName, moduleClass]) => {\n        return moduleClass.flipper instanceof Flipper;\n      })\n      .some(([moduleName, moduleClass]) => {\n        return moduleClass.flipper.currentItem;\n      });\n  }\n\n  /**\n   * Clean editor`s UI\n   */\n  public destroy(): void {\n    this.nodes.holder.innerHTML = \"\";\n  }\n\n  /**\n   * Close all Editor's toolbars\n   */\n  public closeAllToolbars(): void {\n    const { Toolbar, BlockSettings, InlineToolbar, ConversionToolbar } =\n      this.Editor;\n\n    BlockSettings.close();\n    InlineToolbar.close();\n    ConversionToolbar.close();\n    Toolbar.toolbox.close();\n  }\n\n  /**\n   * Check for mobile mode and cache a result\n   */\n  private checkIsMobile(): void {\n    this.isMobile = window.innerWidth < 200;\n  }\n\n  /**\n   * Makes Editor.js interface\n   */\n  private make(): void {\n    /**\n     * Element where we need to append Editor.js\n     *\n     * @type {Element}\n     */\n    this.nodes.holder = $.getHolder(this.config.holder);\n\n    /**\n     * Create and save main UI elements\n     */\n    this.nodes.wrapper = $.make(\"div\", [\n      this.CSS.editorWrapper,\n      ...(this.isRtl ? [this.CSS.editorRtlFix] : []),\n    ]);\n    this.nodes.redactor = $.make(\"div\", this.CSS.editorZone);\n\n    /**\n     * If Editor has injected into the narrow container, enable Narrow Mode\n     */\n    // if (this.nodes.holder.offsetWidth < this.contentRect.width) {\n    //   this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow);\n    // }\n\n    /**\n     * Set customizable bottom zone height\n     */\n    this.nodes.redactor.style.paddingBottom = this.config.minHeight + \"px\";\n\n    this.nodes.wrapper.appendChild(this.nodes.redactor);\n    this.nodes.holder.appendChild(this.nodes.wrapper);\n  }\n\n  /**\n   * Appends CSS\n   */\n  private loadStyles(): void {\n    /**\n     * Load CSS\n     */\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const styles = require(\"../../styles/main.css\");\n    const styleTagId = \"editor-js-styles\";\n\n    /**\n     * Do not append styles again if they are already on the page\n     */\n    if ($.get(styleTagId)) {\n      return;\n    }\n\n    /**\n     * Make tag\n     */\n    const tag = $.make(\"style\", null, {\n      id: styleTagId,\n      textContent: styles.toString(),\n    });\n\n    /**\n     * Append styles at the top of HEAD tag\n     */\n    $.prepend(document.head, tag);\n  }\n\n  /**\n   * Bind events on the Editor.js interface\n   */\n  private enableModuleBindings(): void {\n    this.readOnlyMutableListeners.on(\n      this.nodes.redactor,\n      \"click\",\n      (event: MouseEvent) => {\n        this.redactorClicked(event);\n      },\n      false\n    );\n\n    this.readOnlyMutableListeners.on(\n      this.nodes.redactor,\n      \"mousedown\",\n      (event: MouseEvent | TouchEvent) => {\n        this.documentTouched(event);\n      },\n      true\n    );\n\n    this.readOnlyMutableListeners.on(\n      this.nodes.redactor,\n      \"touchstart\",\n      (event: MouseEvent | TouchEvent) => {\n        this.documentTouched(event);\n      },\n      true\n    );\n\n    this.readOnlyMutableListeners.on(\n      document,\n      \"keydown\",\n      (event: KeyboardEvent) => {\n        this.documentKeydown(event);\n      },\n      true\n    );\n\n    this.readOnlyMutableListeners.on(\n      document,\n      \"mousedown\",\n      (event: MouseEvent) => {\n        this.documentClicked(event);\n      },\n      true\n    );\n\n    /**\n     * Handle selection change to manipulate Inline Toolbar appearance\n     */\n    this.readOnlyMutableListeners.on(\n      document,\n      \"selectionchange\",\n      (event: Event) => {\n        this.selectionChanged(event);\n      },\n      true\n    );\n\n    this.readOnlyMutableListeners.on(\n      window,\n      \"resize\",\n      () => {\n        this.resizeDebouncer();\n      },\n      {\n        passive: true,\n      }\n    );\n\n    /**\n     * Start watching 'block-hovered' events that is used by Toolbar for moving\n     */\n    this.watchBlockHoveredEvents();\n  }\n\n  /**\n   * Listen redactor mousemove to emit 'block-hovered' event\n   */\n  private watchBlockHoveredEvents(): void {\n    /**\n     * Used to not to emit the same block multiple times to the 'block-hovered' event on every mousemove\n     */\n    let blockHoveredEmitted;\n\n    this.readOnlyMutableListeners.on(\n      this.nodes.redactor,\n      \"mousemove\",\n      _.throttle((event: MouseEvent | TouchEvent) => {\n        const hoveredBlock = (event.target as Element).closest(\".ce-block\");\n\n        /**\n         * Do not trigger 'block-hovered' for cross-block selection\n         */\n        if (this.Editor.BlockSelection.anyBlockSelected) {\n          return;\n        }\n\n        if (!hoveredBlock) {\n          return;\n        }\n\n        if (blockHoveredEmitted === hoveredBlock) {\n          return;\n        }\n\n        blockHoveredEmitted = hoveredBlock;\n\n        this.eventsDispatcher.emit(this.events.blockHovered, {\n          block: this.Editor.BlockManager.getBlockByChildNode(hoveredBlock),\n        });\n      }, 20),\n      {\n        passive: true,\n      }\n    );\n  }\n\n  /**\n   * Unbind events on the Editor.js interface\n   */\n  private disableModuleBindings(): void {\n    this.readOnlyMutableListeners.clearAll();\n  }\n\n  /**\n   * Resize window handler\n   */\n  private windowResize(): void {\n    /**\n     * Invalidate content zone size cached, because it may be changed\n     */\n    this.contentRectCache = null;\n\n    /**\n     * Detect mobile version\n     */\n    this.checkIsMobile();\n  }\n\n  /**\n   * All keydowns on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private documentKeydown(event: KeyboardEvent): void {\n    switch (event.keyCode) {\n      case _.keyCodes.ENTER:\n        this.enterPressed(event);\n        break;\n\n      case _.keyCodes.BACKSPACE:\n        this.backspacePressed(event);\n        break;\n\n      case _.keyCodes.ESC:\n        this.escapePressed(event);\n        break;\n\n      default:\n        this.defaultBehaviour(event);\n        break;\n    }\n  }\n\n  /**\n   * Ignore all other document's keydown events\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private defaultBehaviour(event: KeyboardEvent): void {\n    const { currentBlock } = this.Editor.BlockManager;\n    const keyDownOnEditor = (event.target as HTMLElement).closest(\n      `.${this.CSS.editorWrapper}`\n    );\n    const isMetaKey =\n      event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n\n    /**\n     * When some block is selected, but the caret is not set inside the editor, treat such keydowns as keydown on selected block.\n     */\n    if (currentBlock !== undefined && keyDownOnEditor === null) {\n      this.Editor.BlockEvents.keydown(event);\n\n      return;\n    }\n\n    /**\n     * Ignore keydowns on editor and meta keys\n     */\n    if (keyDownOnEditor || (currentBlock && isMetaKey)) {\n      return;\n    }\n\n    /**\n     * Remove all highlights and remove caret\n     */\n    this.Editor.BlockManager.dropPointer();\n\n    /**\n     * Close Toolbar\n     */\n    this.Editor.Toolbar.close();\n  }\n\n  /**\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private backspacePressed(event: KeyboardEvent): void {\n    const { BlockManager, BlockSelection, Caret } = this.Editor;\n\n    /**\n     * If any block selected and selection doesn't exists on the page (that means no other editable element is focused),\n     * remove selected blocks\n     */\n    if (BlockSelection.anyBlockSelected && !Selection.isSelectionExists) {\n      const selectionPositionIndex = BlockManager.removeSelectedBlocks();\n\n      Caret.setToBlock(\n        BlockManager.insertDefaultBlockAtIndex(selectionPositionIndex, true),\n        Caret.positions.START\n      );\n\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n\n      /**\n       * Stop propagations\n       * Manipulation with BlockSelections is handled in global backspacePress because they may occur\n       * with CMD+A or RectangleSelection and they can be handled on document event\n       */\n      event.preventDefault();\n      event.stopPropagation();\n      event.stopImmediatePropagation();\n    }\n  }\n\n  /**\n   * Escape pressed\n   * If some of Toolbar components are opened, then close it otherwise close Toolbar\n   *\n   * @param {Event} event - escape keydown event\n   */\n  private escapePressed(event): void {\n    /**\n     * Clear blocks selection by ESC\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n\n    if (this.Editor.Toolbar.toolbox.opened) {\n      this.Editor.Toolbar.toolbox.close();\n    } else if (this.Editor.BlockSettings.opened) {\n      this.Editor.BlockSettings.close();\n    } else if (this.Editor.ConversionToolbar.opened) {\n      this.Editor.ConversionToolbar.close();\n    } else if (this.Editor.InlineToolbar.opened) {\n      this.Editor.InlineToolbar.close();\n    } else {\n      this.Editor.Toolbar.close();\n    }\n  }\n\n  /**\n   * Enter pressed on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  private enterPressed(event: KeyboardEvent): void {\n    const { BlockManager, BlockSelection } = this.Editor;\n    const hasPointerToBlock = BlockManager.currentBlockIndex >= 0;\n\n    /**\n     * If any block selected and selection doesn't exists on the page (that means no other editable element is focused),\n     * remove selected blocks\n     */\n    if (BlockSelection.anyBlockSelected && !Selection.isSelectionExists) {\n      /** Clear selection */\n      BlockSelection.clearSelection(event);\n\n      /**\n       * Stop propagations\n       * Manipulation with BlockSelections is handled in global enterPress because they may occur\n       * with CMD+A or RectangleSelection\n       */\n      event.preventDefault();\n      event.stopImmediatePropagation();\n      event.stopPropagation();\n\n      return;\n    }\n\n    /**\n     * If Caret is not set anywhere, event target on Enter is always Element that we handle\n     * In our case it is document.body\n     *\n     * So, BlockManager points some Block and Enter press is on Body\n     * We can create a new block\n     */\n    if (\n      !this.someToolbarOpened &&\n      hasPointerToBlock &&\n      (event.target as HTMLElement).tagName === \"BODY\"\n    ) {\n      /**\n       * Insert the default typed Block\n       */\n      const newBlock = this.Editor.BlockManager.insert();\n\n      this.Editor.Caret.setToBlock(newBlock);\n\n      /**\n       * And highlight\n       */\n      this.Editor.BlockManager.highlightCurrentNode();\n\n      /**\n       * Move toolbar and show plus button because new Block is empty\n       */\n      this.Editor.Toolbar.moveAndOpen(newBlock);\n    }\n\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * All clicks on document\n   *\n   * @param {MouseEvent} event - Click event\n   */\n  private documentClicked(event: MouseEvent): void {\n    /**\n     * Sometimes we emulate click on some UI elements, for example by Enter on Block Settings button\n     * We don't need to handle such events, because they handled in other place.\n     */\n    if (!event.isTrusted) {\n      return;\n    }\n    /**\n     * Close Inline Toolbar when nothing selected\n     * Do not fire check on clicks at the Inline Toolbar buttons\n     */\n    const target = event.target as HTMLElement;\n    const clickedInsideOfEditor =\n      this.nodes.holder.contains(target) || Selection.isAtEditor;\n\n    if (!clickedInsideOfEditor) {\n      /**\n       * Clear highlights and pointer on BlockManager\n       *\n       * Current page might contain several instances\n       * Click between instances MUST clear focus, pointers and close toolbars\n       */\n      this.Editor.BlockManager.dropPointer();\n      this.Editor.Toolbar.close();\n    }\n\n    /**\n     * If Block Settings opened, close them by click on document.\n     *\n     * But allow clicking inside Block Settings.\n     * Also, do not process clicks on the Block Settings Toggler, because it has own click listener\n     */\n    const isClickedInsideBlockSettings =\n      this.Editor.BlockSettings.nodes.wrapper.contains(target);\n    const isClickedInsideBlockSettingsToggler =\n      this.Editor.Toolbar.nodes.settingsToggler.contains(target);\n    const doNotProcess =\n      isClickedInsideBlockSettings || isClickedInsideBlockSettingsToggler;\n\n    if (this.Editor.BlockSettings.opened && !doNotProcess) {\n      this.Editor.BlockSettings.close();\n\n      const clickedBlock = this.Editor.BlockManager.getBlockByChildNode(target);\n\n      this.Editor.Toolbar.moveAndOpen(clickedBlock);\n    }\n\n    /**\n     * Clear Selection if user clicked somewhere\n     */\n    this.Editor.BlockSelection.clearSelection(event);\n  }\n\n  /**\n   * First touch on editor\n   * Fired before click\n   *\n   * Used to change current block  we need to do it before 'selectionChange' event.\n   * Also:\n   * - Move and show the Toolbar\n   * - Set a Caret\n   *\n   * @param {MouseEvent | TouchEvent} event - touch or mouse event\n   */\n  private documentTouched(event: MouseEvent | TouchEvent): void {\n    let clickedNode = event.target as HTMLElement;\n\n    /**\n     * If click was fired on Editor`s wrapper, try to get clicked node by elementFromPoint method\n     */\n    if (clickedNode === this.nodes.redactor) {\n      const clientX =\n        event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n      const clientY =\n        event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n\n      clickedNode = document.elementFromPoint(clientX, clientY) as HTMLElement;\n    }\n\n    /**\n     * Select clicked Block as Current\n     */\n    try {\n      /**\n       * Renew Current Block\n       */\n      this.Editor.BlockManager.setCurrentBlockByChildNode(clickedNode);\n\n      /**\n       * Highlight Current Node\n       */\n      this.Editor.BlockManager.highlightCurrentNode();\n    } catch (e) {\n      /**\n       * If clicked outside first-level Blocks and it is not RectSelection, set Caret to the last empty Block\n       */\n      if (!this.Editor.RectangleSelection.isRectActivated()) {\n        this.Editor.Caret.setToTheLastBlock();\n      }\n    }\n\n    /**\n     * Move and open toolbar\n     * (used for showing Block Settings toggler after opening and closing Inline Toolbar)\n     */\n    this.Editor.Toolbar.moveAndOpen();\n  }\n\n  /**\n   * All clicks on the redactor zone\n   *\n   * @param {MouseEvent} event - click event\n   *\n   * @description\n   * - By clicks on the Editor's bottom zone:\n   *      - if last Block is empty, set a Caret to this\n   *      - otherwise, add a new empty Block and set a Caret to that\n   */\n  private redactorClicked(event: MouseEvent): void {\n    const { BlockSelection } = this.Editor;\n\n    if (!Selection.isCollapsed) {\n      return;\n    }\n\n    const stopPropagation = (): void => {\n      event.stopImmediatePropagation();\n      event.stopPropagation();\n    };\n\n    /**\n     * case when user clicks on anchor element\n     * if it is clicked via ctrl key, then we open new window with url\n     */\n    const element = event.target as Element;\n    const ctrlKey = event.metaKey || event.ctrlKey;\n\n    if ($.isAnchor(element) && ctrlKey) {\n      stopPropagation();\n\n      const href = element.getAttribute(\"href\");\n      const validUrl = _.getValidUrl(href);\n\n      _.openTab(validUrl);\n\n      return;\n    }\n\n    const lastBlock = this.Editor.BlockManager.getBlockByIndex(-1);\n    const lastBlockBottomCoord = $.offset(lastBlock.holder).bottom;\n    const clickedCoord = event.pageY;\n\n    const isClickedBottom =\n      event.target instanceof Element &&\n      event.target.isEqualNode(this.nodes.redactor) &&\n      /**\n       * If there is cross block selection started, target will be equal to redactor so we need additional check\n       */\n      !BlockSelection.anyBlockSelected &&\n      /**\n       * Prevent caret jumping (to last block) when clicking between blocks\n       */\n      lastBlockBottomCoord < clickedCoord;\n\n    if (isClickedBottom) {\n      stopPropagation();\n\n      const { BlockManager, Caret, Toolbar } = this.Editor;\n\n      /**\n       * Insert a default-block at the bottom if:\n       * - last-block is not a default-block (Text)\n       *   to prevent unnecessary tree-walking on Tools with many nodes (for ex. Table)\n       * - Or, default-block is not empty\n       */\n      if (\n        !BlockManager.lastBlock.tool.isDefault ||\n        !BlockManager.lastBlock.isEmpty\n      ) {\n        BlockManager.insertAtEnd();\n      }\n\n      /**\n       * Set the caret and toolbar to empty Block\n       */\n      Caret.setToTheLastBlock();\n      Toolbar.moveAndOpen(BlockManager.lastBlock);\n    }\n  }\n\n  /**\n   * Handle selection changes on mobile devices\n   * Uses for showing the Inline Toolbar\n   *\n   * @param {Event} event - selection event\n   */\n  private selectionChanged(event: Event): void {\n    const { CrossBlockSelection, BlockSelection } = this.Editor;\n    const focusedElement = Selection.anchorElement;\n\n    if (CrossBlockSelection.isCrossBlockSelectionStarted) {\n      // Removes all ranges when any Block is selected\n      if (BlockSelection.anyBlockSelected) {\n        Selection.get().removeAllRanges();\n      }\n    }\n\n    /**\n     * Usual clicks on some controls, for example, Block Tunes Toggler\n     */\n    if (!focusedElement) {\n      /**\n       * If there is no selected range, close inline toolbar\n       *\n       * @todo Make this method more straightforward\n       */\n      if (!Selection.range) {\n        this.Editor.InlineToolbar.close();\n      }\n\n      return;\n    }\n\n    /**\n     * Event can be fired on clicks at non-block-content elements,\n     * for example, at the Inline Toolbar or some Block Tune element\n     */\n    const clickedOutsideBlockContent =\n      focusedElement.closest(`.${Block.CSS.content}`) === null;\n\n    if (clickedOutsideBlockContent) {\n      /**\n       * If new selection is not on Inline Toolbar, we need to close it\n       */\n      if (!this.Editor.InlineToolbar.containsNode(focusedElement)) {\n        this.Editor.InlineToolbar.close();\n      }\n\n      /**\n       * Case when we click on external tool elements,\n       * for example some Block Tune element.\n       * If this external content editable element has data-inline-toolbar=\"true\"\n       */\n      const inlineToolbarEnabledForExternalTool =\n        (focusedElement as HTMLElement).dataset.inlineToolbar === \"true\";\n\n      if (!inlineToolbarEnabledForExternalTool) {\n        return;\n      }\n    }\n\n    /**\n     * Set current block when entering to Editor.js by tab key\n     */\n    if (!this.Editor.BlockManager.currentBlock) {\n      this.Editor.BlockManager.setCurrentBlockByChildNode(focusedElement);\n    }\n\n    const isNeedToShowConversionToolbar = clickedOutsideBlockContent !== true;\n\n    /**\n     * @todo add debounce\n     */\n    this.Editor.InlineToolbar.tryToShow(true, isNeedToShowConversionToolbar);\n  }\n\n  /**\n   * Append prebuilt sprite with SVG icons\n   */\n  private appendSVGSprite(): void {\n    const spriteHolder = $.make(\"div\");\n\n    spriteHolder.hidden = true;\n    spriteHolder.style.display = \"none\";\n    spriteHolder.innerHTML = sprite;\n\n    $.append(this.nodes.wrapper, spriteHolder);\n  }\n}\n","require(\"./lib/noConflict\");\n","\"use strict\";\n\nrequire(\"core-js/es6\");\n\nrequire(\"core-js/fn/array/includes\");\n\nrequire(\"core-js/fn/array/flat-map\");\n\nrequire(\"core-js/fn/string/pad-start\");\n\nrequire(\"core-js/fn/string/pad-end\");\n\nrequire(\"core-js/fn/string/trim-start\");\n\nrequire(\"core-js/fn/string/trim-end\");\n\nrequire(\"core-js/fn/symbol/async-iterator\");\n\nrequire(\"core-js/fn/object/get-own-property-descriptors\");\n\nrequire(\"core-js/fn/object/values\");\n\nrequire(\"core-js/fn/object/entries\");\n\nrequire(\"core-js/fn/promise/finally\");\n\nrequire(\"core-js/web\");\n\nrequire(\"regenerator-runtime/runtime\");","require('../modules/es6.symbol');\nrequire('../modules/es6.object.create');\nrequire('../modules/es6.object.define-property');\nrequire('../modules/es6.object.define-properties');\nrequire('../modules/es6.object.get-own-property-descriptor');\nrequire('../modules/es6.object.get-prototype-of');\nrequire('../modules/es6.object.keys');\nrequire('../modules/es6.object.get-own-property-names');\nrequire('../modules/es6.object.freeze');\nrequire('../modules/es6.object.seal');\nrequire('../modules/es6.object.prevent-extensions');\nrequire('../modules/es6.object.is-frozen');\nrequire('../modules/es6.object.is-sealed');\nrequire('../modules/es6.object.is-extensible');\nrequire('../modules/es6.object.assign');\nrequire('../modules/es6.object.is');\nrequire('../modules/es6.object.set-prototype-of');\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.function.bind');\nrequire('../modules/es6.function.name');\nrequire('../modules/es6.function.has-instance');\nrequire('../modules/es6.parse-int');\nrequire('../modules/es6.parse-float');\nrequire('../modules/es6.number.constructor');\nrequire('../modules/es6.number.to-fixed');\nrequire('../modules/es6.number.to-precision');\nrequire('../modules/es6.number.epsilon');\nrequire('../modules/es6.number.is-finite');\nrequire('../modules/es6.number.is-integer');\nrequire('../modules/es6.number.is-nan');\nrequire('../modules/es6.number.is-safe-integer');\nrequire('../modules/es6.number.max-safe-integer');\nrequire('../modules/es6.number.min-safe-integer');\nrequire('../modules/es6.number.parse-float');\nrequire('../modules/es6.number.parse-int');\nrequire('../modules/es6.math.acosh');\nrequire('../modules/es6.math.asinh');\nrequire('../modules/es6.math.atanh');\nrequire('../modules/es6.math.cbrt');\nrequire('../modules/es6.math.clz32');\nrequire('../modules/es6.math.cosh');\nrequire('../modules/es6.math.expm1');\nrequire('../modules/es6.math.fround');\nrequire('../modules/es6.math.hypot');\nrequire('../modules/es6.math.imul');\nrequire('../modules/es6.math.log10');\nrequire('../modules/es6.math.log1p');\nrequire('../modules/es6.math.log2');\nrequire('../modules/es6.math.sign');\nrequire('../modules/es6.math.sinh');\nrequire('../modules/es6.math.tanh');\nrequire('../modules/es6.math.trunc');\nrequire('../modules/es6.string.from-code-point');\nrequire('../modules/es6.string.raw');\nrequire('../modules/es6.string.trim');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/es6.string.code-point-at');\nrequire('../modules/es6.string.ends-with');\nrequire('../modules/es6.string.includes');\nrequire('../modules/es6.string.repeat');\nrequire('../modules/es6.string.starts-with');\nrequire('../modules/es6.string.anchor');\nrequire('../modules/es6.string.big');\nrequire('../modules/es6.string.blink');\nrequire('../modules/es6.string.bold');\nrequire('../modules/es6.string.fixed');\nrequire('../modules/es6.string.fontcolor');\nrequire('../modules/es6.string.fontsize');\nrequire('../modules/es6.string.italics');\nrequire('../modules/es6.string.link');\nrequire('../modules/es6.string.small');\nrequire('../modules/es6.string.strike');\nrequire('../modules/es6.string.sub');\nrequire('../modules/es6.string.sup');\nrequire('../modules/es6.date.now');\nrequire('../modules/es6.date.to-json');\nrequire('../modules/es6.date.to-iso-string');\nrequire('../modules/es6.date.to-string');\nrequire('../modules/es6.date.to-primitive');\nrequire('../modules/es6.array.is-array');\nrequire('../modules/es6.array.from');\nrequire('../modules/es6.array.of');\nrequire('../modules/es6.array.join');\nrequire('../modules/es6.array.slice');\nrequire('../modules/es6.array.sort');\nrequire('../modules/es6.array.for-each');\nrequire('../modules/es6.array.map');\nrequire('../modules/es6.array.filter');\nrequire('../modules/es6.array.some');\nrequire('../modules/es6.array.every');\nrequire('../modules/es6.array.reduce');\nrequire('../modules/es6.array.reduce-right');\nrequire('../modules/es6.array.index-of');\nrequire('../modules/es6.array.last-index-of');\nrequire('../modules/es6.array.copy-within');\nrequire('../modules/es6.array.fill');\nrequire('../modules/es6.array.find');\nrequire('../modules/es6.array.find-index');\nrequire('../modules/es6.array.species');\nrequire('../modules/es6.array.iterator');\nrequire('../modules/es6.regexp.constructor');\nrequire('../modules/es6.regexp.exec');\nrequire('../modules/es6.regexp.to-string');\nrequire('../modules/es6.regexp.flags');\nrequire('../modules/es6.regexp.match');\nrequire('../modules/es6.regexp.replace');\nrequire('../modules/es6.regexp.search');\nrequire('../modules/es6.regexp.split');\nrequire('../modules/es6.promise');\nrequire('../modules/es6.map');\nrequire('../modules/es6.set');\nrequire('../modules/es6.weak-map');\nrequire('../modules/es6.weak-set');\nrequire('../modules/es6.typed.array-buffer');\nrequire('../modules/es6.typed.data-view');\nrequire('../modules/es6.typed.int8-array');\nrequire('../modules/es6.typed.uint8-array');\nrequire('../modules/es6.typed.uint8-clamped-array');\nrequire('../modules/es6.typed.int16-array');\nrequire('../modules/es6.typed.uint16-array');\nrequire('../modules/es6.typed.int32-array');\nrequire('../modules/es6.typed.uint32-array');\nrequire('../modules/es6.typed.float32-array');\nrequire('../modules/es6.typed.float64-array');\nrequire('../modules/es6.reflect.apply');\nrequire('../modules/es6.reflect.construct');\nrequire('../modules/es6.reflect.define-property');\nrequire('../modules/es6.reflect.delete-property');\nrequire('../modules/es6.reflect.enumerate');\nrequire('../modules/es6.reflect.get');\nrequire('../modules/es6.reflect.get-own-property-descriptor');\nrequire('../modules/es6.reflect.get-prototype-of');\nrequire('../modules/es6.reflect.has');\nrequire('../modules/es6.reflect.is-extensible');\nrequire('../modules/es6.reflect.own-keys');\nrequire('../modules/es6.reflect.prevent-extensions');\nrequire('../modules/es6.reflect.set');\nrequire('../modules/es6.reflect.set-prototype-of');\nmodule.exports = require('../modules/_core');\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function () {\n  return require('./_object-gopn-ext').f;\n});\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function ($seal) {\n  return function seal(it) {\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function ($preventExtensions) {\n  return function preventExtensions(it) {\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function ($isFrozen) {\n  return function isFrozen(it) {\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function ($isSealed) {\n  return function isSealed(it) {\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function ($isExtensible) {\n  return function isExtensible(it) {\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', { is: require('./_same-value') });\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', { bind: require('./_bind') });\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","'use strict';\nvar isObject = require('./_is-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar HAS_INSTANCE = require('./_wks')('hasInstance');\nvar FunctionProto = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif (!(HAS_INSTANCE in FunctionProto)) require('./_object-dp').f(FunctionProto, HAS_INSTANCE, { value: function (O) {\n  if (typeof this != 'function' || !isObject(O)) return false;\n  if (!isObject(this.prototype)) return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n  return false;\n} });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","'use strict';\nvar $export = require('./_export');\nvar toInteger = require('./_to-integer');\nvar aNumberValue = require('./_a-number-value');\nvar repeat = require('./_string-repeat');\nvar $toFixed = 1.0.toFixed;\nvar floor = Math.floor;\nvar data = [0, 0, 0, 0, 0, 0];\nvar ERROR = 'Number.toFixed: incorrect invocation!';\nvar ZERO = '0';\n\nvar multiply = function (n, c) {\n  var i = -1;\n  var c2 = c;\n  while (++i < 6) {\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function (n) {\n  var i = 6;\n  var c = 0;\n  while (--i >= 0) {\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function () {\n  var i = 6;\n  var s = '';\n  while (--i >= 0) {\n    if (s !== '' || i === 0 || data[i] !== 0) {\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !require('./_fails')(function () {\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits) {\n    var x = aNumberValue(this, ERROR);\n    var f = toInteger(fractionDigits);\n    var s = '';\n    var m = ZERO;\n    var e, z, j, k;\n    if (f < 0 || f > 20) throw RangeError(ERROR);\n    // eslint-disable-next-line no-self-compare\n    if (x != x) return 'NaN';\n    if (x <= -1e21 || x >= 1e21) return String(x);\n    if (x < 0) {\n      s = '-';\n      x = -x;\n    }\n    if (x > 1e-21) {\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = f;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if (f > 0) {\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $fails = require('./_fails');\nvar aNumberValue = require('./_a-number-value');\nvar $toPrecision = 1.0.toPrecision;\n\n$export($export.P + $export.F * ($fails(function () {\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function () {\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision) {\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);\n  }\n});\n","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n","// 20.1.2.2 Number.isFinite(number)\nvar $export = require('./_export');\nvar _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it) {\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","// 20.1.2.5 Number.isSafeInteger(number)\nvar $export = require('./_export');\nvar isInteger = require('./_is-integer');\nvar abs = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n","// 20.2.2.3 Math.acosh(x)\nvar $export = require('./_export');\nvar log1p = require('./_math-log1p');\nvar sqrt = Math.sqrt;\nvar $acosh = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n","// 20.2.2.5 Math.asinh(x)\nvar $export = require('./_export');\nvar $asinh = Math.asinh;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0\n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });\n","// 20.2.2.7 Math.atanh(x)\nvar $export = require('./_export');\nvar $atanh = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0\n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export');\nvar sign = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n","// 20.2.2.11 Math.clz32(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x) {\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n","// 20.2.2.14 Math.expm1(x)\nvar $export = require('./_export');\nvar $expm1 = require('./_math-expm1');\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });\n","// 20.2.2.16 Math.fround(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { fround: require('./_math-fround') });\n","// 20.2.2.16 Math.fround(x)\nvar sign = require('./_math-sign');\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = Math.abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","// 20.2.2.17 Math.hypot([value1[, value2[,  ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./_export');\nvar $imul = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./_fails')(function () {\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y) {\n    var UINT16 = 0xffff;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","// 20.2.2.20 Math.log1p(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { log1p: require('./_math-log1p') });\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function () {\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x) {\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n","var $export = require('./_export');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar fromCharCode = String.fromCharCode;\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var res = [];\n    var aLen = arguments.length;\n    var i = 0;\n    var code;\n    while (aLen > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n","var $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite) {\n    var tpl = toIObject(callSite.raw);\n    var len = toLength(tpl.length);\n    var aLen = arguments.length;\n    var res = [];\n    var i = 0;\n    while (len > i) {\n      res.push(String(tpl[i++]));\n      if (i < aLen) res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar $export = require('./_export');\nvar $at = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos) {\n    return $at(this, pos);\n  }\n});\n","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function (createHTML) {\n  return function big() {\n    return createHTML(this, 'big', '', '');\n  };\n});\n","'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function (createHTML) {\n  return function blink() {\n    return createHTML(this, 'blink', '', '');\n  };\n});\n","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function (createHTML) {\n  return function bold() {\n    return createHTML(this, 'b', '', '');\n  };\n});\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function (createHTML) {\n  return function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  };\n});\n","'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function (createHTML) {\n  return function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  };\n});\n","'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function (createHTML) {\n  return function italics() {\n    return createHTML(this, 'i', '', '');\n  };\n});\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function (createHTML) {\n  return function small() {\n    return createHTML(this, 'small', '', '');\n  };\n});\n","'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function (createHTML) {\n  return function strike() {\n    return createHTML(this, 'strike', '', '');\n  };\n});\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function (createHTML) {\n  return function sup() {\n    return createHTML(this, 'sup', '', '');\n  };\n});\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  require('./_redefine')(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n","var TO_PRIMITIVE = require('./_wks')('toPrimitive');\nvar proto = Date.prototype;\n\nif (!(TO_PRIMITIVE in proto)) require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));\n","'use strict';\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\nvar NUMBER = 'number';\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== NUMBER && hint !== 'default') throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */) {\n    var index = 0;\n    var aLen = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(aLen);\n    while (aLen > index) createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n","'use strict';\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {\n  join: function join(separator) {\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar html = require('./_html');\nvar cof = require('./_cof');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * require('./_fails')(function () {\n  if (html) arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end) {\n    var len = toLength(this.length);\n    var klass = cof(this);\n    end = end === undefined ? len : end;\n    if (klass == 'Array') return arraySlice.call(this, begin, end);\n    var start = toAbsoluteIndex(begin, len);\n    var upTo = toAbsoluteIndex(end, len);\n    var size = toLength(upTo - start);\n    var cloned = new Array(size);\n    var i = 0;\n    for (; i < size; i++) cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $every = require('./_array-methods')(4);\n\n$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });\n\nrequire('./_add-to-unscopables')('copyWithin');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","require('./_set-species')('Array');\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar sameValue = require('./_same-value');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[SEARCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative($search, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","'use strict';\nvar weak = require('./_collection-weak');\nvar validate = require('./_validate-collection');\nvar WEAK_SET = 'WeakSet';\n\n// 23.4 WeakSet Objects\nrequire('./_collection')(WEAK_SET, function (get) {\n  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value) {\n    return weak.def(validate(this, WEAK_SET), value, true);\n  }\n}, weak, false, true);\n","'use strict';\nvar $export = require('./_export');\nvar $typed = require('./_typed');\nvar buffer = require('./_typed-buffer');\nvar anObject = require('./_an-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar isObject = require('./_is-object');\nvar ArrayBuffer = require('./_global').ArrayBuffer;\nvar speciesConstructor = require('./_species-constructor');\nvar $ArrayBuffer = buffer.ArrayBuffer;\nvar $DataView = buffer.DataView;\nvar $isView = $typed.ABV && ArrayBuffer.isView;\nvar $slice = $ArrayBuffer.prototype.slice;\nvar VIEW = $typed.VIEW;\nvar ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it) {\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * require('./_fails')(function () {\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end) {\n    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix\n    var len = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, len);\n    var fin = toAbsoluteIndex(end === undefined ? len : end, len);\n    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(fin - first));\n    var viewS = new $DataView(this);\n    var viewT = new $DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\nrequire('./_set-species')(ARRAY_BUFFER);\n","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar rApply = (require('./_global').Reflect || {}).apply;\nvar fApply = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function () {\n  rApply(function () { /* empty */ });\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList) {\n    var T = aFunction(target);\n    var L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP = require('./_object-dp');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export = require('./_export');\nvar gOPD = require('./_object-gopd').f;\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n","'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar Enumerate = function (iterated) {\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = [];      // keys\n  var key;\n  for (key in iterated) keys.push(key);\n};\nrequire('./_iter-create')(Enumerate, 'Object', function () {\n  var that = this;\n  var keys = that._k;\n  var key;\n  do {\n    if (that._i >= keys.length) return { value: undefined, done: true };\n  } while (!((key = keys[that._i++]) in that._t));\n  return { value: key, done: false };\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target) {\n    return new Enumerate(target);\n  }\n});\n","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\n\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var desc, proto;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', { get: get });\n","// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD = require('./_object-gopd');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n","// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export = require('./_export');\nvar getProto = require('./_object-gpo');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return getProto(anObject(target));\n  }\n});\n","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","// 26.1.10 Reflect.isExtensible(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });\n","// 26.1.12 Reflect.preventExtensions(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      if ($preventExtensions) $preventExtensions(target);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP = require('./_object-dp');\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar createDesc = require('./_property-desc');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\n\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDesc = gOPD.f(anObject(target), propertyKey);\n  var existingDescriptor, proto;\n  if (!ownDesc) {\n    if (isObject(proto = getPrototypeOf(target))) {\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if (has(ownDesc, 'value')) {\n    if (ownDesc.writable === false || !isObject(receiver)) return false;\n    if (existingDescriptor = gOPD.f(receiver, propertyKey)) {\n      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;\n      existingDescriptor.value = V;\n      dP.f(receiver, propertyKey, existingDescriptor);\n    } else dP.f(receiver, propertyKey, createDesc(0, V));\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', { set: set });\n","// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export = require('./_export');\nvar setProto = require('./_set-proto');\n\nif (setProto) $export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","require('../../modules/es7.array.includes');\nmodule.exports = require('../../modules/_core').Array.includes;\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","require('../../modules/es7.array.flat-map');\nmodule.exports = require('../../modules/_core').Array.flatMap;\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n","require('../../modules/es7.string.pad-start');\nmodule.exports = require('../../modules/_core').String.padStart;\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","require('../../modules/es7.string.pad-end');\nmodule.exports = require('../../modules/_core').String.padEnd;\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n","require('../../modules/es7.string.trim-left');\nmodule.exports = require('../../modules/_core').String.trimLeft;\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","require('../../modules/es7.string.trim-right');\nmodule.exports = require('../../modules/_core').String.trimRight;\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function ($trim) {\n  return function trimRight() {\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n","require('../../modules/es7.symbol.async-iterator');\nmodule.exports = require('../../modules/_wks-ext').f('asyncIterator');\n","require('./_wks-define')('asyncIterator');\n","require('../../modules/es7.object.get-own-property-descriptors');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertyDescriptors;\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","require('../../modules/es7.object.entries');\nmodule.exports = require('../../modules/_core').Object.entries;\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","'use strict';\nrequire('../../modules/es6.promise');\nrequire('../../modules/es7.promise.finally');\nmodule.exports = require('../../modules/_core').Promise['finally'];\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","require('../modules/web.timers');\nrequire('../modules/web.immediate');\nrequire('../modules/web.dom.iterable');\nmodule.exports = require('../modules/_core');\n","// ie9- setTimeout & setInterval additional parameters fix\nvar global = require('./_global');\nvar $export = require('./_export');\nvar userAgent = require('./_user-agent');\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\nvar wrap = function (set) {\n  return function (fn, time /* , ...args */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : false;\n    return set(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);\n    } : fn, time);\n  };\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout: wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n","var $export = require('./_export');\nvar $task = require('./_task');\n$export($export.G + $export.B, {\n  setImmediate: $task.set,\n  clearImmediate: $task.clear\n});\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","\"use strict\";\n\nimport { EditorConfig } from \"../types\";\n\n/**\n * Apply polyfills\n */\nimport \"@babel/register\";\n\nimport \"components/polyfills\";\nimport Core from \"./components/core\";\nimport * as _ from \"./components/utils\";\n\ndeclare const VERSION: string;\n\n/**\n * Editor.js\n *\n * Short Description (_;)\n *\n * @version 2.18.0\n *\n * @license Apache-2.0\n * @author CodeX-Team <https://ifmo.su>\n */\nexport default class EditorJS {\n  /**\n   * Promise that resolves when core modules are ready and UI is rendered on the page\n   */\n  public isReady: Promise<void>;\n\n  /**\n   * Stores destroy method implementation.\n   * Clear heap occupied by Editor and remove UI components from the DOM.\n   */\n  public destroy: () => void;\n\n  /** Editor version */\n  public static get version(): string {\n    return VERSION;\n  }\n\n  /**\n   * @param {EditorConfig|string|undefined} [configuration] - user configuration\n   */\n  constructor(configuration?: EditorConfig | string) {\n    /**\n     * Set default onReady function\n     */\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    let onReady = (): void => {};\n\n    /**\n     * If `onReady` was passed in `configuration` then redefine onReady function\n     */\n    if (_.isObject(configuration) && _.isFunction(configuration.onReady)) {\n      onReady = configuration.onReady;\n    }\n\n    /**\n     * Create a Editor.js instance\n     */\n    const editor = new Core(configuration);\n\n    /**\n     * We need to export isReady promise in the constructor\n     * as it can be used before other API methods are exported\n     *\n     * @type {Promise<void>}\n     */\n    this.isReady = editor.isReady.then(() => {\n      this.exportAPI(editor);\n      onReady();\n    });\n  }\n\n  /**\n   * Export external API methods\n   *\n   * @param {Core} editor  Editor's instance\n   */\n  public exportAPI(editor: Core): void {\n    const fieldsToExport = [\"configuration\"];\n    const destroy = (): void => {\n      Object.values(editor.moduleInstances).forEach((moduleInstance) => {\n        if (_.isFunction(moduleInstance.destroy)) {\n          moduleInstance.destroy();\n        }\n        moduleInstance.listeners.removeAll();\n      });\n\n      editor = null;\n\n      for (const field in this) {\n        if (Object.prototype.hasOwnProperty.call(this, field)) {\n          delete this[field];\n        }\n      }\n\n      Object.setPrototypeOf(this, null);\n    };\n\n    fieldsToExport.forEach((field) => {\n      this[field] = editor[field];\n    });\n\n    this.destroy = destroy;\n\n    Object.setPrototypeOf(this, editor.moduleInstances.API.methods);\n\n    delete this.exportAPI;\n\n    const shorthands = {\n      blocks: {\n        clear: \"clear\",\n        render: \"render\",\n      },\n      caret: {\n        focus: \"focus\",\n      },\n      events: {\n        on: \"on\",\n        off: \"off\",\n        emit: \"emit\",\n      },\n      saver: {\n        save: \"save\",\n      },\n    };\n\n    Object.entries(shorthands).forEach(([key, methods]) => {\n      Object.entries(methods).forEach(([name, alias]) => {\n        this[alias] = editor.moduleInstances.API.methods[key][name];\n      });\n    });\n  }\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","exports = module.exports = function (...args) {\n  return register(...args);\n};\n\nexports.__esModule = true;\n\nconst node = require(\"./node\");\n\nconst register = node.default;\nObject.assign(exports, node);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = register;\nexports.revert = revert;\n\nfunction register() {}\n\nfunction revert() {}","'use strict';\n\n/**\n * Extend Element interface to include prefixed and experimental properties\n */\ninterface Element {\n  matchesSelector: (selector: string) => boolean;\n  mozMatchesSelector: (selector: string) => boolean;\n  msMatchesSelector: (selector: string) => boolean;\n  oMatchesSelector: (selector: string) => boolean;\n\n  prepend: (...nodes: Array<string | Node>) => void;\n  append: (...nodes: Array<string | Node>) => void;\n}\n\n/**\n * The Element.matches() method returns true if the element\n * would be selected by the specified selector string;\n * otherwise, returns false.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill}\n *\n * @param {string} s - selector\n */\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function (s): boolean {\n      const matches = (this.document || this.ownerDocument).querySelectorAll(s);\n      let i = matches.length;\n\n      while (--i >= 0 && matches.item(i) !== this) {\n      }\n\n      return i > -1;\n    };\n}\n\n/**\n * The Element.closest() method returns the closest ancestor\n * of the current element (or the current element itself) which\n * matches the selectors given in parameter.\n * If there isn't such an ancestor, it returns null.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill}\n *\n * @param {string} s - selector\n */\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function (s): Element | null {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let el = this;\n\n    if (!document.documentElement.contains(el)) {\n      return null;\n    }\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = el.parentElement || el.parentNode;\n    } while (el !== null);\n\n    return null;\n  };\n}\n\n/**\n * The ParentNode.prepend method inserts a set of Node objects\n * or DOMString objects before the first child of the ParentNode.\n * DOMString objects are inserted as equivalent Text nodes.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/prepend#Polyfill}\n *\n * @param {Node | Node[] | string | string[]} nodes - nodes to prepend\n */\nif (!Element.prototype.prepend) {\n  Element.prototype.prepend = function prepend(nodes: Array<Node | string> | Node | string): void {\n    const docFrag = document.createDocumentFragment();\n\n    if (!Array.isArray(nodes)) {\n      nodes = [ nodes ];\n    }\n\n    nodes.forEach((node: Node | string) => {\n      const isNode = node instanceof Node;\n\n      docFrag.appendChild(isNode ? node as Node : document.createTextNode(node as string));\n    });\n\n    this.insertBefore(docFrag, this.firstChild);\n  };\n}\n","import $ from './dom';\nimport * as _ from './utils';\nimport { EditorConfig, SanitizerConfig } from '../../types';\nimport { EditorModules } from '../types-internal/editor-modules';\nimport I18n from './i18n';\nimport { CriticalError } from './errors/critical';\nimport EventsDispatcher from './utils/events';\n\n/**\n * @typedef {Core} Core - editor core class\n */\n\n/**\n * Require Editor modules places in components/modules dir\n */\nconst contextRequire = require.context('./modules', true);\n\nconst modules = [];\n\ncontextRequire.keys().forEach((filename) => {\n  /**\n   * Include files if:\n   * - extension is .js or .ts\n   * - does not starts with _\n   */\n  if (filename.match(/^\\.\\/[^_][\\w/]*\\.([tj])s$/)) {\n    modules.push(contextRequire(filename));\n  }\n});\n\n/**\n * @class Core\n *\n * @classdesc Editor.js core class\n *\n * @property {EditorConfig} config - all settings\n * @property {EditorModules} moduleInstances - constructed editor components\n *\n * @type {Core}\n */\nexport default class Core {\n  /**\n   * Editor configuration passed by user to the constructor\n   */\n  public config: EditorConfig;\n\n  /**\n   * Object with core modules instances\n   */\n  public moduleInstances: EditorModules = {} as EditorModules;\n\n  /**\n   * Promise that resolves when all core modules are prepared and UI is rendered on the page\n   */\n  public isReady: Promise<void>;\n\n  /**\n   * Event Dispatcher util\n   */\n  private eventsDispatcher: EventsDispatcher = new EventsDispatcher();\n\n  /**\n   * @param {EditorConfig} config - user configuration\n   *\n   */\n  constructor(config?: EditorConfig|string) {\n    /**\n     * Ready promise. Resolved if Editor.js is ready to work, rejected otherwise\n     */\n    let onReady, onFail;\n\n    this.isReady = new Promise((resolve, reject) => {\n      onReady = resolve;\n      onFail = reject;\n    });\n\n    Promise.resolve()\n      .then(async () => {\n        this.configuration = config;\n\n        await this.validate();\n        await this.init();\n        await this.start();\n\n        _.logLabeled('I\\'m ready! ()*:', 'log', '', 'color: #E24A75');\n\n        setTimeout(async () => {\n          await this.render();\n\n          if ((this.configuration as EditorConfig).autofocus) {\n            const { BlockManager, Caret } = this.moduleInstances;\n\n            Caret.setToBlock(BlockManager.blocks[0], Caret.positions.START);\n            BlockManager.highlightCurrentNode();\n          }\n\n          /**\n           * Remove loader, show content\n           */\n          this.moduleInstances.UI.removeLoader();\n\n          /**\n           * Resolve this.isReady promise\n           */\n          onReady();\n        }, 500);\n      })\n      .catch((error) => {\n        _.log(`Editor.js is not ready because of ${error}`, 'error');\n\n        /**\n         * Reject this.isReady promise\n         */\n        onFail(error);\n      });\n  }\n\n  /**\n   * Setting for configuration\n   *\n   * @param {EditorConfig|string} config - Editor's config to set\n   */\n  public set configuration(config: EditorConfig|string) {\n    /**\n     * Place config into the class property\n     *\n     * @type {EditorConfig}\n     */\n    if (_.isObject(config)) {\n      this.config = {\n        ...config,\n      };\n    } else {\n      /**\n       * Process zero-configuration or with only holderId\n       * Make config object\n       */\n      this.config = {\n        holder: config,\n      };\n    }\n\n    /**\n     * If holderId is preset, assign him to holder property and work next only with holder\n     */\n    _.deprecationAssert(!!this.config.holderId, 'config.holderId', 'config.holder');\n    if (this.config.holderId && !this.config.holder) {\n      this.config.holder = this.config.holderId;\n      this.config.holderId = null;\n    }\n\n    /**\n     * If holder is empty then set a default value\n     */\n    if (this.config.holder == null) {\n      this.config.holder = 'editorjs';\n    }\n\n    if (!this.config.logLevel) {\n      this.config.logLevel = _.LogLevels.VERBOSE;\n    }\n\n    _.setLogLevel(this.config.logLevel);\n\n    /**\n     * If default Block's Tool was not passed, use the Paragraph Tool\n     */\n    _.deprecationAssert(Boolean(this.config.initialBlock), 'config.initialBlock', 'config.defaultBlock');\n    this.config.defaultBlock = this.config.defaultBlock || this.config.initialBlock || 'paragraph';\n\n    /**\n     * Height of Editor's bottom area that allows to set focus on the last Block\n     *\n     * @type {number}\n     */\n    this.config.minHeight = this.config.minHeight !== undefined ? this.config.minHeight : 300;\n\n    /**\n     * Default block type\n     * Uses in case when there is no blocks passed\n     *\n     * @type {{type: (*), data: {text: null}}}\n     */\n    const defaultBlockData = {\n      type: this.config.defaultBlock,\n      data: {},\n    };\n\n    this.config.placeholder = this.config.placeholder || false;\n    this.config.sanitizer = this.config.sanitizer || {\n      p: true,\n      b: true,\n      a: true,\n    } as SanitizerConfig;\n\n    this.config.hideToolbar = this.config.hideToolbar ? this.config.hideToolbar : false;\n    this.config.tools = this.config.tools || {};\n    this.config.i18n = this.config.i18n || {};\n    this.config.data = this.config.data || { blocks: [] };\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this.config.onReady = this.config.onReady || ((): void => {});\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this.config.onChange = this.config.onChange || ((): void => {});\n    this.config.inlineToolbar = this.config.inlineToolbar !== undefined ? this.config.inlineToolbar : true;\n\n    /**\n     * Initialize default Block to pass data to the Renderer\n     */\n    if (_.isEmpty(this.config.data) || !this.config.data.blocks || this.config.data.blocks.length === 0) {\n      this.config.data = { blocks: [ defaultBlockData ] };\n    }\n\n    this.config.readOnly = this.config.readOnly as boolean || false;\n\n    /**\n     * Adjust i18n\n     */\n    if (this.config.i18n?.messages) {\n      I18n.setDictionary(this.config.i18n.messages);\n    }\n\n    /**\n     * Text direction. If not set, uses ltr\n     */\n    this.config.i18n.direction = this.config.i18n?.direction || 'ltr';\n  }\n\n  /**\n   * Returns private property\n   *\n   * @returns {EditorConfig}\n   */\n  public get configuration(): EditorConfig|string {\n    return this.config;\n  }\n\n  /**\n   * Checks for required fields in Editor's config\n   *\n   * @returns {Promise<void>}\n   */\n  public async validate(): Promise<void> {\n    const { holderId, holder } = this.config;\n\n    if (holderId && holder) {\n      throw Error('holderId and holder param can\\'t assign at the same time.');\n    }\n\n    /**\n     * Check for a holder element's existence\n     */\n    if (_.isString(holder) && !$.get(holder)) {\n      throw Error(`element with ID ${holder} is missing. Pass correct holder's ID.`);\n    }\n\n    if (holder && _.isObject(holder) && !$.isElement(holder)) {\n      throw Error('holder value must be an Element node');\n    }\n  }\n\n  /**\n   * Initializes modules:\n   *  - make and save instances\n   *  - configure\n   */\n  public init(): void {\n    /**\n     * Make modules instances and save it to the @property this.moduleInstances\n     */\n    this.constructModules();\n\n    /**\n     * Modules configuration\n     */\n    this.configureModules();\n  }\n\n  /**\n   * Start Editor!\n   *\n   * Get list of modules that needs to be prepared and return a sequence (Promise)\n   *\n   * @returns {Promise<void>}\n   */\n  public async start(): Promise<void> {\n    const modulesToPrepare = [\n      'Tools',\n      'UI',\n      'BlockManager',\n      'Paste',\n      'BlockSelection',\n      'RectangleSelection',\n      'CrossBlockSelection',\n      'ReadOnly',\n    ];\n\n    await modulesToPrepare.reduce(\n      (promise, module) => promise.then(async () => {\n        // _.log(`Preparing ${module} module`, 'time');\n\n        try {\n          await this.moduleInstances[module].prepare();\n        } catch (e) {\n          /**\n           * CriticalError's will not be caught\n           * It is used when Editor is rendering in read-only mode with unsupported plugin\n           */\n          if (e instanceof CriticalError) {\n            throw new Error(e.message);\n          }\n          _.log(`Module ${module} was skipped because of %o`, 'warn', e);\n        }\n        // _.log(`Preparing ${module} module`, 'timeEnd');\n      }),\n      Promise.resolve()\n    );\n  }\n\n  /**\n   * Render initial data\n   */\n  private render(): Promise<void> {\n    return this.moduleInstances.Renderer.render(this.config.data.blocks);\n  }\n\n  /**\n   * Make modules instances and save it to the @property this.moduleInstances\n   */\n  private constructModules(): void {\n    modules.forEach((module) => {\n      /**\n       * If module has non-default exports, passed object contains them all and default export as 'default' property\n       */\n      const Module = _.isFunction(module) ? module : module.default;\n\n      try {\n        /**\n         * We use class name provided by displayName property\n         *\n         * On build, Babel will transform all Classes to the Functions so, name will always be 'Function'\n         * To prevent this, we use 'babel-plugin-class-display-name' plugin\n         *\n         * @see  https://www.npmjs.com/package/babel-plugin-class-display-name\n         */\n        this.moduleInstances[Module.displayName] = new Module({\n          config: this.configuration,\n          eventsDispatcher: this.eventsDispatcher,\n        });\n      } catch (e) {\n        _.log(`Module ${Module.displayName} skipped because`, 'error', e);\n      }\n    });\n  }\n\n  /**\n   * Modules instances configuration:\n   *  - pass other modules to the 'state' property\n   *  - ...\n   */\n  private configureModules(): void {\n    for (const name in this.moduleInstances) {\n      if (Object.prototype.hasOwnProperty.call(this.moduleInstances, name)) {\n        /**\n         * Module does not need self-instance\n         */\n        this.moduleInstances[name].state = this.getModulesDiff(name);\n      }\n    }\n  }\n\n  /**\n   * Return modules without passed name\n   *\n   * @param {string} name - module for witch modules difference should be calculated\n   */\n  private getModulesDiff(name: string): EditorModules {\n    const diff = {} as EditorModules;\n\n    for (const moduleName in this.moduleInstances) {\n      /**\n       * Skip module with passed name\n       */\n      if (moduleName === name) {\n        continue;\n      }\n      diff[moduleName] = this.moduleInstances[moduleName];\n    }\n\n    return diff;\n  }\n}\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var map = {\n\t\"./api\": 81,\n\t\"./api/\": 81,\n\t\"./api/blocks\": 153,\n\t\"./api/blocks.ts\": 153,\n\t\"./api/caret\": 154,\n\t\"./api/caret.ts\": 154,\n\t\"./api/events\": 155,\n\t\"./api/events.ts\": 155,\n\t\"./api/i18n\": 156,\n\t\"./api/i18n.ts\": 156,\n\t\"./api/index\": 81,\n\t\"./api/index.ts\": 81,\n\t\"./api/inlineToolbar\": 157,\n\t\"./api/inlineToolbar.ts\": 157,\n\t\"./api/listeners\": 158,\n\t\"./api/listeners.ts\": 158,\n\t\"./api/notifier\": 159,\n\t\"./api/notifier.ts\": 159,\n\t\"./api/readonly\": 160,\n\t\"./api/readonly.ts\": 160,\n\t\"./api/sanitizer\": 161,\n\t\"./api/sanitizer.ts\": 161,\n\t\"./api/saver\": 162,\n\t\"./api/saver.ts\": 162,\n\t\"./api/selection\": 163,\n\t\"./api/selection.ts\": 163,\n\t\"./api/styles\": 164,\n\t\"./api/styles.ts\": 164,\n\t\"./api/toolbar\": 165,\n\t\"./api/toolbar.ts\": 165,\n\t\"./api/tooltip\": 166,\n\t\"./api/tooltip.ts\": 166,\n\t\"./api/ui\": 167,\n\t\"./api/ui.ts\": 167,\n\t\"./blockEvents\": 168,\n\t\"./blockEvents.ts\": 168,\n\t\"./blockManager\": 169,\n\t\"./blockManager.ts\": 169,\n\t\"./blockSelection\": 170,\n\t\"./blockSelection.ts\": 170,\n\t\"./caret\": 171,\n\t\"./caret.ts\": 171,\n\t\"./crossBlockSelection\": 172,\n\t\"./crossBlockSelection.ts\": 172,\n\t\"./dragNDrop\": 173,\n\t\"./dragNDrop.ts\": 173,\n\t\"./modificationsObserver\": 174,\n\t\"./modificationsObserver.ts\": 174,\n\t\"./paste\": 175,\n\t\"./paste.ts\": 175,\n\t\"./readonly\": 176,\n\t\"./readonly.ts\": 176,\n\t\"./rectangleSelection\": 177,\n\t\"./rectangleSelection.ts\": 177,\n\t\"./renderer\": 178,\n\t\"./renderer.ts\": 178,\n\t\"./saver\": 179,\n\t\"./saver.ts\": 179,\n\t\"./toolbar\": 83,\n\t\"./toolbar/\": 83,\n\t\"./toolbar/blockSettings\": 180,\n\t\"./toolbar/blockSettings.ts\": 180,\n\t\"./toolbar/conversion\": 181,\n\t\"./toolbar/conversion.ts\": 181,\n\t\"./toolbar/index\": 83,\n\t\"./toolbar/index.ts\": 83,\n\t\"./toolbar/inline\": 182,\n\t\"./toolbar/inline.ts\": 182,\n\t\"./tools\": 183,\n\t\"./tools.ts\": 183,\n\t\"./ui\": 185,\n\t\"./ui.ts\": 185\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 374;","import * as _ from '../utils';\n\n/**\n * Event listener information\n *\n * @interface ListenerData\n */\nexport interface ListenerData {\n  /**\n   * Listener unique identifier\n   */\n  id: string;\n\n  /**\n   * Element where to listen to dispatched events\n   */\n  element: EventTarget;\n\n  /**\n   * Event to listen\n   */\n  eventType: string;\n\n  /**\n   * Event handler\n   *\n   * @param {Event} event - event object\n   */\n  handler: (event: Event) => void;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n   */\n  options: boolean | AddEventListenerOptions;\n}\n\n/**\n * Editor.js Listeners helper\n *\n * Decorator for event listeners assignment\n *\n * @author Codex Team\n * @version 2.0.0\n */\n\n/**\n * @typedef {Listeners} Listeners\n * @property {ListenerData[]} allListeners - listeners store\n */\nexport default class Listeners {\n  /**\n   * Stores all listeners data to find/remove/process it\n   *\n   * @type {ListenerData[]}\n   */\n  private allListeners: ListenerData[] = [];\n\n  /**\n   * Assigns event listener on element and returns unique identifier\n   *\n   * @param {EventTarget} element - DOM element that needs to be listened\n   * @param {string} eventType - event type\n   * @param {Function} handler - method that will be fired on event\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   *\n   * @returns {string}\n   */\n  public on(\n    element: EventTarget,\n    eventType: string,\n    handler: (event: Event) => void,\n    options: boolean | AddEventListenerOptions = false\n  ): string {\n    const id = _.generateId('l');\n    const assignedEventData = {\n      id,\n      element,\n      eventType,\n      handler,\n      options,\n    };\n\n    const alreadyExist = this.findOne(element, eventType, handler);\n\n    if (alreadyExist) {\n      return;\n    }\n\n    this.allListeners.push(assignedEventData);\n    element.addEventListener(eventType, handler, options);\n\n    return id;\n  }\n\n  /**\n   * Removes event listener from element\n   *\n   * @param {EventTarget} element - DOM element that we removing listener\n   * @param {string} eventType - event type\n   * @param {Function} handler - remove handler, if element listens several handlers on the same event type\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   */\n  public off(\n    element: EventTarget,\n    eventType: string,\n    handler?: (event: Event) => void,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    const existingListeners = this.findAll(element, eventType, handler);\n\n    existingListeners.forEach((listener, i) => {\n      const index = this.allListeners.indexOf(existingListeners[i]);\n\n      if (index > -1) {\n        this.allListeners.splice(index, 1);\n\n        listener.element.removeEventListener(listener.eventType, listener.handler, listener.options);\n      }\n    });\n  }\n\n  /**\n   * Removes listener by id\n   *\n   * @param {string} id - listener identifier\n   */\n  public offById(id: string): void {\n    const listener = this.findById(id);\n\n    if (!listener) {\n      return;\n    }\n\n    listener.element.removeEventListener(listener.eventType, listener.handler, listener.options);\n  }\n\n  /**\n   * Finds and returns first listener by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} [eventType] - event type\n   * @param {Function} [handler] - event handler\n   *\n   * @returns {ListenerData|null}\n   */\n  public findOne(element: EventTarget, eventType?: string, handler?: (event: Event) => void): ListenerData {\n    const foundListeners = this.findAll(element, eventType, handler);\n\n    return foundListeners.length > 0 ? foundListeners[0] : null;\n  }\n\n  /**\n   * Return all stored listeners by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} eventType - event type\n   * @param {Function} handler - event handler\n   *\n   * @returns {ListenerData[]}\n   */\n  public findAll(element: EventTarget, eventType?: string, handler?: (event: Event) => void): ListenerData[] {\n    let found;\n    const foundByEventTargets = element ? this.findByEventTarget(element) : [];\n\n    if (element && eventType && handler) {\n      found = foundByEventTargets.filter((event) => event.eventType === eventType && event.handler === handler);\n    } else if (element && eventType) {\n      found = foundByEventTargets.filter((event) => event.eventType === eventType);\n    } else {\n      found = foundByEventTargets;\n    }\n\n    return found;\n  }\n\n  /**\n   * Removes all listeners\n   */\n  public removeAll(): void {\n    this.allListeners.map((current) => {\n      current.element.removeEventListener(current.eventType, current.handler, current.options);\n    });\n\n    this.allListeners = [];\n  }\n\n  /**\n   * Module cleanup on destruction\n   */\n  public destroy(): void {\n    this.removeAll();\n  }\n\n  /**\n   * Search method: looks for listener by passed element\n   *\n   * @param {EventTarget} element - searching element\n   *\n   * @returns {Array} listeners that found on element\n   */\n  private findByEventTarget(element: EventTarget): ListenerData[] {\n    return this.allListeners.filter((listener) => {\n      if (listener.element === element) {\n        return listener;\n      }\n    });\n  }\n\n  /**\n   * Search method: looks for listener by passed event type\n   *\n   * @param {string} eventType - event type\n   *\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  private findByType(eventType: string): ListenerData[] {\n    return this.allListeners.filter((listener) => {\n      if (listener.eventType === eventType) {\n        return listener;\n      }\n    });\n  }\n\n  /**\n   * Search method: looks for listener by passed handler\n   *\n   * @param {Function} handler - event handler\n   *\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  private findByHandler(handler: (event: Event) => void): ListenerData[] {\n    return this.allListeners.filter((listener) => {\n      if (listener.handler === handler) {\n        return listener;\n      }\n    });\n  }\n\n  /**\n   * Returns listener data found by id\n   *\n   * @param {string} id - listener identifier\n   *\n   * @returns {ListenerData}\n   */\n  private findById(id: string): ListenerData {\n    return this.allListeners.find((listener) => listener.id === id);\n  }\n}\n","/**\n * Use external package module for notifications\n *\n * @see https://github.com/codex-team/js-notifier\n */\nimport notifier, { ConfirmNotifierOptions, NotifierOptions, PromptNotifierOptions } from 'codex-notifier';\n\n/**\n * Util for showing notifications\n */\nexport default class Notifier {\n  /**\n   * Show web notification\n   *\n   * @param {NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions} options - notification options\n   */\n  public show(options: NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions): void {\n    notifier.show(options);\n  }\n}\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.notifier=e():t.notifier=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/\",n(n.s=0)}([function(t,e,n){\"use strict\";n(1),\n/*!\n * Codex JavaScript Notification module\n * https://github.com/codex-team/js-notifier\n */\nt.exports=function(){var t=n(6),e=\"cdx-notify--bounce-in\",o=null;return{show:function(n){if(n.message){!function(){if(o)return!0;o=t.getWrapper(),document.body.appendChild(o)}();var r=null,i=n.time||8e3;switch(n.type){case\"confirm\":r=t.confirm(n);break;case\"prompt\":r=t.prompt(n);break;default:r=t.alert(n),window.setTimeout(function(){r.remove()},i)}o.appendChild(r),r.classList.add(e)}}}}()},function(t,e,n){var o=n(2);\"string\"==typeof o&&(o=[[t.i,o,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\\'\\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen,Ubuntu,Cantarell,\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\\'\\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',\"\"])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||\"\",o=t[3];if(!o)return n;if(e&&\"function\"==typeof btoa){var r=(a=o,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),i=o.sources.map(function(t){return\"/*# sourceURL=\"+o.sourceRoot+t+\" */\"});return[n].concat(i).concat([r]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];\"number\"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];\"number\"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),c=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,f=0,d=[],u=n(5);function l(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(h(o.parts[a],e))}else{var c=[];for(a=0;a<o.parts.length;a++)c.push(h(o.parts[a],e));i[o.id]={id:o.id,refs:1,parts:c}}}}function p(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(c):n.push(o[a]={id:a,parts:[c]})}return n}function b(t,e){var n=c(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var o=d[d.length-1];if(\"top\"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var r=c(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function x(t){var e=document.createElement(\"style\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),y(e,t.attrs),b(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function h(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=f++;n=s||(s=x(e)),o=_.bind(null,n,a,!1),r=_.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",y(e,t.attrs),b(t,e),e}(e),o=function(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\");var a=new Blob([o],{type:\"text/css\"}),c=t.href;t.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}.bind(null,n,e),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=x(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute(\"media\",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=p(t,e);return l(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var a=n[r];(c=i[a.id]).refs--,o.push(c)}t&&l(p(t,e),e);for(r=0;r<o.length;r++){var c;if(0===(c=o[r]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete i[c.id]}}}};var v,g=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join(\"\\n\")});function _(t,e,n,o){var r=n?\"\":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,o=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var r,i=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i)?t:(r=0===i.indexOf(\"//\")?i:0===i.indexOf(\"/\")?n+i:o+i.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(r)+\")\")})}},function(t,e,n){\"use strict\";var o,r,i,a,c,s,f,d,u;t.exports=(o=\"cdx-notifies\",r=\"cdx-notify\",i=\"cdx-notify__cross\",a=\"cdx-notify__button--confirm\",c=\"cdx-notify__button--cancel\",s=\"cdx-notify__input\",f=\"cdx-notify__button\",d=\"cdx-notify__btns-wrapper\",{alert:u=function(t){var e=document.createElement(\"DIV\"),n=document.createElement(\"DIV\"),o=t.message,a=t.style;return e.classList.add(r),a&&e.classList.add(r+\"--\"+a),e.innerHTML=o,n.classList.add(i),n.addEventListener(\"click\",e.remove.bind(e)),e.appendChild(n),e},confirm:function(t){var e=u(t),n=document.createElement(\"div\"),o=document.createElement(\"button\"),r=document.createElement(\"button\"),s=e.querySelector(\".\"+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||\"Confirm\",r.innerHTML=t.cancelText||\"Cancel\",o.classList.add(f),r.classList.add(f),o.classList.add(a),r.classList.add(c),l&&\"function\"==typeof l&&(r.addEventListener(\"click\",l),s.addEventListener(\"click\",l)),p&&\"function\"==typeof p&&o.addEventListener(\"click\",p),o.addEventListener(\"click\",e.remove.bind(e)),r.addEventListener(\"click\",e.remove.bind(e)),n.appendChild(o),n.appendChild(r),e.appendChild(n),e},prompt:function(t){var e=u(t),n=document.createElement(\"div\"),o=document.createElement(\"button\"),r=document.createElement(\"input\"),c=e.querySelector(\".\"+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||\"Ok\",o.classList.add(f),o.classList.add(a),r.classList.add(s),t.placeholder&&r.setAttribute(\"placeholder\",t.placeholder),t.default&&(r.value=t.default),t.inputType&&(r.type=t.inputType),l&&\"function\"==typeof l&&c.addEventListener(\"click\",l),p&&\"function\"==typeof p&&o.addEventListener(\"click\",function(){p(r.value)}),o.addEventListener(\"click\",e.remove.bind(e)),n.appendChild(r),n.appendChild(o),e.appendChild(n),e},getWrapper:function(){var t=document.createElement(\"DIV\");return t.classList.add(o),t}})}])});","(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define('html-janitor', factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.HTMLJanitor = factory();\n  }\n}(this, function () {\n\n  /**\n   * @param {Object} config.tags Dictionary of allowed tags.\n   * @param {boolean} config.keepNestedBlockElements Default false.\n   */\n  function HTMLJanitor(config) {\n\n    var tagDefinitions = config['tags'];\n    var tags = Object.keys(tagDefinitions);\n\n    var validConfigValues = tags\n      .map(function(k) { return typeof tagDefinitions[k]; })\n      .every(function(type) { return type === 'object' || type === 'boolean' || type === 'function'; });\n\n    if(!validConfigValues) {\n      throw new Error(\"The configuration was invalid\");\n    }\n\n    this.config = config;\n  }\n\n  // TODO: not exhaustive?\n  var blockElementNames = ['P', 'LI', 'TD', 'TH', 'DIV', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'PRE'];\n  function isBlockElement(node) {\n    return blockElementNames.indexOf(node.nodeName) !== -1;\n  }\n\n  var inlineElementNames = ['A', 'B', 'STRONG', 'I', 'EM', 'SUB', 'SUP', 'U', 'STRIKE'];\n  function isInlineElement(node) {\n    return inlineElementNames.indexOf(node.nodeName) !== -1;\n  }\n\n  HTMLJanitor.prototype.clean = function (html) {\n    const sandbox = document.implementation.createHTMLDocument();\n    const root = sandbox.createElement(\"div\");\n    root.innerHTML = html;\n\n    this._sanitize(sandbox, root);\n\n    return root.innerHTML;\n  };\n\n  HTMLJanitor.prototype._sanitize = function (document, parentNode) {\n    var treeWalker = createTreeWalker(document, parentNode);\n    var node = treeWalker.firstChild();\n\n    if (!node) { return; }\n\n    do {\n      if (node.nodeType === Node.TEXT_NODE) {\n        // If this text node is just whitespace and the previous or next element\n        // sibling is a block element, remove it\n        // N.B.: This heuristic could change. Very specific to a bug with\n        // `contenteditable` in Firefox: http://jsbin.com/EyuKase/1/edit?js,output\n        // FIXME: make this an option?\n        if (node.data.trim() === ''\n            && ((node.previousElementSibling && isBlockElement(node.previousElementSibling))\n                 || (node.nextElementSibling && isBlockElement(node.nextElementSibling)))) {\n          parentNode.removeChild(node);\n          this._sanitize(document, parentNode);\n          break;\n        } else {\n          continue;\n        }\n      }\n\n      // Remove all comments\n      if (node.nodeType === Node.COMMENT_NODE) {\n        parentNode.removeChild(node);\n        this._sanitize(document, parentNode);\n        break;\n      }\n\n      var isInline = isInlineElement(node);\n      var containsBlockElement;\n      if (isInline) {\n        containsBlockElement = Array.prototype.some.call(node.childNodes, isBlockElement);\n      }\n\n      // Block elements should not be nested (e.g. <li><p>...); if\n      // they are, we want to unwrap the inner block element.\n      var isNotTopContainer = !! parentNode.parentNode;\n      var isNestedBlockElement =\n            isBlockElement(parentNode) &&\n            isBlockElement(node) &&\n            isNotTopContainer;\n\n      var nodeName = node.nodeName.toLowerCase();\n\n      var allowedAttrs = getAllowedAttrs(this.config, nodeName, node);\n\n      var isInvalid = isInline && containsBlockElement;\n\n      // Drop tag entirely according to the whitelist *and* if the markup\n      // is invalid.\n      if (isInvalid || shouldRejectNode(node, allowedAttrs)\n          || (!this.config.keepNestedBlockElements && isNestedBlockElement)) {\n        // Do not keep the inner text of SCRIPT/STYLE elements.\n        if (! (node.nodeName === 'SCRIPT' || node.nodeName === 'STYLE')) {\n          while (node.childNodes.length > 0) {\n            parentNode.insertBefore(node.childNodes[0], node);\n          }\n        }\n        parentNode.removeChild(node);\n\n        this._sanitize(document, parentNode);\n        break;\n      }\n\n      // Sanitize attributes\n      for (var a = 0; a < node.attributes.length; a += 1) {\n        var attr = node.attributes[a];\n\n        if (shouldRejectAttr(attr, allowedAttrs, node)) {\n          node.removeAttribute(attr.name);\n          // Shift the array to continue looping.\n          a = a - 1;\n        }\n      }\n\n      // Sanitize children\n      this._sanitize(document, node);\n\n    } while ((node = treeWalker.nextSibling()));\n  };\n\n  function createTreeWalker(document, node) {\n    return document.createTreeWalker(node,\n                                     NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT,\n                                     null, false);\n  }\n\n  function getAllowedAttrs(config, nodeName, node){\n    if (typeof config.tags[nodeName] === 'function') {\n      return config.tags[nodeName](node);\n    } else {\n      return config.tags[nodeName];\n    }\n  }\n\n  function shouldRejectNode(node, allowedAttrs){\n    if (typeof allowedAttrs === 'undefined') {\n      return true;\n    } else if (typeof allowedAttrs === 'boolean') {\n      return !allowedAttrs;\n    }\n\n    return false;\n  }\n\n  function shouldRejectAttr(attr, allowedAttrs, node){\n    var attrName = attr.name.toLowerCase();\n\n    if (allowedAttrs === true){\n      return false;\n    } else if (typeof allowedAttrs[attrName] === 'function'){\n      return !allowedAttrs[attrName](attr.value, node);\n    } else if (typeof allowedAttrs[attrName] === 'undefined'){\n      return true;\n    } else if (allowedAttrs[attrName] === false) {\n      return true;\n    } else if (typeof allowedAttrs[attrName] === 'string') {\n      return (allowedAttrs[attrName] !== attr.value);\n    }\n\n    return false;\n  }\n\n  return HTMLJanitor;\n\n}));\n","/*!\n * CodeX.Tooltips\n * \n * @version 1.0.5\n * \n * @licence MIT\n * @author CodeX <https://codex.so>\n * \n * \n */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Tooltip=e():t.Tooltip=e()}(window,(function(){return function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){\"use strict\";o.r(e),o.d(e,\"default\",(function(){return i}));class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener(\"scroll\",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:\"ct\",tooltipContent:\"ct__content\",tooltipShown:\"ct--shown\",placement:{left:\"ct--left\",bottom:\"ct--bottom\",right:\"ct--right\",top:\"ct--top\"}}}show(t,e,o){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const i=Object.assign({placement:\"bottom\",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},o);if(i.hidingDelay&&(this.hidingDelay=i.hidingDelay),this.nodes.content.innerHTML=\"\",\"string\"==typeof e)this.nodes.content.appendChild(document.createTextNode(e));else{if(!(e instanceof Node))throw Error(\"[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But \"+typeof e+\" given.\");this.nodes.content.appendChild(e)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),i.placement){case\"top\":this.placeTop(t,i);break;case\"left\":this.placeLeft(t,i);break;case\"right\":this.placeRight(t,i);break;case\"bottom\":default:this.placeBottom(t,i)}i&&i.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},i.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(t=!1){if(this.hidingDelay&&!t)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(t,e,o){t.addEventListener(\"mouseenter\",()=>{this.show(t,e,o)}),t.addEventListener(\"mouseleave\",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener(\"scroll\",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make(\"div\",this.CSS.tooltip),this.nodes.content=this.make(\"div\",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const t=\"codex-tooltips-style\";if(document.getElementById(t))return;const e=o(2),i=this.make(\"style\",null,{textContent:e.toString(),id:t});this.prepend(document.head,i)}placeBottom(t,e){const o=t.getBoundingClientRect(),i=o.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,n=o.bottom+window.pageYOffset+this.offsetTop+e.marginTop;this.applyPlacement(\"bottom\",i,n)}placeTop(t,e){const o=t.getBoundingClientRect(),i=o.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,n=o.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement(\"top\",i,n)}placeLeft(t,e){const o=t.getBoundingClientRect(),i=o.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-e.marginLeft,n=o.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement(\"left\",i,n)}placeRight(t,e){const o=t.getBoundingClientRect(),i=o.right+this.offsetRight+e.marginRight,n=o.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement(\"right\",i,n)}applyPlacement(t,e,o){this.nodes.wrapper.classList.add(this.CSS.placement[t]),this.nodes.wrapper.style.left=e+\"px\",this.nodes.wrapper.style.top=o+\"px\"}make(t,e=null,o={}){const i=document.createElement(t);Array.isArray(e)?i.classList.add(...e):e&&i.classList.add(e);for(const t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);return i}append(t,e){Array.isArray(e)?e.forEach(e=>t.appendChild(e)):t.appendChild(e)}prepend(t,e){Array.isArray(e)?(e=e.reverse()).forEach(e=>t.prepend(e)):t.prepend(e)}}},function(t,e){t.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:\"\";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url(\"\")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\\'data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"><path d=\"M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z\"/></svg>\\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:\"\";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default}));","import Dom from './dom';\nimport * as _ from './utils';\nimport SelectionUtils from './selection';\n\n/**\n * Iterator above passed Elements list.\n * Each next or previous action adds provides CSS-class and sets cursor to this item\n */\nexport default class DomIterator {\n  /**\n   * This is a static property that defines iteration directions\n   *\n   * @type {{RIGHT: string, LEFT: string}}\n   */\n  public static directions = {\n    RIGHT: 'right',\n    LEFT: 'left',\n  };\n\n  /**\n   * User-provided CSS-class name for focused button\n   */\n  private focusedCssClass: string;\n\n  /**\n   * Focused button index.\n   * Default is -1 which means nothing is active\n   *\n   * @type {number}\n   */\n  private cursor = -1;\n\n  /**\n   * Items to flip\n   */\n  private items: HTMLElement[] = [];\n\n  /**\n   * @param {HTMLElement[]} nodeList  the list of iterable HTML-items\n   * @param {string} focusedCssClass - user-provided CSS-class that will be set in flipping process\n   */\n  constructor(\n    nodeList: HTMLElement[],\n    focusedCssClass: string\n  ) {\n    this.items = nodeList || [];\n    this.focusedCssClass = focusedCssClass;\n  }\n\n  /**\n   * Returns Focused button Node\n   *\n   * @returns {HTMLElement}\n   */\n  public get currentItem(): HTMLElement {\n    if (this.cursor === -1) {\n      return null;\n    }\n\n    return this.items[this.cursor];\n  }\n\n  /**\n   * Sets items. Can be used when iterable items changed dynamically\n   *\n   * @param {HTMLElement[]} nodeList - nodes to iterate\n   */\n  public setItems(nodeList: HTMLElement[]): void {\n    this.items = nodeList;\n  }\n\n  /**\n   * Sets cursor next to the current\n   */\n  public next(): void {\n    this.cursor = this.leafNodesAndReturnIndex(DomIterator.directions.RIGHT);\n  }\n\n  /**\n   * Sets cursor before current\n   */\n  public previous(): void {\n    this.cursor = this.leafNodesAndReturnIndex(DomIterator.directions.LEFT);\n  }\n\n  /**\n   * Sets cursor to the default position and removes CSS-class from previously focused item\n   */\n  public dropCursor(): void {\n    if (this.cursor === -1) {\n      return;\n    }\n\n    this.items[this.cursor].classList.remove(this.focusedCssClass);\n    this.cursor = -1;\n  }\n\n  /**\n   * Leafs nodes inside the target list from active element\n   *\n   * @param {string} direction - leaf direction. Can be 'left' or 'right'\n   * @returns {number} index of focused node\n   */\n  private leafNodesAndReturnIndex(direction: string): number {\n    /**\n     * if items are empty then there is nothing to leaf\n     */\n    if (this.items.length === 0) {\n      return this.cursor;\n    }\n\n    let focusedButtonIndex = this.cursor;\n\n    /**\n     * If activeButtonIndex === -1 then we have no chosen Tool in Toolbox\n     */\n    if (focusedButtonIndex === -1) {\n      /**\n       * Normalize \"previous\" Tool index depending on direction.\n       * We need to do this to highlight \"first\" Tool correctly\n       *\n       * Order of Tools: [0] [1] ... [n - 1]\n       *   [0 = n] because of: n % n = 0 % n\n       *\n       * Direction 'right': for [0] the [n - 1] is a previous index\n       *   [n - 1] -> [0]\n       *\n       * Direction 'left': for [n - 1] the [0] is a previous index\n       *   [n - 1] <- [0]\n       *\n       * @type {number}\n       */\n      focusedButtonIndex = direction === DomIterator.directions.RIGHT ? -1 : 0;\n    } else {\n      /**\n       * If we have chosen Tool then remove highlighting\n       */\n      this.items[focusedButtonIndex].classList.remove(this.focusedCssClass);\n    }\n\n    /**\n     * Count index for next Tool\n     */\n    if (direction === DomIterator.directions.RIGHT) {\n      /**\n       * If we go right then choose next (+1) Tool\n       *\n       * @type {number}\n       */\n      focusedButtonIndex = (focusedButtonIndex + 1) % this.items.length;\n    } else {\n      /**\n       * If we go left then choose previous (-1) Tool\n       * Before counting module we need to add length before because of \"The JavaScript Modulo Bug\"\n       *\n       * @type {number}\n       */\n      focusedButtonIndex = (this.items.length + focusedButtonIndex - 1) % this.items.length;\n    }\n\n    if (Dom.canSetCaret(this.items[focusedButtonIndex])) {\n      /**\n       * Focus input with micro-delay to ensure DOM is updated\n       */\n      _.delay(() => SelectionUtils.setCursor(this.items[focusedButtonIndex]), 50)();\n    }\n\n    /**\n     * Highlight new chosen Tool\n     */\n    this.items[focusedButtonIndex].classList.add(this.focusedCssClass);\n\n    /**\n     * Return focused button's index\n     */\n    return focusedButtonIndex;\n  }\n}\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","import * as _ from './utils';\nimport $ from './dom';\nimport Block, { BlockToolAPI } from './block';\nimport { MoveEvent } from '../../types/tools';\n\n/**\n * @class Blocks\n * @classdesc Class to work with Block instances array\n *\n * @private\n *\n * @property {HTMLElement} workingArea  editor`s working node\n *\n */\nexport default class Blocks {\n  /**\n   * Array of Block instances in order of addition\n   */\n  public blocks: Block[];\n\n  /**\n   * Editor`s area where to add Block`s HTML\n   */\n  public workingArea: HTMLElement;\n\n  /**\n   * @class\n   *\n   * @param {HTMLElement} workingArea  editor`s working node\n   */\n  constructor(workingArea: HTMLElement) {\n    this.blocks = [];\n    this.workingArea = workingArea;\n  }\n\n  /**\n   * Get length of Block instances array\n   *\n   * @returns {number}\n   */\n  public get length(): number {\n    return this.blocks.length;\n  }\n\n  /**\n   * Get Block instances array\n   *\n   * @returns {Block[]}\n   */\n  public get array(): Block[] {\n    return this.blocks;\n  }\n\n  /**\n   * Get blocks html elements array\n   *\n   * @returns {HTMLElement[]}\n   */\n  public get nodes(): HTMLElement[] {\n    return _.array(this.workingArea.children);\n  }\n\n  /**\n   * Proxy trap to implement array-like setter\n   *\n   * @example\n   * blocks[0] = new Block(...)\n   *\n   * @param {Blocks} instance  Blocks instance\n   * @param {PropertyKey} property  block index or any Blocks class property key to set\n   * @param {Block} value  value to set\n   * @returns {boolean}\n   */\n  public static set(instance: Blocks, property: PropertyKey, value: Block | unknown): boolean {\n    /**\n     * If property name is not a number (method or other property, access it via reflect\n     */\n    if (isNaN(Number(property))) {\n      Reflect.set(instance, property, value);\n\n      return true;\n    }\n\n    /**\n     * If property is number, call insert method to emulate array behaviour\n     *\n     * @example\n     * blocks[0] = new Block();\n     */\n    instance.insert(+(property as number), value as Block);\n\n    return true;\n  }\n\n  /**\n   * Proxy trap to implement array-like getter\n   *\n   * @param {Blocks} instance  Blocks instance\n   * @param {PropertyKey} property  Blocks class property key\n   * @returns {Block|*}\n   */\n  public static get(instance: Blocks, property: PropertyKey): Block | unknown {\n    /**\n     * If property is not a number, get it via Reflect object\n     */\n    if (isNaN(Number(property))) {\n      return Reflect.get(instance, property);\n    }\n\n    /**\n     * If property is a number (Block index) return Block by passed index\n     */\n    return instance.get(+(property as number));\n  }\n\n  /**\n   * Push new Block to the blocks array and append it to working area\n   *\n   * @param {Block} block - Block to add\n   */\n  public push(block: Block): void {\n    this.blocks.push(block);\n    this.insertToDOM(block);\n  }\n\n  /**\n   * Swaps blocks with indexes first and second\n   *\n   * @param {number} first - first block index\n   * @param {number} second - second block index\n   * @deprecated  use 'move' instead\n   */\n  public swap(first: number, second: number): void {\n    const secondBlock = this.blocks[second];\n\n    /**\n     * Change in DOM\n     */\n    $.swap(this.blocks[first].holder, secondBlock.holder);\n\n    /**\n     * Change in array\n     */\n    this.blocks[second] = this.blocks[first];\n    this.blocks[first] = secondBlock;\n  }\n\n  /**\n   * Move a block from one to another index\n   *\n   * @param {number} toIndex - new index of the block\n   * @param {number} fromIndex - block to move\n   */\n  public move(toIndex: number, fromIndex: number): void {\n    /**\n     * cut out the block, move the DOM element and insert at the desired index\n     * again (the shifting within the blocks array will happen automatically).\n     *\n     * @see https://stackoverflow.com/a/44932690/1238150\n     */\n    const block = this.blocks.splice(fromIndex, 1)[0];\n\n    // manipulate DOM\n    const prevIndex = toIndex - 1;\n    const previousBlockIndex = Math.max(0, prevIndex);\n    const previousBlock = this.blocks[previousBlockIndex];\n\n    if (toIndex > 0) {\n      this.insertToDOM(block, 'afterend', previousBlock);\n    } else {\n      this.insertToDOM(block, 'beforebegin', previousBlock);\n    }\n\n    // move in array\n    this.blocks.splice(toIndex, 0, block);\n\n    // invoke hook\n    const event: MoveEvent = this.composeBlockEvent('move', {\n      fromIndex,\n      toIndex,\n    });\n\n    block.call(BlockToolAPI.MOVED, event);\n  }\n\n  /**\n   * Insert new Block at passed index\n   *\n   * @param {number} index  index to insert Block\n   * @param {Block} block  Block to insert\n   * @param {boolean} replace  it true, replace block on given index\n   */\n  public insert(index: number, block: Block, replace = false): void {\n    if (!this.length) {\n      this.push(block);\n\n      return;\n    }\n\n    if (index > this.length) {\n      index = this.length;\n    }\n\n    if (replace) {\n      this.blocks[index].holder.remove();\n      this.blocks[index].call(BlockToolAPI.REMOVED);\n    }\n\n    const deleteCount = replace ? 1 : 0;\n\n    this.blocks.splice(index, deleteCount, block);\n\n    if (index > 0) {\n      const previousBlock = this.blocks[index - 1];\n\n      this.insertToDOM(block, 'afterend', previousBlock);\n    } else {\n      const nextBlock = this.blocks[index + 1];\n\n      if (nextBlock) {\n        this.insertToDOM(block, 'beforebegin', nextBlock);\n      } else {\n        this.insertToDOM(block);\n      }\n    }\n  }\n\n  /**\n   * Remove block\n   *\n   * @param {number} index - index of Block to remove\n   */\n  public remove(index: number): void {\n    if (isNaN(index)) {\n      index = this.length - 1;\n    }\n\n    this.blocks[index].holder.remove();\n\n    this.blocks[index].call(BlockToolAPI.REMOVED);\n\n    this.blocks.splice(index, 1);\n  }\n\n  /**\n   * Remove all blocks\n   */\n  public removeAll(): void {\n    this.workingArea.innerHTML = '';\n\n    this.blocks.forEach((block) => block.call(BlockToolAPI.REMOVED));\n\n    this.blocks.length = 0;\n  }\n\n  /**\n   * Insert Block after passed target\n   *\n   * @todo decide if this method is necessary\n   *\n   * @param {Block} targetBlock  target after which Block should be inserted\n   * @param {Block} newBlock  Block to insert\n   */\n  public insertAfter(targetBlock: Block, newBlock: Block): void {\n    const index = this.blocks.indexOf(targetBlock);\n\n    this.insert(index + 1, newBlock);\n  }\n\n  /**\n   * Get Block by index\n   *\n   * @param {number} index  Block index\n   * @returns {Block}\n   */\n  public get(index: number): Block {\n    return this.blocks[index];\n  }\n\n  /**\n   * Return index of passed Block\n   *\n   * @param {Block} block - Block to find\n   * @returns {number}\n   */\n  public indexOf(block: Block): number {\n    return this.blocks.indexOf(block);\n  }\n\n  /**\n   * Insert new Block into DOM\n   *\n   * @param {Block} block - Block to insert\n   * @param {InsertPosition} position  insert position (if set, will use insertAdjacentElement)\n   * @param {Block} target  Block related to position\n   */\n  private insertToDOM(block: Block, position?: InsertPosition, target?: Block): void {\n    if (position) {\n      target.holder.insertAdjacentElement(position, block.holder);\n    } else {\n      this.workingArea.appendChild(block.holder);\n    }\n\n    block.call(BlockToolAPI.RENDERED);\n  }\n\n  /**\n   * Composes Block event with passed type and details\n   *\n   * @param {string} type - event type\n   * @param {object} detail - event detail\n   */\n  private composeBlockEvent(type: string, detail: object): MoveEvent {\n    return new CustomEvent(type, {\n      detail,\n    }) as MoveEvent;\n  }\n}\n","/**\n * What kind of modification happened with the Block\n */\nexport enum BlockMutationType {\n  /**\n   * New Block added\n   */\n  Added = 'block-added',\n\n  /**\n   * On Block deletion\n   */\n  Removed = 'block-removed',\n\n  /**\n   * Moving of a Block\n   */\n  Moved = 'block-moved',\n\n  /**\n   * Any changes inside the Block\n   */\n  Changed = 'block-changed',\n}\n","/*!\n * Library for handling keyboard shortcuts\n * @copyright CodeX (https://codex.so)\n * @license MIT\n * @author CodeX (https://codex.so)\n * @version 1.1.1\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Shortcut=t():e.Shortcut=t()}(window,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=0)}([function(e,t,n){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.r(t);var u=function(){function i(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i),this.commands={},this.keys={},this.name=e.name,this.parseShortcutName(e.name),this.element=e.on,this.callback=e.callback,this.executeShortcut=function(e){t.execute(e)},this.element.addEventListener(\"keydown\",this.executeShortcut,!1)}return o(i,null,[{key:\"supportedCommands\",get:function(){return{SHIFT:[\"SHIFT\"],CMD:[\"CMD\",\"CONTROL\",\"COMMAND\",\"WINDOWS\",\"CTRL\"],ALT:[\"ALT\",\"OPTION\"]}}},{key:\"keyCodes\",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),o(i,[{key:\"parseShortcutName\",value:function(e){e=e.split(\"+\");for(var t=0;t<e.length;t++){e[t]=e[t].toUpperCase();var n=!1;for(var r in i.supportedCommands)if(i.supportedCommands[r].includes(e[t])){n=this.commands[r]=!0;break}n||(this.keys[e[t]]=!0)}for(var o in i.supportedCommands)this.commands[o]||(this.commands[o]=!1)}},{key:\"execute\",value:function(e){var t,n={CMD:e.ctrlKey||e.metaKey,SHIFT:e.shiftKey,ALT:e.altKey},r=!0;for(t in this.commands)this.commands[t]!==n[t]&&(r=!1);var o,u=!0;for(o in this.keys)u=u&&e.keyCode===i.keyCodes[o];r&&u&&this.callback(e)}},{key:\"remove\",value:function(){this.element.removeEventListener(\"keydown\",this.executeShortcut)}}]),i}();t.default=u}]).default});","import $ from \"../dom\";\nimport * as _ from \"../utils\";\nimport Flipper from \"../flipper\";\nimport { BlockToolAPI } from \"../block\";\nimport I18n from \"../i18n\";\nimport { I18nInternalNS } from \"../i18n/namespace-internal\";\nimport Shortcuts from \"../utils/shortcuts\";\nimport Tooltip from \"../utils/tooltip\";\nimport BlockTool from \"../tools/block\";\nimport ToolsCollection from \"../tools/collection\";\nimport { API } from \"../../../types\";\nimport EventsDispatcher from \"../utils/events\";\n\n/**\n * Event that can be triggered by the Toolbox\n */\nexport enum ToolboxEvent {\n  /**\n   * When the Toolbox is opened\n   */\n  Opened = \"toolbox-opened\",\n\n  /**\n   * When the Toolbox is closed\n   */\n  Closed = \"toolbox-closed\",\n\n  /**\n   * When the new Block added by Toolbox\n   */\n  BlockAdded = \"toolbox-block-added\",\n}\n\n/**\n * Toolbox\n * This UI element contains list of Block Tools available to be inserted\n * It appears after click on the Plus Button\n *\n * @implements {EventsDispatcher} with some events, see {@link ToolboxEvent}\n */\nexport default class Toolbox extends EventsDispatcher<ToolboxEvent> {\n  /**\n   * Returns True if Toolbox is Empty and nothing to show\n   *\n   * @returns {boolean}\n   */\n  public get isEmpty(): boolean {\n    return this.displayedToolsCount === 0;\n  }\n\n  /**\n   * Opening state\n   *\n   * @type {boolean}\n   */\n  public opened = false;\n\n  /**\n   * Editor API\n   */\n  private api: API;\n\n  /**\n   * List of Tools available. Some of them will be shown in the Toolbox\n   */\n  private tools: ToolsCollection<BlockTool>;\n\n  /**\n   * Current module HTML Elements\n   */\n  private nodes: {\n    toolbox: HTMLElement;\n    buttons: HTMLElement[];\n  } = {\n    toolbox: null,\n    buttons: [],\n  };\n\n  /**\n   * CSS styles\n   *\n   * @returns {object.<string, string>}\n   */\n  private static get CSS(): { [name: string]: string } {\n    return {\n      toolbox: \"ce-toolbox\",\n      toolboxButton: \"ce-toolbox__button\",\n      toolboxBlockButton: \"ce-toolbox__block-button\",\n      toolboxBlockButtonIcon: \"ce-toolbox__block-button-icon\",\n      toolboxBlockButtonText: \"ce-toolbox__block-button-text\",\n      toolboxButtonActive: \"ce-toolbox__button--active\",\n      toolboxOpened: \"ce-toolbox--opened\",\n\n      buttonTooltip: \"ce-toolbox-button-tooltip\",\n      buttonShortcut: \"ce-toolbox-button-tooltip__shortcut\",\n    };\n  }\n\n  /**\n   * How many tools displayed in Toolbox\n   *\n   * @type {number}\n   */\n  private displayedToolsCount = 0;\n\n  /**\n   * Instance of class that responses for leafing buttons by arrows/tab\n   *\n   * @type {Flipper|null}\n   */\n  private flipper: Flipper = null;\n\n  /**\n   * Tooltip utility Instance\n   */\n  private tooltip: Tooltip;\n\n  /**\n   * Id of listener added used to remove it on destroy()\n   */\n  private clickListenerId: string = null;\n\n  /**\n   * Toolbox constructor\n   *\n   * @param options - available parameters\n   * @param options.api - Editor API methods\n   * @param options.tools - Tools available to check whether some of them should be displayed at the Toolbox or not\n   */\n  constructor({ api, tools }) {\n    super();\n\n    this.api = api;\n    this.tools = tools;\n\n    this.tooltip = new Tooltip();\n  }\n\n  /**\n   * Returns true if the Toolbox has the Flipper activated and the Flipper has selected button\n   */\n  public get flipperHasFocus(): boolean {\n    return this.flipper && this.flipper.currentItem !== null;\n  }\n\n  /**\n   * Makes the Toolbox\n   */\n  public make(): Element {\n    this.nodes.toolbox = $.make(\"div\", Toolbox.CSS.toolbox);\n\n    this.addTools();\n    this.enableFlipper();\n\n    return this.nodes.toolbox;\n  }\n\n  /**\n   * Destroy Module\n   */\n  public destroy(): void {\n    super.destroy();\n\n    /**\n     * Sometimes (in read-only mode) there is no Flipper\n     */\n    if (this.flipper) {\n      this.flipper.deactivate();\n      this.flipper = null;\n    }\n\n    if (this.nodes && this.nodes.toolbox) {\n      this.nodes.toolbox.remove();\n      this.nodes.toolbox = null;\n      this.nodes.buttons = [];\n    }\n\n    this.api.listeners.offById(this.clickListenerId);\n\n    this.removeAllShortcuts();\n    this.tooltip.destroy();\n  }\n\n  /**\n   * Toolbox Tool's button click handler\n   *\n   * @param {MouseEvent|KeyboardEvent} event - event that activates toolbox button\n   * @param {string} toolName - button to activate\n   */\n  public toolButtonActivate(\n    event: MouseEvent | KeyboardEvent,\n    toolName: string\n  ): void {\n    this.insertNewBlock(toolName);\n  }\n\n  /**\n   * Open Toolbox with Tools\n   */\n  public open(): void {\n    if (this.isEmpty) {\n      return;\n    }\n\n    this.emit(ToolboxEvent.Opened);\n\n    this.nodes.toolbox.classList.add(Toolbox.CSS.toolboxOpened);\n\n    this.opened = true;\n    this.flipper.activate();\n  }\n\n  /**\n   * Close Toolbox\n   */\n  public close(): void {\n    this.emit(ToolboxEvent.Closed);\n\n    this.nodes.toolbox.classList.remove(Toolbox.CSS.toolboxOpened);\n\n    this.opened = false;\n    this.flipper.deactivate();\n  }\n\n  /**\n   * Close Toolbox\n   */\n  public toggle(): void {\n    if (!this.opened) {\n      this.open();\n    } else {\n      this.close();\n    }\n  }\n\n  /**\n   * Iterates available tools and appends them to the Toolbox\n   */\n  private addTools(): void {\n    Array.from(this.tools.values()).forEach((tool) => this.addTool(tool));\n  }\n\n  /**\n   * Append Tool to the Toolbox\n   *\n   * @param {BlockToolConstructable} tool - BlockTool object\n   */\n  private addTool(tool: BlockTool): void {\n    const toolToolboxSettings = tool.toolbox;\n\n    /**\n     * Skip tools that don't pass 'toolbox' property\n     */\n    if (!toolToolboxSettings) {\n      return;\n    }\n\n    if (toolToolboxSettings && !toolToolboxSettings.icon) {\n      _.log(\"Toolbar icon is missed. Tool %o skipped\", \"warn\", tool.name);\n\n      return;\n    }\n\n    /**\n     * @todo Add checkup for the render method\n     */\n    // if (typeof tool.render !== 'function') {\n    //   _.log('render method missed. Tool %o skipped', 'warn', tool);\n    //   return;\n    // }\n\n    const button = $.make(\"li\", [Toolbox.CSS.toolboxBlockButton]);\n    const buttonText = $.make(\"span\", [Toolbox.CSS.toolboxBlockButtonText]);\n    const toolTitle = I18n.t(\n      I18nInternalNS.toolNames,\n      toolToolboxSettings.title || _.capitalize(tool.name)\n    );\n    const buttonIconContainer = $.make(\"div\", [\n      Toolbox.CSS.toolboxBlockButtonIcon,\n    ]);\n\n    button.dataset.tool = tool.name;\n    buttonIconContainer.innerHTML = toolToolboxSettings.icon;\n    button.appendChild(buttonIconContainer);\n    buttonText.innerHTML = toolTitle;\n    button.appendChild(buttonText);\n\n    this.nodes.toolbox.appendChild(button);\n    this.nodes.buttons.push(button);\n\n    /**\n     * Add click listener\n     */\n    this.clickListenerId = this.api.listeners.on(\n      button,\n      \"click\",\n      (event: KeyboardEvent | MouseEvent) => {\n        this.toolButtonActivate(event, tool.name);\n      }\n    );\n\n    /** Increment Tools count */\n    this.displayedToolsCount++;\n  }\n\n  /**\n   * Draw tooltip for toolbox tools\n   *\n   * @param tool - BlockTool object\n   * @returns {HTMLElement}\n   */\n  private drawTooltip(tool: BlockTool): HTMLElement {\n    const toolboxSettings = tool.toolbox || {};\n    const name = I18n.t(\n      I18nInternalNS.toolNames,\n      toolboxSettings.title || tool.name\n    );\n\n    let shortcut = tool.shortcut;\n\n    const tooltip = $.make(\"div\", Toolbox.CSS.buttonTooltip);\n    const hint = document.createTextNode(_.capitalize(name));\n\n    tooltip.appendChild(hint);\n\n    if (shortcut) {\n      shortcut = _.beautifyShortcut(shortcut);\n\n      tooltip.appendChild(\n        $.make(\"div\", Toolbox.CSS.buttonShortcut, {\n          textContent: shortcut,\n        })\n      );\n    }\n\n    return tooltip;\n  }\n\n  /**\n   * Enable shortcut Block Tool implemented shortcut\n   *\n   * @param {string} toolName - Tool name\n   * @param {string} shortcut - shortcut according to the ShortcutData Module format\n   */\n  private enableShortcut(toolName: string, shortcut: string): void {\n    Shortcuts.add({\n      name: shortcut,\n      on: this.api.ui.nodes.redactor,\n      handler: (event: KeyboardEvent) => {\n        event.preventDefault();\n        this.insertNewBlock(toolName);\n      },\n    });\n  }\n\n  /**\n   * Removes all added shortcuts\n   * Fired when the Read-Only mode is activated\n   */\n  private removeAllShortcuts(): void {\n    Array.from(this.tools.values()).forEach((tool) => {\n      const shortcut = tool.shortcut;\n\n      if (shortcut) {\n        Shortcuts.remove(this.api.ui.nodes.redactor, shortcut);\n      }\n    });\n  }\n\n  /**\n   * Creates Flipper instance to be able to leaf tools\n   */\n  private enableFlipper(): void {\n    const tools = Array.from(this.nodes.toolbox.childNodes) as HTMLElement[];\n\n    this.flipper = new Flipper({\n      items: tools,\n      focusedItemClass: Toolbox.CSS.toolboxButtonActive,\n    });\n  }\n\n  /**\n   * Inserts new block\n   * Can be called when button clicked on Toolbox or by ShortcutData\n   *\n   * @param {string} toolName - Tool name\n   */\n  private insertNewBlock(toolName: string): void {\n    const currentBlockIndex = this.api.blocks.getCurrentBlockIndex();\n    const currentBlock = this.api.blocks.getBlockByIndex(currentBlockIndex);\n\n    if (!currentBlock) {\n      return;\n    }\n\n    /**\n     * On mobile version, we see the Plus Button even near non-empty blocks,\n     * so if current block is not empty, add the new block below the current\n     */\n    const index = currentBlock.isEmpty\n      ? currentBlockIndex\n      : currentBlockIndex + 1;\n\n    const newBlock = this.api.blocks.insert(\n      toolName,\n      undefined,\n      undefined,\n      index,\n      undefined,\n      currentBlock.isEmpty\n    );\n\n    /**\n     * Apply callback before inserting html\n     */\n    newBlock.call(BlockToolAPI.APPEND_CALLBACK);\n\n    this.api.caret.setToBlock(index);\n\n    this.emit(ToolboxEvent.BlockAdded, {\n      block: newBlock,\n    });\n\n    /**\n     * close toolbar when node is changed\n     */\n    this.api.toolbar.close();\n  }\n}\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Paragraph=t():e.Paragraph=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/\",n(n.s=0)}([function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n(1).toString();\n/**\n * Base Paragraph Block for the Editor.js.\n * Represents simple paragraph\n *\n * @author CodeX (team@codex.so)\n * @copyright CodeX 2018\n * @license The MIT License (MIT)\n */\nvar a=function(){function e(t){var n=t.data,r=t.config,o=t.api,a=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.api=o,this.readOnly=a,this._CSS={block:this.api.styles.block,wrapper:\"ce-paragraph\"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=r.placeholder?r.placeholder:e.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=void 0!==r.preserveBlank&&r.preserveBlank,this.data=n}return o(e,null,[{key:\"DEFAULT_PLACEHOLDER\",get:function(){return\"\"}}]),o(e,[{key:\"onKeyUp\",value:function(e){\"Backspace\"!==e.code&&\"Delete\"!==e.code||\"\"===this._element.textContent&&(this._element.innerHTML=\"\")}},{key:\"drawView\",value:function(){var e=document.createElement(\"DIV\");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(e.contentEditable=!0,e.addEventListener(\"keyup\",this.onKeyUp)),e}},{key:\"render\",value:function(){return this._element}},{key:\"merge\",value:function(e){var t={text:this.data.text+e.text};this.data=t}},{key:\"validate\",value:function(e){return!(\"\"===e.text.trim()&&!this._preserveBlank)}},{key:\"save\",value:function(e){return{text:e.innerHTML}}},{key:\"onPaste\",value:function(e){var t={text:e.detail.data.innerHTML};this.data=t}},{key:\"data\",get:function(){var e=this._element.innerHTML;return this._data.text=e,this._data},set:function(e){this._data=e||{},this._element.innerHTML=this._data.text||\"\"}}],[{key:\"conversionConfig\",get:function(){return{export:\"text\",import:\"text\"}}},{key:\"sanitize\",get:function(){return{text:{br:!0}}}},{key:\"isReadOnlySupported\",get:function(){return!0}},{key:\"pasteConfig\",get:function(){return{tags:[\"P\"]}}},{key:\"toolbox\",get:function(){return{icon:n(5).default,title:\"Text\"}}}]),e}();e.exports=a},function(e,t,n){var r=n(2),o=n(3);\"string\"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,\"\"]]);var a={insert:\"head\",singleton:!1};r(o,a);e.exports=o.locals||{}},function(e,t,n){\"use strict\";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function c(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var a=e[o],u=t.base?a[0]+t.base:a[0],s=n[u]||0,l=\"\".concat(u,\" \").concat(s);n[u]=s+1;var f=c(l),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(d)):i.push({identifier:l,updater:y(d,t),references:1}),r.push(l)}return r}function s(e){var t=document.createElement(\"style\"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),\"function\"==typeof e.insert)e.insert(t);else{var i=a(e.insert||\"head\");if(!i)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");i.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join(\"\\n\")});function d(e,t,n,r){var o=n?\"\":r.media?\"@media \".concat(r.media,\" {\").concat(r.css,\"}\"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function p(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),a&&btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),\" */\")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,v=0;function y(e,t){var n,r,o;if(t.singleton){var a=v++;n=h||(h=s(t)),r=d.bind(null,n,a,!1),o=d.bind(null,n,a,!0)}else n=s(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||\"boolean\"==typeof t.singleton||(t.singleton=o());var n=u(e=e||[],t);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=c(n[r]);i[o].references--}for(var a=u(e,t),s=0;s<n.length;s++){var l=c(n[s]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=a}}}},function(e,t,n){(t=n(4)(!1)).push([e.i,\".ce-paragraph {\\n    line-height: 1.6em;\\n    outline: none;\\n}\\n\\n.ce-paragraph[data-placeholder]:empty::before{\\n  content: attr(data-placeholder);\\n  color: #707684;\\n  font-weight: normal;\\n  opacity: 0;\\n}\\n\\n/** Show placeholder at the first paragraph if Editor is empty */\\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\\n  opacity: 1;\\n}\\n\\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\\n  opacity: 0;\\n}\\n\\n.ce-paragraph p:first-of-type{\\n    margin-top: 0;\\n}\\n\\n.ce-paragraph p:last-of-type{\\n    margin-bottom: 0;\\n}\\n\",\"\"]),e.exports=t},function(e,t,n){\"use strict\";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||\"\",r=e[3];if(!r)return n;if(t&&\"function\"==typeof btoa){var o=(i=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),u=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(c),\"/*# \".concat(u,\" */\")),a=r.sources.map((function(e){return\"/*# sourceURL=\".concat(r.sourceRoot||\"\").concat(e,\" */\")}));return[n].concat(a).concat([o]).join(\"\\n\")}var i,c,u;return[n].join(\"\\n\")}(t,e);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},t.i=function(e,n,r){\"string\"==typeof e&&(e=[[null,e,\"\"]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&o[u[0]]||(n&&(u[2]?u[2]=\"\".concat(n,\" and \").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){\"use strict\";n.r(t),t.default='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0.2 -0.3 9 11.4\" width=\"12\" height=\"14\">\\n  <path d=\"M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z\"/>\\n</svg>\\n'}])}));","import $ from \"../dom\";\nimport { InlineTool, SanitizerConfig } from \"../../../types\";\n\n/**\n * Bold Tool\n *\n * Inline Toolbar Tool\n *\n * Makes selected text bolder\n */\nexport default class BoldInlineTool implements InlineTool {\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @returns {boolean}\n   */\n  public static isInline = true;\n\n  /**\n   * Title for hover-tooltip\n   */\n  public static title = \"Bold\";\n\n  /**\n   * Sanitizer Rule\n   * Leave <b> tags\n   *\n   * @returns {object}\n   */\n  public static get sanitize(): SanitizerConfig {\n    return {\n      b: {},\n    } as SanitizerConfig;\n  }\n\n  /**\n   * Native Document's command that uses for Bold\n   */\n  private readonly commandName: string = \"bold\";\n\n  /**\n   * Styles\n   */\n  private readonly CSS = {\n    button: \"ce-inline-tool\",\n    buttonActive: \"ce-inline-tool--active\",\n    buttonModifier: \"ce-inline-tool--bold\",\n  };\n\n  /**\n   * Elements\n   */\n  private nodes: { button: HTMLButtonElement } = {\n    button: undefined,\n  };\n\n  /**\n   * Create button for Inline Toolbar\n   */\n  public render(): HTMLElement {\n    this.nodes.button = document.createElement(\"button\") as HTMLButtonElement;\n    this.nodes.button.type = \"button\";\n    this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n    this.nodes.button.appendChild($.svg(\"bold\", 12, 14));\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Wrap range with <b> tag\n   *\n   * @param {Range} range - range to wrap\n   */\n  public surround(range: Range): void {\n    document.execCommand(this.commandName);\n  }\n\n  /**\n   * Check selection and set activated state to button if there are <b> tag\n   *\n   * @param {Selection} selection - selection to check\n   *\n   * @returns {boolean}\n   */\n  public checkState(selection: Selection): boolean {\n    const isActive = document.queryCommandState(this.commandName);\n\n    this.nodes.button.classList.toggle(this.CSS.buttonActive, isActive);\n\n    return isActive;\n  }\n\n  /**\n   * Set a shortcut\n   *\n   * @returns {boolean}\n   */\n  public get shortcut(): string {\n    return \"CMD+B\";\n  }\n}\n","import $ from \"../dom\";\nimport { InlineTool, SanitizerConfig } from \"../../../types\";\n\n/**\n * Italic Tool\n *\n * Inline Toolbar Tool\n *\n * Style selected text with italic\n */\nexport default class ItalicInlineTool implements InlineTool {\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @returns {boolean}\n   */\n  public static isInline = true;\n\n  /**\n   * Title for hover-tooltip\n   */\n  public static title = \"Italic\";\n\n  /**\n   * Sanitizer Rule\n   * Leave <i> tags\n   *\n   * @returns {object}\n   */\n  public static get sanitize(): SanitizerConfig {\n    return {\n      i: {},\n    } as SanitizerConfig;\n  }\n\n  /**\n   * Native Document's command that uses for Italic\n   */\n  private readonly commandName: string = \"italic\";\n\n  /**\n   * Styles\n   */\n  private readonly CSS = {\n    button: \"ce-inline-tool\",\n    buttonActive: \"ce-inline-tool--active\",\n    buttonModifier: \"ce-inline-tool--italic\",\n  };\n\n  /**\n   * Elements\n   */\n  private nodes: { button: HTMLButtonElement } = {\n    button: null,\n  };\n\n  /**\n   * Create button for Inline Toolbar\n   */\n  public render(): HTMLElement {\n    this.nodes.button = document.createElement(\"button\") as HTMLButtonElement;\n    this.nodes.button.type = \"button\";\n    this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n    this.nodes.button.appendChild($.svg(\"italic\", 11, 14));\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Wrap range with <i> tag\n   *\n   * @param {Range} range - range to wrap\n   */\n  public surround(range: Range): void {\n    document.execCommand(this.commandName);\n  }\n\n  /**\n   * Check selection and set activated state to button if there are <i> tag\n   *\n   * @param {Selection} selection - selection to check\n   */\n  public checkState(selection: Selection): boolean {\n    const isActive = document.queryCommandState(this.commandName);\n\n    this.nodes.button.classList.toggle(this.CSS.buttonActive, isActive);\n\n    return isActive;\n  }\n\n  /**\n   * Set a shortcut\n   */\n  public get shortcut(): string {\n    return \"CMD+I\";\n  }\n}\n","import SelectionUtils from \"../selection\";\n\nimport $ from \"../dom\";\nimport * as _ from \"../utils\";\nimport { InlineTool, SanitizerConfig } from \"../../../types\";\nimport { Notifier, Toolbar, I18n } from \"../../../types/api\";\n\n/**\n * Link Tool\n *\n * Inline Toolbar Tool\n *\n * Wrap selected text with <a> tag\n */\nexport default class LinkInlineTool implements InlineTool {\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @returns {boolean}\n   */\n  public static isInline = true;\n\n  /**\n   * Title for hover-tooltip\n   */\n  public static title = \"Link\";\n\n  /**\n   * Sanitizer Rule\n   * Leave <a> tags\n   *\n   * @returns {object}\n   */\n  public static get sanitize(): SanitizerConfig {\n    return {\n      a: {\n        href: true,\n        target: \"_blank\",\n        rel: \"nofollow\",\n      },\n    } as SanitizerConfig;\n  }\n\n  /**\n   * Native Document's commands for link/unlink\n   */\n  private readonly commandLink: string = \"createLink\";\n  private readonly commandUnlink: string = \"unlink\";\n\n  /**\n   * Enter key code\n   */\n  private readonly ENTER_KEY: number = 13;\n\n  /**\n   * Styles\n   */\n  private readonly CSS = {\n    button: \"ce-inline-tool\",\n    buttonActive: \"ce-inline-tool--active\",\n    buttonModifier: \"ce-inline-tool--link\",\n    buttonUnlink: \"ce-inline-tool--unlink\",\n    input: \"ce-inline-tool-input\",\n    inputShowed: \"ce-inline-tool-input--showed\",\n  };\n\n  /**\n   * Elements\n   */\n  private nodes: {\n    button: HTMLButtonElement;\n    input: HTMLInputElement;\n  } = {\n    button: null,\n    input: null,\n  };\n\n  /**\n   * SelectionUtils instance\n   */\n  private selection: SelectionUtils;\n\n  /**\n   * Input opening state\n   */\n  private inputOpened = false;\n\n  /**\n   * Available Toolbar methods (open/close)\n   */\n  private toolbar: Toolbar;\n\n  /**\n   * Available inline toolbar methods (open/close)\n   */\n  private inlineToolbar: Toolbar;\n\n  /**\n   * Notifier API methods\n   */\n  private notifier: Notifier;\n\n  /**\n   * I18n API\n   */\n  private i18n: I18n;\n\n  /**\n   * @param {API} api - Editor.js API\n   */\n  constructor({ api }) {\n    this.toolbar = api.toolbar;\n    this.inlineToolbar = api.inlineToolbar;\n    this.notifier = api.notifier;\n    this.i18n = api.i18n;\n    this.selection = new SelectionUtils();\n  }\n\n  /**\n   * Create button for Inline Toolbar\n   */\n  public render(): HTMLElement {\n    this.nodes.button = document.createElement(\"button\") as HTMLButtonElement;\n    this.nodes.button.type = \"button\";\n    this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier);\n    this.nodes.button.appendChild($.svg(\"link\", 14, 14));\n    this.nodes.button.appendChild($.svg(\"unlink\", 14, 14));\n\n    return this.nodes.button;\n  }\n\n  /**\n   * Input for the link\n   */\n  public renderActions(): HTMLElement {\n    this.nodes.input = document.createElement(\"input\") as HTMLInputElement;\n    this.nodes.input.placeholder = this.i18n.t(\"Add a link\");\n    this.nodes.input.classList.add(this.CSS.input);\n    this.nodes.input.addEventListener(\"keydown\", (event: KeyboardEvent) => {\n      if (event.keyCode === this.ENTER_KEY) {\n        this.enterPressed(event);\n      }\n    });\n\n    return this.nodes.input;\n  }\n\n  /**\n   * Handle clicks on the Inline Toolbar icon\n   *\n   * @param {Range} range - range to wrap with link\n   */\n  public surround(range: Range): void {\n    /**\n     * Range will be null when user makes second click on the 'link icon' to close opened input\n     */\n    if (range) {\n      /**\n       * Save selection before change focus to the input\n       */\n      if (!this.inputOpened) {\n        /** Create blue background instead of selection */\n        this.selection.setFakeBackground();\n        this.selection.save();\n      } else {\n        this.selection.restore();\n        this.selection.removeFakeBackground();\n      }\n      const parentAnchor = this.selection.findParentTag(\"A\");\n\n      /**\n       * Unlink icon pressed\n       */\n      if (parentAnchor) {\n        const unlinkButton =\n          document.getElementsByClassName(\"unlink-button\")[0];\n        this.selection.expandToTag(parentAnchor);\n        this.unlink();\n        this.nodes.input.value = \"\";\n        this.nodes.button.classList.remove(this.CSS.buttonUnlink);\n        this.nodes.button.classList.remove(this.CSS.buttonActive);\n        unlinkButton.remove();\n\n        return;\n      }\n    }\n\n    this.toggleActions();\n  }\n\n  /**\n   * Check selection and set activated state to button if there are <a> tag\n   *\n   * @param {Selection} selection - selection to check\n   */\n  public checkState(selection?: Selection): boolean {\n    const anchorTag = this.selection.findParentTag(\"A\");\n    const unlinkButton = document.createElement(\"button\");\n    unlinkButton.classList.add(\"unlink-button\");\n    unlinkButton.textContent = this.i18n.t(\"Remove\");\n    unlinkButton.addEventListener(\"click\", () => {\n      this.unlink();\n      this.nodes.input.value = \"\";\n      this.nodes.button.classList.remove(this.CSS.buttonUnlink);\n      this.nodes.button.classList.remove(this.CSS.buttonActive);\n      unlinkButton.remove();\n    });\n\n    if (anchorTag) {\n      this.nodes.button.classList.add(this.CSS.buttonUnlink);\n      this.nodes.button.classList.add(this.CSS.buttonActive);\n      this.openActions();\n\n      /**\n       * Fill input value with link href\n       */\n      const hrefAttr = anchorTag.getAttribute(\"href\");\n\n      this.nodes.input.value = hrefAttr !== \"null\" ? hrefAttr : \"\";\n      if (this.nodes.input.value !== \"\") {\n        document\n          .querySelector(\".ce-inline-toolbar__actions\")\n          .appendChild(unlinkButton);\n      }\n\n      this.selection.save();\n    } else {\n      this.nodes.button.classList.remove(this.CSS.buttonUnlink);\n      this.nodes.button.classList.remove(this.CSS.buttonActive);\n    }\n\n    return !!anchorTag;\n  }\n\n  /**\n   * Function called with Inline Toolbar closing\n   */\n  public clear(): void {\n    this.closeActions();\n  }\n\n  /**\n   * Set a shortcut\n   */\n  public get shortcut(): string {\n    return \"CMD+K\";\n  }\n\n  /**\n   * Show/close link input\n   */\n  private toggleActions(): void {\n    if (!this.inputOpened) {\n      this.openActions(true);\n    } else {\n      this.closeActions(false);\n    }\n  }\n\n  /**\n   * @param {boolean} needFocus - on link creation we need to focus input. On editing - nope.\n   */\n  private openActions(needFocus = false): void {\n    this.nodes.input.classList.add(this.CSS.inputShowed);\n    if (needFocus) {\n      this.nodes.input.focus();\n    }\n    this.inputOpened = true;\n  }\n\n  /**\n   * Close input\n   *\n   * @param {boolean} clearSavedSelection  we don't need to clear saved selection\n   *                                        on toggle-clicks on the icon of opened Toolbar\n   */\n  private closeActions(clearSavedSelection = true): void {\n    if (this.selection.isFakeBackgroundEnabled) {\n      // if actions is broken by other selection We need to save new selection\n      const currentSelection = new SelectionUtils();\n\n      currentSelection.save();\n\n      this.selection.restore();\n      this.selection.removeFakeBackground();\n\n      // and recover new selection after removing fake background\n      currentSelection.restore();\n    }\n\n    this.nodes.input.classList.remove(this.CSS.inputShowed);\n    this.nodes.input.value = \"\";\n    if (clearSavedSelection) {\n      this.selection.clearSaved();\n    }\n    this.inputOpened = false;\n  }\n\n  /**\n   * Enter pressed on input\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  private enterPressed(event: KeyboardEvent): void {\n    let value = this.nodes.input.value || \"\";\n\n    if (!value.trim()) {\n      this.selection.restore();\n      this.unlink();\n      event.preventDefault();\n      this.closeActions();\n\n      return;\n    }\n\n    if (!this.validateURL(value)) {\n      this.notifier.show({\n        message: \"Pasted link is not valid.\",\n        style: \"error\",\n      });\n\n      _.log(\"Incorrect Link pasted\", \"warn\", value);\n\n      return;\n    }\n\n    value = this.prepareLink(value);\n\n    this.selection.restore();\n    this.selection.removeFakeBackground();\n\n    this.insertLink(value);\n\n    /**\n     * Preventing events that will be able to happen\n     */\n    event.preventDefault();\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n    this.selection.collapseToEnd();\n    this.inlineToolbar.close();\n  }\n\n  /**\n   * Detects if passed string is URL\n   *\n   * @param {string} str - string to validate\n   * @returns {boolean}\n   */\n  private validateURL(str: string): boolean {\n    /**\n     * Don't allow spaces\n     */\n    return !/\\s/.test(str);\n  }\n\n  /**\n   * Process link before injection\n   * - sanitize\n   * - add protocol for links like 'google.com'\n   *\n   * @param {string} link - raw user input\n   */\n  private prepareLink(link: string): string {\n    link = link.trim();\n    link = this.addProtocol(link);\n\n    return link;\n  }\n\n  /**\n   * Add 'http' protocol to the links like 'vc.ru', 'google.com'\n   *\n   * @param {string} link - string to process\n   */\n  private addProtocol(link: string): string {\n    /**\n     * If protocol already exists, do nothing\n     */\n    if (/^(\\w+):(\\/\\/)?/.test(link)) {\n      return link;\n    }\n\n    /**\n     * We need to add missed HTTP protocol to the link, but skip 2 cases:\n     *     1) Internal links like \"/general\"\n     *     2) Anchors looks like \"#results\"\n     *     3) Protocol-relative URLs like \"//google.com\"\n     */\n    const isInternal = /^\\/[^/\\s]/.test(link),\n      isAnchor = link.substring(0, 1) === \"#\",\n      isProtocolRelative = /^\\/\\/[^/\\s]/.test(link);\n\n    if (!isInternal && !isAnchor && !isProtocolRelative) {\n      link = \"http://\" + link;\n    }\n\n    return link;\n  }\n\n  /**\n   * Inserts <a> tag with \"href\"\n   *\n   * @param {string} link - \"href\" value\n   */\n  private insertLink(link: string): void {\n    /**\n     * Edit all link, not selected part\n     */\n    const anchorTag = this.selection.findParentTag(\"A\");\n\n    if (anchorTag) {\n      this.selection.expandToTag(anchorTag);\n    }\n\n    document.execCommand(this.commandLink, false, link);\n  }\n\n  /**\n   * Removes <a> tag\n   */\n  private unlink(): void {\n    document.execCommand(this.commandUnlink);\n  }\n}\n","import $ from '../../components/dom';\nimport { API, BlockTool, BlockToolConstructorOptions, BlockToolData } from '../../../types';\n\nexport interface StubData extends BlockToolData {\n  title: string;\n  savedData: BlockToolData;\n}\n\n/**\n * This tool will be shown in place of a block without corresponding plugin\n * It will store its data inside and pass it back with article saving\n */\nexport default class Stub implements BlockTool {\n  /**\n   * Notify core that tool supports read-only mode\n   */\n  public static isReadOnlySupported = true;\n\n  /**\n   * Stub styles\n   *\n   * @type {{wrapper: string, info: string, title: string, subtitle: string}}\n   */\n  private CSS = {\n    wrapper: 'ce-stub',\n    info: 'ce-stub__info',\n    title: 'ce-stub__title',\n    subtitle: 'ce-stub__subtitle',\n  };\n\n  /**\n   * Main stub wrapper\n   */\n  private readonly wrapper: HTMLElement;\n\n  /**\n   * Editor.js API\n   */\n  private readonly api: API;\n\n  /**\n   * Stub title  tool name\n   */\n  private readonly title: string;\n\n  /**\n   * Stub hint\n   */\n  private readonly subtitle: string;\n\n  /**\n   * Original Tool data\n   */\n  private readonly savedData: BlockToolData;\n\n  /**\n   * @param options - constructor options\n   * @param options.data - stub tool data\n   * @param options.api - Editor.js API\n   */\n  constructor({ data, api }: BlockToolConstructorOptions<StubData>) {\n    this.api = api;\n    this.title = data.title || this.api.i18n.t('Error');\n    this.subtitle = this.api.i18n.t('The block can not be displayed correctly.');\n    this.savedData = data.savedData;\n\n    this.wrapper = this.make();\n  }\n\n  /**\n   * Returns stub holder\n   *\n   * @returns {HTMLElement}\n   */\n  public render(): HTMLElement {\n    return this.wrapper;\n  }\n\n  /**\n   * Return original Tool data\n   *\n   * @returns {BlockToolData}\n   */\n  public save(): BlockToolData {\n    return this.savedData;\n  }\n\n  /**\n   * Create Tool html markup\n   *\n   * @returns {HTMLElement}\n   */\n  private make(): HTMLElement {\n    const wrapper = $.make('div', this.CSS.wrapper);\n    const icon = $.svg('sad-face', 52, 52);\n    const infoContainer = $.make('div', this.CSS.info);\n    const title = $.make('div', this.CSS.title, {\n      textContent: this.title,\n    });\n    const subtitle = $.make('div', this.CSS.subtitle, {\n      textContent: this.subtitle,\n    });\n\n    wrapper.appendChild(icon);\n\n    infoContainer.appendChild(title);\n    infoContainer.appendChild(subtitle);\n\n    wrapper.appendChild(infoContainer);\n\n    return wrapper;\n  }\n}\n","import { ToolConstructable, ToolSettings } from '../../../types/tools';\nimport { InternalInlineToolSettings, InternalTuneSettings } from './base';\nimport InlineTool from './inline';\nimport BlockTune from './tune';\nimport BlockTool from './block';\nimport API from '../modules/api';\nimport { EditorConfig } from '../../../types/configs';\n\ntype ToolConstructor = typeof InlineTool | typeof BlockTool | typeof BlockTune;\n\n/**\n * Factory to construct classes to work with tools\n */\nexport default class ToolsFactory {\n  /**\n   * Tools configuration specified by user\n   */\n  private config: {[name: string]: ToolSettings & { isInternal?: boolean }};\n\n  /**\n   * EditorJS API Module\n   */\n  private api: API;\n\n  /**\n   * EditorJS configuration\n   */\n  private editorConfig: EditorConfig;\n\n  /**\n   * @class\n   *\n   * @param config - tools config\n   * @param editorConfig - EditorJS config\n   * @param api - EditorJS API module\n   */\n  constructor(\n    config: {[name: string]: ToolSettings & { isInternal?: boolean }},\n    editorConfig: EditorConfig,\n    api: API\n  ) {\n    this.api = api;\n    this.config = config;\n    this.editorConfig = editorConfig;\n  }\n\n  /**\n   * Returns Tool object based on it's type\n   *\n   * @param name - tool name\n   */\n  public get(name: string): InlineTool | BlockTool | BlockTune {\n    const { class: constructable, isInternal = false, ...config } = this.config[name];\n\n    const Constructor = this.getConstructor(constructable);\n\n    return new Constructor({\n      name,\n      constructable,\n      config,\n      api: this.api,\n      isDefault: name === this.editorConfig.defaultBlock,\n      defaultPlaceholder: this.editorConfig.placeholder,\n      isInternal,\n    });\n  }\n\n  /**\n   * Find appropriate Tool object constructor for Tool constructable\n   *\n   * @param constructable - Tools constructable\n   */\n  private getConstructor(constructable: ToolConstructable): ToolConstructor {\n    switch (true) {\n      case constructable[InternalInlineToolSettings.IsInline]:\n        return InlineTool;\n      case constructable[InternalTuneSettings.IsTune]:\n        return BlockTune;\n      default:\n        return BlockTool;\n    }\n  }\n}\n","import BaseTool, { InternalInlineToolSettings, ToolType } from './base';\nimport { InlineTool as IInlineTool, InlineToolConstructable } from '../../../types';\n\n/**\n * InlineTool object to work with Inline Tools constructables\n */\nexport default class InlineTool extends BaseTool<IInlineTool> {\n  /**\n   * Tool type  Inline\n   */\n  public type = ToolType.Inline;\n\n  /**\n   * Tool's constructable blueprint\n   */\n  protected constructable: InlineToolConstructable;\n\n  /**\n   * Returns title for Inline Tool if specified by user\n   */\n  public get title(): string {\n    return this.constructable[InternalInlineToolSettings.Title];\n  }\n\n  /**\n   * Constructs new InlineTool instance from constructable\n   */\n  public create(): IInlineTool {\n    // eslint-disable-next-line new-cap\n    return new this.constructable({\n      api: this.api.getMethodsForTool(this),\n      config: this.settings,\n    }) as IInlineTool;\n  }\n}\n","import BaseTool, { ToolType } from './base';\nimport { BlockAPI, BlockTune as IBlockTune, BlockTuneConstructable } from '../../../types';\nimport { BlockTuneData } from '../../../types/block-tunes/block-tune-data';\n\n/**\n * Stub class for BlockTunes\n *\n * @todo Implement\n */\nexport default class BlockTune extends BaseTool<IBlockTune> {\n  /**\n   * Tool type  Tune\n   */\n  public type = ToolType.Tune;\n\n  /**\n   * Tool's constructable blueprint\n   */\n  protected readonly constructable: BlockTuneConstructable;\n\n  /**\n   * Constructs new BlockTune instance from constructable\n   *\n   * @param data - Tune data\n   * @param block - Block API object\n   */\n  public create(data: BlockTuneData, block: BlockAPI): IBlockTune {\n    // eslint-disable-next-line new-cap\n    return new this.constructable({\n      api: this.api.getMethodsForTool(this),\n      config: this.settings,\n      block,\n      data,\n    });\n  }\n}\n","import BaseTool, { InternalBlockToolSettings, ToolType, UserSettings } from './base';\nimport {\n  BlockAPI,\n  BlockTool as IBlockTool,\n  BlockToolConstructable,\n  BlockToolData,\n  ConversionConfig,\n  PasteConfig, SanitizerConfig,\n  ToolboxConfig\n} from '../../../types';\nimport * as _ from '../utils';\nimport InlineTool from './inline';\nimport BlockTune from './tune';\nimport ToolsCollection from './collection';\n\n/**\n * Class to work with Block tools constructables\n */\nexport default class BlockTool extends BaseTool<IBlockTool> {\n  /**\n   * Tool type  Block\n   */\n  public type = ToolType.Block;\n\n  /**\n   * InlineTool collection for current Block Tool\n   */\n  public inlineTools: ToolsCollection<InlineTool> = new ToolsCollection<InlineTool>();\n\n  /**\n   * BlockTune collection for current Block Tool\n   */\n  public tunes: ToolsCollection<BlockTune> = new ToolsCollection<BlockTune>();\n\n  /**\n   * Tool's constructable blueprint\n   */\n  protected constructable: BlockToolConstructable;\n\n  /**\n   * Creates new Tool instance\n   *\n   * @param data - Tool data\n   * @param block - BlockAPI for current Block\n   * @param readOnly - True if Editor is in read-only mode\n   */\n  public create(data: BlockToolData, block: BlockAPI, readOnly: boolean): IBlockTool {\n    // eslint-disable-next-line new-cap\n    return new this.constructable({\n      data,\n      block,\n      readOnly,\n      api: this.api.getMethodsForTool(this),\n      config: this.settings,\n    }) as IBlockTool;\n  }\n\n  /**\n   * Returns true if read-only mode is supported by Tool\n   */\n  public get isReadOnlySupported(): boolean {\n    return this.constructable[InternalBlockToolSettings.IsReadOnlySupported] === true;\n  }\n\n  /**\n   * Returns true if Tool supports linebreaks\n   */\n  public get isLineBreaksEnabled(): boolean {\n    return this.constructable[InternalBlockToolSettings.IsEnabledLineBreaks];\n  }\n\n  /**\n   * Returns Tool toolbox configuration (internal or user-specified)\n   */\n  public get toolbox(): ToolboxConfig {\n    const toolToolboxSettings = this.constructable[InternalBlockToolSettings.Toolbox] as ToolboxConfig;\n    const userToolboxSettings = this.config[UserSettings.Toolbox];\n\n    if (_.isEmpty(toolToolboxSettings)) {\n      return;\n    }\n\n    if ((userToolboxSettings ?? toolToolboxSettings) === false) {\n      return;\n    }\n\n    return Object.assign({}, toolToolboxSettings, userToolboxSettings);\n  }\n\n  /**\n   * Returns Tool conversion configuration\n   */\n  public get conversionConfig(): ConversionConfig {\n    return this.constructable[InternalBlockToolSettings.ConversionConfig];\n  }\n\n  /**\n   * Returns enabled inline tools for Tool\n   */\n  public get enabledInlineTools(): boolean | string[] {\n    return this.config[UserSettings.EnabledInlineTools] || false;\n  }\n\n  /**\n   * Returns enabled tunes for Tool\n   */\n  public get enabledBlockTunes(): boolean | string[] {\n    return this.config[UserSettings.EnabledBlockTunes];\n  }\n\n  /**\n   * Returns Tool paste configuration\n   */\n  public get pasteConfig(): PasteConfig {\n    return this.constructable[InternalBlockToolSettings.PasteConfig] || {};\n  }\n\n  /**\n   * Returns sanitize configuration for Block Tool including configs from related Inline Tools and Block Tunes\n   */\n  @_.cacheable\n  public get sanitizeConfig(): SanitizerConfig {\n    const toolRules = super.sanitizeConfig;\n    const baseConfig = this.baseSanitizeConfig;\n\n    if (_.isEmpty(toolRules)) {\n      return baseConfig;\n    }\n\n    const toolConfig = {} as SanitizerConfig;\n\n    for (const fieldName in toolRules) {\n      if (Object.prototype.hasOwnProperty.call(toolRules, fieldName)) {\n        const rule = toolRules[fieldName];\n\n        /**\n         * If rule is object, merge it with Inline Tools configuration\n         *\n         * Otherwise pass as it is\n         */\n        if (_.isObject(rule)) {\n          toolConfig[fieldName] = Object.assign({}, baseConfig, rule);\n        } else {\n          toolConfig[fieldName] = rule;\n        }\n      }\n    }\n\n    return toolConfig;\n  }\n\n  /**\n   * Returns sanitizer configuration composed from sanitize config of Inline Tools enabled for Tool\n   */\n  @_.cacheable\n  public get baseSanitizeConfig(): SanitizerConfig {\n    const baseConfig = {};\n\n    Array\n      .from(this.inlineTools.values())\n      .forEach(tool => Object.assign(baseConfig, tool.sanitizeConfig));\n\n    Array\n      .from(this.tunes.values())\n      .forEach(tune => Object.assign(baseConfig, tune.sanitizeConfig));\n\n    return baseConfig;\n  }\n}\n","/**\n * @class MoveDownTune\n * @classdesc Editor's default tune - Moves down highlighted block\n *\n * @copyright <CodeX Team> 2018\n */\n\nimport $ from \"../dom\";\nimport { API, BlockTune } from \"../../../types\";\n\n/**\n *\n */\nexport default class MoveDownTune implements BlockTune {\n  /**\n   * Set Tool is Tune\n   */\n  public static readonly isTune = true;\n\n  /**\n   * Property that contains Editor.js API methods\n   *\n   * @see {@link docs/api.md}\n   */\n  private readonly api: API;\n\n  /**\n   * Styles\n   *\n   * @type {{wrapper: string}}\n   */\n  private CSS = {\n    button: \"ce-settings__button\",\n    wrapper: \"ce-tune-move-down\",\n    iconContainer: \"ce-settings__button-icon-container\",\n    buttonText: \"ce-settings__button-text\",\n    animation: \"wobble\",\n  };\n\n  /**\n   * MoveDownTune constructor\n   *\n   * @param {API} api  Editor's API\n   */\n  constructor({ api }) {\n    this.api = api;\n  }\n\n  /**\n   * Return 'move down' button\n   *\n   * @returns {HTMLElement}\n   */\n  public render(): HTMLElement {\n    const moveDownButton = $.make(\n      \"div\",\n      [this.CSS.button, this.CSS.wrapper],\n      {}\n    );\n    const moveDownButtonContainer = $.make(\"div\", [this.CSS.iconContainer]);\n    const moveDownText = $.make(\"span\", [this.CSS.buttonText]);\n\n    moveDownButtonContainer.appendChild($.svg(\"arrow-down\", 12, 16));\n    moveDownText.innerHTML = this.api.i18n.t(\"Move down\");\n    moveDownButton.appendChild(moveDownButtonContainer);\n    moveDownButton.appendChild(moveDownText);\n\n    this.api.listeners.on(\n      moveDownButton,\n      \"click\",\n      (event) => this.handleClick(event as MouseEvent, moveDownButton),\n      false\n    );\n\n    return moveDownButton;\n  }\n\n  /**\n   * Handle clicks on 'move down' button\n   *\n   * @param {MouseEvent} event - click event\n   * @param {HTMLElement} button - clicked button\n   */\n  public handleClick(event: MouseEvent, button: HTMLElement): void {\n    const currentBlockIndex = this.api.blocks.getCurrentBlockIndex();\n    const nextBlock = this.api.blocks.getBlockByIndex(currentBlockIndex + 1);\n\n    // If Block is last do nothing\n    if (!nextBlock) {\n      button.classList.add(this.CSS.animation);\n\n      window.setTimeout(() => {\n        button.classList.remove(this.CSS.animation);\n      }, 500);\n\n      return;\n    }\n\n    const nextBlockElement = nextBlock.holder;\n    const nextBlockCoords = nextBlockElement.getBoundingClientRect();\n\n    let scrollOffset = Math.abs(\n      window.innerHeight - nextBlockElement.offsetHeight\n    );\n\n    /**\n     * Next block ends on screen.\n     * Increment scroll by next block's height to save element onscreen-position\n     */\n    if (nextBlockCoords.top < window.innerHeight) {\n      scrollOffset = window.scrollY + nextBlockElement.offsetHeight;\n    }\n\n    window.scrollTo(0, scrollOffset);\n\n    /** Change blocks positions */\n    this.api.blocks.move(currentBlockIndex + 1);\n\n    this.api.toolbar.toggleBlockSettings(true);\n  }\n}\n","/**\n * @class DeleteTune\n * @classdesc Editor's default tune that moves up selected block\n *\n * @copyright <CodeX Team> 2018\n */\nimport { API, BlockTune } from \"../../../types\";\nimport $ from \"../dom\";\n\n/**\n *\n */\nexport default class DeleteTune implements BlockTune {\n  /**\n   * Set Tool is Tune\n   */\n  public static readonly isTune = true;\n\n  /**\n   * Property that contains Editor.js API methods\n   *\n   * @see {@link docs/api.md}\n   */\n  private readonly api: API;\n\n  /**\n   * Styles\n   */\n  private CSS = {\n    button: \"ce-settings__button\",\n    iconContainer: \"ce-settings__button-icon-container\",\n    buttonText: \"ce-settings__button-text\",\n    shortCutText: \"ce-settings__button-shortcut-text\",\n    buttonDelete: \"ce-settings__button--delete\",\n  };\n\n  /**\n   * Tune nodes\n   */\n  private nodes: { button: HTMLElement } = {\n    button: null,\n  };\n\n  /**\n   * DeleteTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api }) {\n    this.api = api;\n  }\n\n  /**\n   * Create \"Delete\" button and add click event listener\n   *\n   * @returns {HTMLElement}\n   */\n  public render(): HTMLElement {\n    const deleteButton = $.make(\"div\", [\n      this.CSS.button,\n      this.CSS.buttonDelete,\n    ]);\n    const deleteButtonContainer = $.make(\"div\", [this.CSS.iconContainer]);\n    const deleteButtonText = $.make(\"span\", [this.CSS.buttonText]);\n    const shortCutText = $.make(\"span\", [this.CSS.shortCutText]);\n\n    deleteButtonContainer.appendChild($.svg(\"delete\", 16, 16));\n    deleteButtonText.innerHTML = this.api.i18n.t(\"Delete\");\n    shortCutText.innerHTML = \"backspace\";\n    deleteButton.appendChild(deleteButtonContainer);\n    deleteButton.appendChild(deleteButtonText);\n    deleteButton.appendChild(shortCutText);\n\n    this.api.listeners.on(\n      deleteButton,\n      \"click\",\n      (event: MouseEvent) => this.handleClick(event),\n      false\n    );\n\n    return deleteButton;\n  }\n\n  /**\n   * Delete block conditions passed\n   *\n   * @param {MouseEvent} event - click event\n   */\n  public handleClick(event: MouseEvent): void {\n    this.api.blocks.delete();\n    this.api.toolbar.close();\n\n    /**\n     * Prevent firing ui~documentClicked that can drop currentBlock pointer\n     */\n    event.stopPropagation();\n  }\n}\n","/**\n * @class MoveUpTune\n * @classdesc Editor's default tune that moves up selected block\n *\n * @copyright <CodeX Team> 2018\n */\nimport $ from \"../dom\";\nimport { API, BlockTune } from \"../../../types\";\n\n/**\n *\n */\nexport default class MoveUpTune implements BlockTune {\n  /**\n   * Set Tool is Tune\n   */\n  public static readonly isTune = true;\n\n  /**\n   * Property that contains Editor.js API methods\n   *\n   * @see {@link docs/api.md}\n   */\n  private readonly api: API;\n\n  /**\n   * Styles\n   *\n   * @type {{wrapper: string}}\n   */\n  private CSS = {\n    button: \"ce-settings__button\",\n    wrapper: \"ce-tune-move-up\",\n    iconContainer: \"ce-settings__button-icon-container\",\n    buttonText: \"ce-settings__button-text\",\n    animation: \"wobble\",\n  };\n\n  /**\n   * MoveUpTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api }) {\n    this.api = api;\n  }\n\n  /**\n   * Create \"MoveUp\" button and add click event listener\n   *\n   * @returns {HTMLElement}\n   */\n  public render(): HTMLElement {\n    const moveUpButton = $.make(\"div\", [this.CSS.button, this.CSS.wrapper]);\n    const moveUpButtonContainer = $.make(\"div\", [this.CSS.iconContainer]);\n    const moveUpText = $.make(\"span\", [this.CSS.buttonText]);\n\n    moveUpButtonContainer.appendChild($.svg(\"arrow-up\", 12, 16));\n    moveUpText.innerHTML = this.api.i18n.t(\"Move up\");\n    moveUpButton.appendChild(moveUpButtonContainer);\n    moveUpButton.appendChild(moveUpText);\n\n    this.api.listeners.on(\n      moveUpButton,\n      \"click\",\n      (event) => this.handleClick(event as MouseEvent, moveUpButton),\n      false\n    );\n\n    return moveUpButton;\n  }\n\n  /**\n   * Move current block up\n   *\n   * @param {MouseEvent} event - click event\n   * @param {HTMLElement} button - clicked button\n   */\n  public handleClick(event: MouseEvent, button: HTMLElement): void {\n    const currentBlockIndex = this.api.blocks.getCurrentBlockIndex();\n    const currentBlock = this.api.blocks.getBlockByIndex(currentBlockIndex);\n    const previousBlock = this.api.blocks.getBlockByIndex(\n      currentBlockIndex - 1\n    );\n\n    if (currentBlockIndex === 0 || !currentBlock || !previousBlock) {\n      button.classList.add(this.CSS.animation);\n\n      window.setTimeout(() => {\n        button.classList.remove(this.CSS.animation);\n      }, 500);\n\n      return;\n    }\n\n    const currentBlockElement = currentBlock.holder;\n    const previousBlockElement = previousBlock.holder;\n\n    /**\n     * Here is two cases:\n     *  - when previous block has negative offset and part of it is visible on window, then we scroll\n     *  by window's height and add offset which is mathematically difference between two blocks\n     *\n     *  - when previous block is visible and has offset from the window,\n     *      than we scroll window to the difference between this offsets.\n     */\n    const currentBlockCoords = currentBlockElement.getBoundingClientRect(),\n      previousBlockCoords = previousBlockElement.getBoundingClientRect();\n\n    let scrollUpOffset;\n\n    if (previousBlockCoords.top > 0) {\n      scrollUpOffset =\n        Math.abs(currentBlockCoords.top) - Math.abs(previousBlockCoords.top);\n    } else {\n      scrollUpOffset =\n        window.innerHeight -\n        Math.abs(currentBlockCoords.top) +\n        Math.abs(previousBlockCoords.top);\n    }\n\n    window.scrollBy(0, -1 * scrollUpOffset);\n\n    /** Change blocks positions */\n    this.api.blocks.move(currentBlockIndex - 1);\n\n    this.api.toolbar.toggleBlockSettings(true);\n  }\n}\n","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n<symbol id=\\\"arrow-down\\\" viewBox=\\\"0 0 12 16\\\">\\n<path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M5.29289 15.2071C5.68342 15.5976 6.31658 15.5976 6.70711 15.2071L11.8536 10.0607C12.0488 9.8654 12.0488 9.54882 11.8536 9.35355C11.6583 9.15829 11.3417 9.15829 11.1464 9.35355L6.5 14L6.5 1.20703C6.5 0.930889 6.27614 0.707031 6 0.707031C5.72386 0.707031 5.5 0.930889 5.5 1.20703L5.5 14L0.853554 9.35355C0.658291 9.15829 0.34171 9.15829 0.146447 9.35355C-0.0488152 9.54881 -0.0488152 9.8654 0.146447 10.0607L5.29289 15.2071Z\\\"/>\\n\\n</symbol>\\n<symbol id=\\\"arrow-up\\\" viewBox=\\\"0 0 12 16\\\">\\n<path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M6.70711 0.999924C6.31658 0.6094 5.68342 0.609401 5.29289 0.999924L0.146447 6.14637C-0.0488156 6.34163 -0.0488156 6.65822 0.146447 6.85348C0.341709 7.04874 0.658291 7.04874 0.853553 6.85348L5.5 2.20703V15C5.5 15.2761 5.72386 15.5 6 15.5C6.27614 15.5 6.5 15.2761 6.5 15V2.20703L11.1464 6.85348C11.3417 7.04874 11.6583 7.04874 11.8536 6.85348C12.0488 6.65822 12.0488 6.34163 11.8536 6.14637L6.70711 0.999924Z\\\"/>\\n\\n</symbol>\\n<symbol id=\\\"bold\\\" viewBox=\\\"0 0 12 14\\\">\\n<path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M0 1C0 0.447715 0.447715 0 1 0H6.9375C7.95201 0 8.92286 0.407321 9.63704 1.12901C10.3508 1.85033 10.75 2.82645 10.75 3.84208C10.75 4.71323 10.4563 5.5553 9.92233 6.23245C10.2393 6.41511 10.5334 6.64083 10.7955 6.90571C11.5679 7.68626 12 8.7427 12 9.84208C12 10.9415 11.5679 11.9979 10.7955 12.7784C10.0228 13.5593 8.97243 14 7.875 14H1C0.447715 14 0 13.5523 0 13V1ZM2 7.68421V12H7.875C8.43517 12 8.97456 11.7752 9.37391 11.3717C9.7736 10.9678 10 10.4178 10 9.84208C10 9.26641 9.7736 8.7164 9.37391 8.31251C8.97459 7.90898 8.43521 7.68421 7.875 7.68421H2ZM6.9375 5.68421H2V2H6.9375C7.41483 2 7.87472 2.1915 8.21544 2.5358C8.55653 2.88048 8.75 3.35016 8.75 3.84208C8.75 4.33399 8.55652 4.80368 8.21544 5.14836C7.87469 5.49269 7.41478 5.68421 6.9375 5.68421Z\\\"/>\\n\\n</symbol>\\n<symbol id=\\\"delete\\\" viewBox=\\\"0 0 16 16\\\">\\n<path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M5 1.5C5 1.22386 5.22386 1 5.5 1H10.5C10.7761 1 11 1.22386 11 1.5V3H5V1.5ZM4 3V1.5C4 0.671573 4.67157 0 5.5 0H10.5C11.3284 0 12 0.671573 12 1.5V3H13.5H15C15.2761 3 15.5 3.22386 15.5 3.5C15.5 3.77614 15.2761 4 15 4H14V14.5C14 15.3284 13.3284 16 12.5 16H3.5C2.67157 16 2 15.3284 2 14.5V4H1C0.723858 4 0.5 3.77614 0.5 3.5C0.5 3.22386 0.723858 3 1 3H2.5H4ZM11.5 4H4.5H3V14.5C3 14.7761 3.22386 15 3.5 15H12.5C12.7761 15 13 14.7761 13 14.5V4H11.5ZM6.5 6.5C6.77614 6.5 7 6.72386 7 7V12C7 12.2761 6.77614 12.5 6.5 12.5C6.22386 12.5 6 12.2761 6 12V7C6 6.72386 6.22386 6.5 6.5 6.5ZM10 7C10 6.72386 9.77614 6.5 9.5 6.5C9.22386 6.5 9 6.72386 9 7V12C9 12.2761 9.22386 12.5 9.5 12.5C9.77614 12.5 10 12.2761 10 12V7Z\\\"/>\\n\\n</symbol>\\n<symbol id=\\\"dots\\\" viewBox=\\\"0 0 16 16\\\">\\n  <g transform=\\\"translate(4 1.5)\\\" fill-rule=\\\"evenodd\\\">\\n    <circle cx=\\\"1.3\\\" cy=\\\"1.3\\\" r=\\\"1.3\\\"/>\\n    <circle cx=\\\"6.5\\\" cy=\\\"1.3\\\" r=\\\"1.3\\\"/>\\n    <circle cx=\\\"6.5\\\" cy=\\\"6.5\\\" r=\\\"1.3\\\"/>\\n    <circle cx=\\\"1.3\\\" cy=\\\"6.5\\\" r=\\\"1.3\\\"/>\\n    <circle cx=\\\"6.5\\\" cy=\\\"11.7\\\" r=\\\"1.3\\\"/>\\n    <circle cx=\\\"1.3\\\" cy=\\\"11.7\\\" r=\\\"1.3\\\"/>\\n  </g>\\n\\n</symbol>\\n<symbol id=\\\"italic\\\" viewBox=\\\"0 0 11 14\\\">\\n<path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M4.3125 0.4375C4.03636 0.4375 3.8125 0.661358 3.8125 0.9375C3.8125 1.21364 4.03636 1.4375 4.3125 1.4375H6.4649L3.37115 12.4375H0.9375C0.661358 12.4375 0.4375 12.6614 0.4375 12.9375C0.4375 13.2136 0.661358 13.4375 0.9375 13.4375H3.73424C3.74488 13.4378 3.75549 13.4378 3.76606 13.4375H6.5625C6.83864 13.4375 7.0625 13.2136 7.0625 12.9375C7.0625 12.6614 6.83864 12.4375 6.5625 12.4375H4.40994L7.50369 1.4375H9.9375C10.2136 1.4375 10.4375 1.21364 10.4375 0.9375C10.4375 0.661358 10.2136 0.4375 9.9375 0.4375H7.12462H4.3125Z\\\"/>\\n\\n</symbol>\\n<symbol id=\\\"link\\\" viewBox=\\\"0 0 14 14\\\">\\n<path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M7.35302 3.30511L8.6548 1.95705C9.1144 1.52715 9.71219 1.29848 10.3249 1.31317C10.9412 1.32794 11.5319 1.58801 11.9731 2.04493C12.4149 2.50237 12.6722 3.12189 12.6868 3.77565C12.7014 4.42552 12.4748 5.0535 12.0583 5.5311L10.1943 7.45447L10.1931 7.45578C9.9688 7.6889 9.70323 7.8729 9.41209 7.99811C9.121 8.1233 8.80955 8.1875 8.49545 8.1875C8.18135 8.1875 7.8699 8.1233 7.57881 7.99811C7.28767 7.8729 7.0221 7.6889 6.79782 7.45578C6.60637 7.25678 6.28985 7.25066 6.09085 7.44211C5.89185 7.63356 5.88573 7.95009 6.07718 8.14909C6.39268 8.47703 6.76855 8.73821 7.18372 8.91676C7.59893 9.09533 8.04475 9.1875 8.49545 9.1875C8.94614 9.1875 9.39196 9.09533 9.80718 8.91676C10.2221 8.73833 10.5977 8.47737 10.9131 8.14974L10.9137 8.14909L12.7851 6.21802C12.7907 6.21228 12.7961 6.2064 12.8014 6.2004C13.3913 5.53016 13.7067 4.6536 13.6866 3.7533C13.6665 2.85297 13.3122 1.99203 12.6925 1.35027C12.0722 0.70799 11.2333 0.334658 10.3488 0.313455C9.46437 0.29225 8.60915 0.625022 7.96035 1.23739C7.95474 1.24269 7.94924 1.24812 7.94388 1.25368L6.63367 2.61045C6.44185 2.8091 6.44738 3.12563 6.64602 3.31745C6.84466 3.50928 7.16119 3.50375 7.35302 3.30511ZM4.58791 6.00189C4.879 5.8767 5.19045 5.8125 5.50455 5.8125C5.81865 5.8125 6.1301 5.8767 6.4212 6.00189C6.71233 6.1271 6.9779 6.3111 7.20218 6.54422C7.39363 6.74322 7.71015 6.74934 7.90915 6.55789C8.10815 6.36644 8.11427 6.04991 7.92282 5.85091C7.60732 5.52297 7.23145 5.26179 6.81628 5.08324C6.40107 4.90467 5.95525 4.8125 5.50455 4.8125C5.05386 4.8125 4.60804 4.90467 4.19282 5.08324C3.77794 5.26167 3.4023 5.52262 3.08693 5.85024L3.08628 5.85091L1.21488 7.78198C1.20932 7.78773 1.20389 7.7936 1.19861 7.7996C0.608683 8.46985 0.29328 9.3464 0.313407 10.2467C0.333536 11.147 0.687817 12.008 1.30754 12.6497C1.92778 13.292 2.76674 13.6653 3.65116 13.6865C4.53563 13.7078 5.39085 13.375 6.03965 12.7626C6.04526 12.7573 6.05076 12.7519 6.05612 12.7463L7.36633 11.3895C7.55815 11.1909 7.55262 10.8744 7.35398 10.6825C7.15534 10.4907 6.83881 10.4963 6.64698 10.6949L5.3452 12.0429C4.8856 12.4729 4.28781 12.7015 3.67513 12.6868C3.05881 12.6721 2.46812 12.412 2.02689 11.9551C1.58515 11.4976 1.32777 10.8781 1.31316 10.2244C1.29863 9.57448 1.52524 8.94649 1.94172 8.4689L3.80566 6.54553L3.80692 6.54422C4.0312 6.3111 4.29677 6.1271 4.58791 6.00189Z\\\"/>\\n\\n</symbol>\\n<symbol id=\\\"plus\\\" viewBox=\\\"0 0 16 16\\\">\\n  <g transform=\\\"translate(1 1.5)\\\" fill-rule=\\\"evenodd\\\">\\n    <rect x=\\\"6\\\" width=\\\"2\\\" height=\\\"13\\\" rx=\\\"1\\\"/>\\n    <rect x=\\\".5\\\" y=\\\"5.5\\\" width=\\\"13\\\" height=\\\"2\\\" rx=\\\"1\\\"/>\\n  </g>\\n\\n</symbol>\\n<symbol id=\\\"sad-face\\\" viewBox=\\\"0 0 52 52\\\">\\n    <path fill=\\\"#D76B6B\\\" fill-rule=\\\"nonzero\\\" d=\\\"M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z\\\"/>\\n\\n</symbol>\\n<symbol id=\\\"toggler-down\\\" viewBox=\\\"0 0 8 4\\\">\\n<path d=\\\"M1.35355 0.146447C1.15829 -0.0488155 0.841709 -0.0488155 0.646447 0.146447C0.451184 0.341709 0.451184 0.658291 0.646447 0.853553L1.35355 0.146447ZM4 3.5L3.64645 3.85355C3.84171 4.04882 4.15829 4.04882 4.35355 3.85355L4 3.5ZM7.35355 0.853553C7.54882 0.658291 7.54882 0.341709 7.35355 0.146447C7.15829 -0.0488155 6.84171 -0.0488155 6.64645 0.146447L7.35355 0.853553ZM0.646447 0.853553L3.64645 3.85355L4.35355 3.14645L1.35355 0.146447L0.646447 0.853553ZM4.35355 3.85355L7.35355 0.853553L6.64645 0.146447L3.64645 3.14645L4.35355 3.85355Z\\\" fill=\\\"#ADB5BD\\\"/>\\n\\n</symbol>\\n<symbol id=\\\"unlink\\\" viewBox=\\\"0 0 14 14\\\">\\n<path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M7.35302 3.30511L8.6548 1.95705C9.1144 1.52715 9.71219 1.29848 10.3249 1.31317C10.9412 1.32794 11.5319 1.58801 11.9731 2.04493C12.4149 2.50237 12.6722 3.12189 12.6868 3.77565C12.7014 4.42552 12.4748 5.0535 12.0583 5.5311L10.1943 7.45447L10.1931 7.45578C9.9688 7.6889 9.70323 7.8729 9.41209 7.99811C9.121 8.1233 8.80955 8.1875 8.49545 8.1875C8.18135 8.1875 7.8699 8.1233 7.57881 7.99811C7.28767 7.8729 7.0221 7.6889 6.79782 7.45578C6.60637 7.25678 6.28985 7.25066 6.09085 7.44211C5.89185 7.63356 5.88573 7.95009 6.07718 8.14909C6.39268 8.47703 6.76855 8.73821 7.18372 8.91676C7.59893 9.09533 8.04475 9.1875 8.49545 9.1875C8.94614 9.1875 9.39196 9.09533 9.80718 8.91676C10.2221 8.73833 10.5977 8.47737 10.9131 8.14974L10.9137 8.14909L12.7851 6.21802C12.7907 6.21228 12.7961 6.2064 12.8014 6.2004C13.3913 5.53016 13.7067 4.6536 13.6866 3.7533C13.6665 2.85297 13.3122 1.99203 12.6925 1.35027C12.0722 0.70799 11.2333 0.334658 10.3488 0.313455C9.46437 0.29225 8.60915 0.625022 7.96035 1.23739C7.95474 1.24269 7.94924 1.24812 7.94388 1.25368L6.63367 2.61045C6.44185 2.8091 6.44738 3.12563 6.64602 3.31745C6.84466 3.50928 7.16119 3.50375 7.35302 3.30511ZM4.58791 6.00189C4.879 5.8767 5.19045 5.8125 5.50455 5.8125C5.81865 5.8125 6.1301 5.8767 6.4212 6.00189C6.71233 6.1271 6.9779 6.3111 7.20218 6.54422C7.39363 6.74322 7.71015 6.74934 7.90915 6.55789C8.10815 6.36644 8.11427 6.04991 7.92282 5.85091C7.60732 5.52297 7.23145 5.26179 6.81628 5.08324C6.40107 4.90467 5.95525 4.8125 5.50455 4.8125C5.05386 4.8125 4.60804 4.90467 4.19282 5.08324C3.77794 5.26167 3.4023 5.52262 3.08693 5.85024L3.08628 5.85091L1.21488 7.78198C1.20932 7.78773 1.20389 7.7936 1.19861 7.7996C0.608683 8.46985 0.29328 9.3464 0.313407 10.2467C0.333536 11.147 0.687817 12.008 1.30754 12.6497C1.92778 13.292 2.76674 13.6653 3.65116 13.6865C4.53563 13.7078 5.39085 13.375 6.03965 12.7626C6.04526 12.7573 6.05076 12.7519 6.05612 12.7463L7.36633 11.3895C7.55815 11.1909 7.55262 10.8744 7.35398 10.6825C7.15534 10.4907 6.83881 10.4963 6.64698 10.6949L5.3452 12.0429C4.8856 12.4729 4.28781 12.7015 3.67513 12.6868C3.05881 12.6721 2.46812 12.412 2.02689 11.9551C1.58515 11.4976 1.32777 10.8781 1.31316 10.2244C1.29863 9.57448 1.52524 8.94649 1.94172 8.4689L3.80566 6.54553L3.80692 6.54422C4.0312 6.3111 4.29677 6.1271 4.58791 6.00189Z\\\"/>\\n\\n</symbol></svg>\";","module.exports = \".codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:\\\"\\\\feff \\\"}@media (min-width:201px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:201px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:201px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:\\\"\\\";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,transform;display:none}@media (max-width:200px){.ce-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}}@media (max-width:200px) and (max-width:200px){.ce-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}@media (max-width:200px){.ce-toolbar{padding:3px;margin-top:5px}.ce-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar--opened{display:block}@media (max-width:200px){.ce-toolbar--opened{display:-webkit-box;display:-ms-flexbox;display:flex}}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}@media (max-width:200px){.ce-toolbar__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0;max-width:100%}}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:3px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:200px){.ce-toolbar__plus{width:36px;height:36px}}.ce-toolbar__plus{-ms-flex-negative:0;flex-shrink:0;height:auto}.ce-toolbar__plus--active,.ce-toolbar__plus:hover{background-color:#eff2f5}.ce-toolbar__plus--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}.ce-toolbar__plus--hidden{visibility:hidden}@media (max-width:200px){.ce-toolbar__plus{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important;position:static;-webkit-transform:none!important;transform:none!important}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex}@media (max-width:200px){.ce-toolbar__actions{position:absolute;right:auto;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.ce-toolbar__actions--opened{opacity:1}.ce-toolbar__actions-buttons{text-align:right}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:3px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:200px){.ce-toolbar__settings-btn{width:36px;height:36px}}.ce-toolbar__settings-btn{width:18px;height:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn--active,.ce-toolbar__settings-btn:hover{background-color:#eff2f5}.ce-toolbar__settings-btn--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.codex-editor--toolbox-opened .ce-toolbar__actions{display:none}@media (min-width:201px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{position:absolute;visibility:hidden;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;top:30px;background-color:#fff;border-radius:8px;-webkit-box-shadow:0 8px 24px rgba(0,0,0,.1);box-shadow:0 8px 24px rgba(0,0,0,.1);width:220px;padding:8px 0}@media (max-width:200px){.ce-toolbox{position:static;-webkit-transform:none!important;transform:none!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto}}.ce-toolbox--opened{opacity:1;visibility:visible}.ce-toolbox__button{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:3px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}@media (max-width:200px){.ce-toolbox__button{width:36px;height:36px}}.ce-toolbox__button{-ms-flex-negative:0;flex-shrink:0;margin-left:5px}.ce-toolbox__button--active,.ce-toolbox__button:hover{background-color:#eff2f5}.ce-toolbox__button--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbox__block-button{list-style:none;margin:0;padding:8px 16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer}.ce-toolbox__block-button:hover{background-color:#e9ecef}.ce-toolbox__block-button:active{background-color:#f1f3f5}.ce-toolbox__block-button-icon{width:20px;height:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-toolbox__block-button-icon svg{fill:#868e96}.ce-toolbox__block-button-text{margin-left:4px;font-size:13px;line-height:18px;color:var(--gary8)}.ce-toolbox-button-tooltip__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}@media (min-width:201px){.codex-editor--narrow .ce-toolbox{background:#fff;z-index:2}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:200px){.ce-inline-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-inline-toolbar{border-radius:4px!important;border:none;-webkit-box-shadow:0 8px 24px rgba(0,0,0,.1);box-shadow:0 8px 24px rgba(0,0,0,.1);-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%}.ce-inline-toolbar__actions,.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__actions .unlink-button{background:inherit;border:none;-webkit-box-shadow:none;box-shadow:none;-webkit-tap-highlight-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;outline-style:none}.ce-inline-toolbar__actions .unlink-button:focus{outline:0}.ce-inline-toolbar__actions .unlink-button{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:end;font-weight:400;font-size:11px;line-height:16px;color:#868e96;padding:8px 10px 8px 0;cursor:pointer;white-space:nowrap;min-width:60px}.ce-inline-toolbar__actions .unlink-button,.ce-inline-toolbar__actions input{border-top:1px solid #dee2e6}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;padding:0 10px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid #dee2e6;border-radius:4px 0 0 4px}.ce-inline-toolbar__dropdown:hover{background:#e9ecef}.ce-inline-toolbar__dropdown:active{background:#f1f3f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:32px;height:32px;line-height:32px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 10px!important;min-width:24px}.ce-inline-tool--active{color:#4593fc}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool .icon{height:12px}.ce-inline-tool:last-child{border-radius:0 4px 4px 0}.ce-inline-tool:hover{background:#e9ecef}.ce-inline-tool:active{background:#f1f3f5}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:11px;line-height:16px;padding:8px 5px 8px 10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;color:#212529}.ce-inline-tool-input::-webkit-input-placeholder{color:#adb5bd}.ce-inline-tool-input::-moz-placeholder{color:#adb5bd}.ce-inline-tool-input:-ms-input-placeholder{color:#adb5bd}.ce-inline-tool-input::-ms-input-placeholder{color:#adb5bd}.ce-inline-tool-input::placeholder{color:#adb5bd}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:200px){.ce-conversion-toolbar{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:160px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box;padding-bottom:8px;border-radius:4px;border:none;-webkit-box-shadow:0 8px 24px rgba(0,0,0,.1);box-shadow:0 8px 24px rgba(0,0,0,.1)}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#868e96;font-size:11px;line-height:16px;padding:12px 12px 4px}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:4px 14.5px 4px 12px;font-size:13px;line-height:18px;color:#343a40;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#e9ecef}.ce-conversion-tool:active{background:#f1f3f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:.5px solid #dee2e6;border-radius:2px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:4px;background:#fff}.ce-conversion-tool__icon svg{fill:#343a40}.ce-conversion-tool__check-icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:auto;opacity:0;width:12px;height:8px}.ce-conversion-tool--current .ce-conversion-tool__check-icon{opacity:1}.ce-conversion-tool--current .ce-conversion-tool__check-icon svg{fill:#343a40}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#4593fc!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #e8e8eb;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;z-index:2}@media (max-width:200px){.ce-settings{-webkit-box-shadow:0 8px 6px -6px rgba(33,48,73,.19);box-shadow:0 8px 6px -6px rgba(33,48,73,.19);border-bottom-color:#c7c7c7}}.ce-settings{border:none;top:34px;left:51px;width:220px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:200px){.ce-settings{bottom:40px;right:auto;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:200px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-settings__plugin-zone:not(:empty){border-bottom:1px solid #dee2e6;padding:8px 0}.ce-settings__default-zone{padding:8px 0}.ce-settings__button{padding:8px 16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer}.ce-settings__button:hover{background-color:#e9ecef}.ce-settings__button:active{background-color:#f1f3f5}.ce-settings__button-icon-container{width:20px;height:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-settings__button-icon-container svg{fill:#868e96}.ce-settings__button-text{font-size:13px;line-height:18px;color:#343a40;margin-left:4px;white-space:nowrap}.ce-settings__button-shortcut-text{font-size:11px;line-height:16px;color:#adb5bd;margin-left:auto}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#4593fc}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:\\\"\\\";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #4593fc;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:\\\"\\\";position:absolute;top:100%;height:1px;width:100%;color:#4593fc;background:repeating-linear-gradient(90deg,#4593fc,#4593fc 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:201px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:32px;height:32px;line-height:32px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--active{color:#4593fc}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active svg{fill:#4593fc}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:\\\"\\\";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#4593fc;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width:200px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:201px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:201px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}\"","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport { urlAlphabet }\n","import { urlAlphabet } from './url-alphabet/index.js'\nif (process.env.NODE_ENV !== 'production') {\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you dont need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you dont need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, size, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * size) / alphabet.length)\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n"],"sourceRoot":""}